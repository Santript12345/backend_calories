(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Ud={exports:{}},Eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function iN(){if($0)return Eo;$0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Eo.Fragment=e,Eo.jsx=n,Eo.jsxs=n,Eo}var Q0;function sN(){return Q0||(Q0=1,Ud.exports=iN()),Ud.exports}var E=sN(),jd={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function rN(){if(Z0)return me;Z0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function x(R,F,Z){this.props=R,this.context=F,this.refs=A,this.updater=Z||T}x.prototype.isReactComponent={},x.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=x.prototype;function U(R,F,Z){this.props=R,this.context=F,this.refs=A,this.updater=Z||T}var k=U.prototype=new O;k.constructor=U,b(k,x.prototype),k.isPureReactComponent=!0;var G=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Q(R,F,Z,$,ie,Te){return Z=Te.ref,{$$typeof:t,type:R,key:F,ref:Z!==void 0?Z:null,props:Te}}function X(R,F){return Q(R.type,F,void 0,void 0,void 0,R.props)}function se(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function he(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return F[Z]})}var Ne=/\/+/g;function fe(R,F){return typeof R=="object"&&R!==null&&R.key!=null?he(""+R.key):F.toString(36)}function Me(){}function He(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Me,Me):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Re(R,F,Z,$,ie){var Te=typeof R;(Te==="undefined"||Te==="boolean")&&(R=null);var de=!1;if(R===null)de=!0;else switch(Te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(R.$$typeof){case t:case e:de=!0;break;case g:return de=R._init,Re(de(R._payload),F,Z,$,ie)}}if(de)return ie=ie(R),de=$===""?"."+fe(R,0):$,G(ie)?(Z="",de!=null&&(Z=de.replace(Ne,"$&/")+"/"),Re(ie,F,Z,"",function(bi){return bi})):ie!=null&&(se(ie)&&(ie=X(ie,Z+(ie.key==null||R&&R.key===ie.key?"":(""+ie.key).replace(Ne,"$&/")+"/")+de)),F.push(ie)),1;de=0;var qt=$===""?".":$+":";if(G(R))for(var Fe=0;Fe<R.length;Fe++)$=R[Fe],Te=qt+fe($,Fe),de+=Re($,F,Z,Te,ie);else if(Fe=v(R),typeof Fe=="function")for(R=Fe.call(R),Fe=0;!($=R.next()).done;)$=$.value,Te=qt+fe($,Fe++),de+=Re($,F,Z,Te,ie);else if(Te==="object"){if(typeof R.then=="function")return Re(He(R),F,Z,$,ie);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return de}function B(R,F,Z){if(R==null)return R;var $=[],ie=0;return Re(R,$,"","",function(Te){return F.call(Z,Te,ie++)}),$}function Y(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var J=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ee(){}return me.Children={map:B,forEach:function(R,F,Z){B(R,function(){F.apply(this,arguments)},Z)},count:function(R){var F=0;return B(R,function(){F++}),F},toArray:function(R){return B(R,function(F){return F})||[]},only:function(R){if(!se(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},me.Component=x,me.Fragment=n,me.Profiler=a,me.PureComponent=U,me.StrictMode=s,me.Suspense=d,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,me.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},me.cache=function(R){return function(){return R.apply(null,arguments)}},me.cloneElement=function(R,F,Z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var $=b({},R.props),ie=R.key,Te=void 0;if(F!=null)for(de in F.ref!==void 0&&(Te=void 0),F.key!==void 0&&(ie=""+F.key),F)!K.call(F,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&F.ref===void 0||($[de]=F[de]);var de=arguments.length-2;if(de===1)$.children=Z;else if(1<de){for(var qt=Array(de),Fe=0;Fe<de;Fe++)qt[Fe]=arguments[Fe+2];$.children=qt}return Q(R.type,ie,void 0,void 0,Te,$)},me.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},me.createElement=function(R,F,Z){var $,ie={},Te=null;if(F!=null)for($ in F.key!==void 0&&(Te=""+F.key),F)K.call(F,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=F[$]);var de=arguments.length-2;if(de===1)ie.children=Z;else if(1<de){for(var qt=Array(de),Fe=0;Fe<de;Fe++)qt[Fe]=arguments[Fe+2];ie.children=qt}if(R&&R.defaultProps)for($ in de=R.defaultProps,de)ie[$]===void 0&&(ie[$]=de[$]);return Q(R,Te,void 0,void 0,null,ie)},me.createRef=function(){return{current:null}},me.forwardRef=function(R){return{$$typeof:h,render:R}},me.isValidElement=se,me.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:Y}},me.memo=function(R,F){return{$$typeof:p,type:R,compare:F===void 0?null:F}},me.startTransition=function(R){var F=z.T,Z={};z.T=Z;try{var $=R(),ie=z.S;ie!==null&&ie(Z,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ee,J)}catch(Te){J(Te)}finally{z.T=F}},me.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},me.use=function(R){return z.H.use(R)},me.useActionState=function(R,F,Z){return z.H.useActionState(R,F,Z)},me.useCallback=function(R,F){return z.H.useCallback(R,F)},me.useContext=function(R){return z.H.useContext(R)},me.useDebugValue=function(){},me.useDeferredValue=function(R,F){return z.H.useDeferredValue(R,F)},me.useEffect=function(R,F,Z){var $=z.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(R,F)},me.useId=function(){return z.H.useId()},me.useImperativeHandle=function(R,F,Z){return z.H.useImperativeHandle(R,F,Z)},me.useInsertionEffect=function(R,F){return z.H.useInsertionEffect(R,F)},me.useLayoutEffect=function(R,F){return z.H.useLayoutEffect(R,F)},me.useMemo=function(R,F){return z.H.useMemo(R,F)},me.useOptimistic=function(R,F){return z.H.useOptimistic(R,F)},me.useReducer=function(R,F,Z){return z.H.useReducer(R,F,Z)},me.useRef=function(R){return z.H.useRef(R)},me.useState=function(R){return z.H.useState(R)},me.useSyncExternalStore=function(R,F,Z){return z.H.useSyncExternalStore(R,F,Z)},me.useTransition=function(){return z.H.useTransition()},me.version="19.1.0",me}var J0;function vm(){return J0||(J0=1,jd.exports=rN()),jd.exports}var C=vm(),Bd={exports:{}},To={},Vd={exports:{}},zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function aN(){return eS||(eS=1,function(t){function e(B,Y){var J=B.length;B.push(Y);e:for(;0<J;){var ee=J-1>>>1,R=B[ee];if(0<a(R,Y))B[ee]=Y,B[J]=R,J=ee;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Y=B[0],J=B.pop();if(J!==Y){B[0]=J;e:for(var ee=0,R=B.length,F=R>>>1;ee<F;){var Z=2*(ee+1)-1,$=B[Z],ie=Z+1,Te=B[ie];if(0>a($,J))ie<R&&0>a(Te,$)?(B[ee]=Te,B[ie]=J,ee=ie):(B[ee]=$,B[Z]=J,ee=Z);else if(ie<R&&0>a(Te,J))B[ee]=Te,B[ie]=J,ee=ie;else break e}}return Y}function a(B,Y){var J=B.sortIndex-Y.sortIndex;return J!==0?J:B.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],g=1,y=null,v=3,T=!1,b=!1,A=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(B){for(var Y=n(p);Y!==null;){if(Y.callback===null)s(p);else if(Y.startTime<=B)s(p),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(p)}}function z(B){if(A=!1,G(B),!b)if(n(d)!==null)b=!0,K||(K=!0,fe());else{var Y=n(p);Y!==null&&Re(z,Y.startTime-B)}}var K=!1,Q=-1,X=5,se=-1;function he(){return x?!0:!(t.unstable_now()-se<X)}function Ne(){if(x=!1,K){var B=t.unstable_now();se=B;var Y=!0;try{e:{b=!1,A&&(A=!1,U(Q),Q=-1),T=!0;var J=v;try{t:{for(G(B),y=n(d);y!==null&&!(y.expirationTime>B&&he());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,v=y.priorityLevel;var R=ee(y.expirationTime<=B);if(B=t.unstable_now(),typeof R=="function"){y.callback=R,G(B),Y=!0;break t}y===n(d)&&s(d),G(B)}else s(d);y=n(d)}if(y!==null)Y=!0;else{var F=n(p);F!==null&&Re(z,F.startTime-B),Y=!1}}break e}finally{y=null,v=J,T=!1}Y=void 0}}finally{Y?fe():K=!1}}}var fe;if(typeof k=="function")fe=function(){k(Ne)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,He=Me.port2;Me.port1.onmessage=Ne,fe=function(){He.postMessage(null)}}else fe=function(){O(Ne,0)};function Re(B,Y){Q=O(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var J=v;v=Y;try{return B()}finally{v=J}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=v;v=B;try{return Y()}finally{v=J}},t.unstable_scheduleCallback=function(B,Y,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=J+R,B={id:g++,callback:Y,priorityLevel:B,startTime:J,expirationTime:R,sortIndex:-1},J>ee?(B.sortIndex=J,e(p,B),n(d)===null&&B===n(p)&&(A?(U(Q),Q=-1):A=!0,Re(z,J-ee))):(B.sortIndex=R,e(d,B),b||T||(b=!0,K||(K=!0,fe()))),B},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(B){var Y=v;return function(){var J=v;v=Y;try{return B.apply(this,arguments)}finally{v=J}}}}(zd)),zd}var tS;function oN(){return tS||(tS=1,Vd.exports=aN()),Vd.exports}var Hd={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function lN(){if(nS)return Tt;nS=1;var t=vm();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tt.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,g)},Tt.flushSync=function(d){var p=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=p,s.p=g,s.d.f()}},Tt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},Tt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Tt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},Tt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},Tt.requestFormReset=function(d){s.d.r(d)},Tt.unstable_batchedUpdates=function(d,p){return d(p)},Tt.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.1.0",Tt}var iS;function uN(){if(iS)return Hd.exports;iS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hd.exports=lN(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function cN(){if(sS)return To;sS=1;var t=oN(),e=vm(),n=uN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function d(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return h(f),i;if(m===u)return h(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,u=m;break}if(S===u){_=!0,u=f,o=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===o){_=!0,o=m,u=f;break}if(S===u){_=!0,u=m,o=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=Ne&&i[Ne]||i["@@iterator"],typeof i=="function"?i:null)}var Me=Symbol.for("react.client.reference");function He(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case se:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case k:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case G:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Q:return r=i.displayName||null,r!==null?r:He(i.type)||"Memo";case X:r=i._payload,i=i._init;try{return He(i(r))}catch{}}return null}var Re=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ee=[],R=-1;function F(i){return{current:i}}function Z(i){0>R||(i.current=ee[R],ee[R]=null,R--)}function $(i,r){R++,ee[R]=i.current,i.current=r}var ie=F(null),Te=F(null),de=F(null),qt=F(null);function Fe(i,r){switch($(de,r),$(Te,i),$(ie,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?C0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=C0(r),i=w0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(ie),$(ie,i)}function bi(){Z(ie),Z(Te),Z(de)}function Ef(i){i.memoizedState!==null&&$(qt,i);var r=ie.current,o=w0(r,i.type);r!==o&&($(Te,i),$(ie,o))}function kl(i){Te.current===i&&(Z(ie),Z(Te)),qt.current===i&&(Z(qt),yo._currentValue=J)}var Tf=Object.prototype.hasOwnProperty,Cf=t.unstable_scheduleCallback,wf=t.unstable_cancelCallback,PA=t.unstable_shouldYield,LA=t.unstable_requestPaint,xn=t.unstable_now,UA=t.unstable_getCurrentPriorityLevel,sy=t.unstable_ImmediatePriority,ry=t.unstable_UserBlockingPriority,Pl=t.unstable_NormalPriority,jA=t.unstable_LowPriority,ay=t.unstable_IdlePriority,BA=t.log,VA=t.unstable_setDisableYieldValue,Ca=null,Gt=null;function Ei(i){if(typeof BA=="function"&&VA(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Ca,i)}catch{}}var Yt=Math.clz32?Math.clz32:FA,zA=Math.log,HA=Math.LN2;function FA(i){return i>>>=0,i===0?32:31-(zA(i)/HA|0)|0}var Ll=256,Ul=4194304;function cs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function jl(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=cs(u):(_&=S,_!==0?f=cs(_):o||(o=S&~i,o!==0&&(f=cs(o))))):(S=u&~m,S!==0?f=cs(S):_!==0?f=cs(_):o||(o=u&~i,o!==0&&(f=cs(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function wa(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function qA(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oy(){var i=Ll;return Ll<<=1,(Ll&4194048)===0&&(Ll=256),i}function ly(){var i=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),i}function Af(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Aa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function GA(i,r,o,u,f,m){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,w=i.expirationTimes,I=i.hiddenUpdates;for(o=_&~o;0<o;){var V=31-Yt(o),q=1<<V;S[V]=0,w[V]=-1;var P=I[V];if(P!==null)for(I[V]=null,V=0;V<P.length;V++){var L=P[V];L!==null&&(L.lane&=-536870913)}o&=~q}u!==0&&uy(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~r))}function uy(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Yt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function cy(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Yt(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Rf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fy(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:q0(i.type))}function YA(i,r){var o=Y.p;try{return Y.p=i,r()}finally{Y.p=o}}var Ti=Math.random().toString(36).slice(2),bt="__reactFiber$"+Ti,It="__reactProps$"+Ti,tr="__reactContainer$"+Ti,Nf="__reactEvents$"+Ti,KA="__reactListeners$"+Ti,WA="__reactHandles$"+Ti,hy="__reactResources$"+Ti,Ra="__reactMarker$"+Ti;function Of(i){delete i[bt],delete i[It],delete i[Nf],delete i[KA],delete i[WA]}function nr(i){var r=i[bt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[tr]||o[bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=N0(i);i!==null;){if(o=i[bt])return o;i=N0(i)}return r}i=o,o=i.parentNode}return null}function ir(i){if(i=i[bt]||i[tr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function xa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function sr(i){var r=i[hy];return r||(r=i[hy]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(i){i[Ra]=!0}var dy=new Set,py={};function fs(i,r){rr(i,r),rr(i+"Capture",r)}function rr(i,r){for(py[i]=r,i=0;i<r.length;i++)dy.add(r[i])}var XA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),my={},gy={};function $A(i){return Tf.call(gy,i)?!0:Tf.call(my,i)?!1:XA.test(i)?gy[i]=!0:(my[i]=!0,!1)}function Bl(i,r,o){if($A(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Vl(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Hn(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Df,yy;function ar(i){if(Df===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Df=r&&r[1]||"",yy=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Df+i+yy}var Mf=!1;function If(i,r){if(!i||Mf)return"";Mf=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(L){var P=L}Reflect.construct(i,[],q)}else{try{q.call()}catch(L){P=L}i.call(q.prototype)}}else{try{throw Error()}catch(L){P=L}(q=i())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(L){if(L&&P&&typeof L.stack=="string")return[L.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var w=_.split(`
`),I=S.split(`
`);for(f=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(u===w.length||f===I.length)for(u=w.length-1,f=I.length-1;1<=u&&0<=f&&w[u]!==I[f];)f--;for(;1<=u&&0<=f;u--,f--)if(w[u]!==I[f]){if(u!==1||f!==1)do if(u--,f--,0>f||w[u]!==I[f]){var V=`
`+w[u].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=u&&0<=f);break}}}finally{Mf=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ar(o):""}function QA(i){switch(i.tag){case 26:case 27:case 5:return ar(i.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return If(i.type,!1);case 11:return If(i.type.render,!1);case 1:return If(i.type,!0);case 31:return ar("Activity");default:return""}}function vy(i){try{var r="";do r+=QA(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function en(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _y(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ZA(i){var r=_y(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function zl(i){i._valueTracker||(i._valueTracker=ZA(i))}function Sy(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=_y(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Hl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var JA=/[\n"\\]/g;function tn(i){return i.replace(JA,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kf(i,r,o,u,f,m,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+en(r)):i.value!==""+en(r)&&(i.value=""+en(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Pf(i,_,en(r)):o!=null?Pf(i,_,en(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+en(S):i.removeAttribute("name")}function by(i,r,o,u,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;o=o!=null?""+en(o):"",r=r!=null?""+en(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function Pf(i,r,o){r==="number"&&Hl(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function or(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+en(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ey(i,r,o){if(r!=null&&(r=""+en(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+en(o):""}function Ty(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Re(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=en(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function lr(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var eR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cy(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||eR.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function wy(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Cy(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Cy(i,m,r[m])}function Lf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fl(i){return nR.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Uf=null;function jf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,cr=null;function Ay(i){var r=ir(i);if(r&&(i=r.stateNode)){var o=i[It]||null;e:switch(i=r.stateNode,r.type){case"input":if(kf(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[It]||null;if(!f)throw Error(s(90));kf(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Sy(u)}break e;case"textarea":Ey(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&or(i,!!o.multiple,r,!1)}}}var Bf=!1;function Ry(i,r,o){if(Bf)return i(r,o);Bf=!0;try{var u=i(r);return u}finally{if(Bf=!1,(ur!==null||cr!==null)&&(xu(),ur&&(r=ur,i=cr,cr=ur=null,Ay(r),i)))for(r=0;r<i.length;r++)Ay(i[r])}}function Na(i,r){var o=i.stateNode;if(o===null)return null;var u=o[It]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=!1;if(Fn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Vf=!1}var Ci=null,zf=null,ql=null;function xy(){if(ql)return ql;var i,r=zf,o=r.length,u,f="value"in Ci?Ci.value:Ci.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===f[m-u];u++);return ql=f.slice(i,1<u?1-u:void 0)}function Gl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Yl(){return!0}function Ny(){return!1}function kt(i){function r(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yl:Ny,this.isPropagationStopped=Ny,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),r}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=kt(hs),Da=g({},hs,{view:0,detail:0}),iR=kt(Da),Hf,Ff,Ma,Wl=g({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ma&&(Ma&&i.type==="mousemove"?(Hf=i.screenX-Ma.screenX,Ff=i.screenY-Ma.screenY):Ff=Hf=0,Ma=i),Hf)},movementY:function(i){return"movementY"in i?i.movementY:Ff}}),Oy=kt(Wl),sR=g({},Wl,{dataTransfer:0}),rR=kt(sR),aR=g({},Da,{relatedTarget:0}),qf=kt(aR),oR=g({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),lR=kt(oR),uR=g({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cR=kt(uR),fR=g({},hs,{data:0}),Dy=kt(fR),hR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mR(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=pR[i])?!!r[i]:!1}function Gf(){return mR}var gR=g({},Da,{key:function(i){if(i.key){var r=hR[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Gl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dR[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(i){return i.type==="keypress"?Gl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yR=kt(gR),vR=g({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),My=kt(vR),_R=g({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),SR=kt(_R),bR=g({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ER=kt(bR),TR=g({},Wl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=kt(TR),wR=g({},hs,{newState:0,oldState:0}),AR=kt(wR),RR=[9,13,27,32],Yf=Fn&&"CompositionEvent"in window,Ia=null;Fn&&"documentMode"in document&&(Ia=document.documentMode);var xR=Fn&&"TextEvent"in window&&!Ia,Iy=Fn&&(!Yf||Ia&&8<Ia&&11>=Ia),ky=" ",Py=!1;function Ly(i,r){switch(i){case"keyup":return RR.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fr=!1;function NR(i,r){switch(i){case"compositionend":return Uy(r);case"keypress":return r.which!==32?null:(Py=!0,ky);case"textInput":return i=r.data,i===ky&&Py?null:i;default:return null}}function OR(i,r){if(fr)return i==="compositionend"||!Yf&&Ly(i,r)?(i=xy(),ql=zf=Ci=null,fr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Iy&&r.locale!=="ko"?null:r.data;default:return null}}var DR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!DR[i.type]:r==="textarea"}function By(i,r,o,u){ur?cr?cr.push(u):cr=[u]:ur=u,r=ku(r,"onChange"),0<r.length&&(o=new Kl("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ka=null,Pa=null;function MR(i){_0(i,0)}function Xl(i){var r=xa(i);if(Sy(r))return i}function Vy(i,r){if(i==="change")return r}var zy=!1;if(Fn){var Kf;if(Fn){var Wf="oninput"in document;if(!Wf){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Wf=typeof Hy.oninput=="function"}Kf=Wf}else Kf=!1;zy=Kf&&(!document.documentMode||9<document.documentMode)}function Fy(){ka&&(ka.detachEvent("onpropertychange",qy),Pa=ka=null)}function qy(i){if(i.propertyName==="value"&&Xl(Pa)){var r=[];By(r,Pa,i,jf(i)),Ry(MR,r)}}function IR(i,r,o){i==="focusin"?(Fy(),ka=r,Pa=o,ka.attachEvent("onpropertychange",qy)):i==="focusout"&&Fy()}function kR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xl(Pa)}function PR(i,r){if(i==="click")return Xl(r)}function LR(i,r){if(i==="input"||i==="change")return Xl(r)}function UR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Kt=typeof Object.is=="function"?Object.is:UR;function La(i,r){if(Kt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Tf.call(r,f)||!Kt(i[f],r[f]))return!1}return!0}function Gy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yy(i,r){var o=Gy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gy(o)}}function Ky(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ky(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Wy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Hl(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Hl(i.document)}return r}function Xf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var jR=Fn&&"documentMode"in document&&11>=document.documentMode,hr=null,$f=null,Ua=null,Qf=!1;function Xy(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qf||hr==null||hr!==Hl(u)||(u=hr,"selectionStart"in u&&Xf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ua&&La(Ua,u)||(Ua=u,u=ku($f,"onSelect"),0<u.length&&(r=new Kl("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=hr)))}function ds(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var dr={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Zf={},$y={};Fn&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function ps(i){if(Zf[i])return Zf[i];if(!dr[i])return i;var r=dr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in $y)return Zf[i]=r[o];return i}var Qy=ps("animationend"),Zy=ps("animationiteration"),Jy=ps("animationstart"),BR=ps("transitionrun"),VR=ps("transitionstart"),zR=ps("transitioncancel"),ev=ps("transitionend"),tv=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function mn(i,r){tv.set(i,r),fs(r,[i])}var nv=new WeakMap;function nn(i,r){if(typeof i=="object"&&i!==null){var o=nv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:vy(r)},nv.set(i,r),r)}return{value:i,source:r,stack:vy(r)}}var sn=[],pr=0,eh=0;function $l(){for(var i=pr,r=eh=pr=0;r<i;){var o=sn[r];sn[r++]=null;var u=sn[r];sn[r++]=null;var f=sn[r];sn[r++]=null;var m=sn[r];if(sn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&iv(o,f,m)}}function Ql(i,r,o,u){sn[pr++]=i,sn[pr++]=r,sn[pr++]=o,sn[pr++]=u,eh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function th(i,r,o,u){return Ql(i,r,o,u),Zl(i)}function mr(i,r){return Ql(i,null,null,r),Zl(i)}function iv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Yt(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Zl(i){if(50<lo)throw lo=0,od=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var gr={};function HR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(i,r,o,u){return new HR(i,r,o,u)}function nh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qn(i,r){var o=i.alternate;return o===null?(o=Wt(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function sv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Jl(i,r,o,u,f,m){var _=0;if(u=i,typeof i=="function")nh(i)&&(_=1);else if(typeof i=="string")_=qx(i,o,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case se:return i=Wt(31,o,r,f),i.elementType=se,i.lanes=m,i;case b:return ms(o.children,f,m,r);case A:_=8,f|=24;break;case x:return i=Wt(12,o,r,f|2),i.elementType=x,i.lanes=m,i;case z:return i=Wt(13,o,r,f),i.elementType=z,i.lanes=m,i;case K:return i=Wt(19,o,r,f),i.elementType=K,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case k:_=10;break e;case U:_=9;break e;case G:_=11;break e;case Q:_=14;break e;case X:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Wt(_,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function ms(i,r,o,u){return i=Wt(7,i,u,r),i.lanes=o,i}function ih(i,r,o){return i=Wt(6,i,null,r),i.lanes=o,i}function sh(i,r,o){return r=Wt(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var yr=[],vr=0,eu=null,tu=0,rn=[],an=0,gs=null,Gn=1,Yn="";function ys(i,r){yr[vr++]=tu,yr[vr++]=eu,eu=i,tu=r}function rv(i,r,o){rn[an++]=Gn,rn[an++]=Yn,rn[an++]=gs,gs=i;var u=Gn;i=Yn;var f=32-Yt(u)-1;u&=~(1<<f),o+=1;var m=32-Yt(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Gn=1<<32-Yt(r)+f|o<<f|u,Yn=m+i}else Gn=1<<m|o<<f|u,Yn=i}function rh(i){i.return!==null&&(ys(i,1),rv(i,1,0))}function ah(i){for(;i===eu;)eu=yr[--vr],yr[vr]=null,tu=yr[--vr],yr[vr]=null;for(;i===gs;)gs=rn[--an],rn[an]=null,Yn=rn[--an],rn[an]=null,Gn=rn[--an],rn[an]=null}var Nt=null,Xe=null,xe=!1,vs=null,Nn=!1,oh=Error(s(519));function _s(i){var r=Error(s(418,""));throw Va(nn(r,i)),oh}function av(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[bt]=i,r[It]=u,o){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(o=0;o<co.length;o++)be(co[o],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":be("invalid",r),by(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zl(r);break;case"select":be("invalid",r);break;case"textarea":be("invalid",r),Ty(r,u.value,u.defaultValue,u.children),zl(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||T0(r.textContent,o)?(u.popover!=null&&(be("beforetoggle",r),be("toggle",r)),u.onScroll!=null&&be("scroll",r),u.onScrollEnd!=null&&be("scrollend",r),u.onClick!=null&&(r.onclick=Pu),r=!0):r=!1,r||_s(i)}function ov(i){for(Nt=i.return;Nt;)switch(Nt.tag){case 5:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Nt=Nt.return}}function ja(i){if(i!==Nt)return!1;if(!xe)return ov(i),xe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Td(i.type,i.memoizedProps)),o=!o),o&&Xe&&_s(i),ov(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){Xe=yn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}Xe=null}}else r===27?(r=Xe,Vi(i.type)?(i=Rd,Rd=null,Xe=i):Xe=r):Xe=Nt?yn(i.stateNode.nextSibling):null;return!0}function Ba(){Xe=Nt=null,xe=!1}function lv(){var i=vs;return i!==null&&(Ut===null?Ut=i:Ut.push.apply(Ut,i),vs=null),i}function Va(i){vs===null?vs=[i]:vs.push(i)}var lh=F(null),Ss=null,Kn=null;function wi(i,r,o){$(lh,r._currentValue),r._currentValue=o}function Wn(i){i._currentValue=lh.current,Z(lh)}function uh(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function ch(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var w=0;w<r.length;w++)if(S.context===r[w]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),uh(m.return,o,i),u||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),uh(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function za(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;Kt(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===qt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(yo):i=[yo])}f=f.return}i!==null&&ch(r,i,o,u),r.flags|=262144}function nu(i){for(i=i.firstContext;i!==null;){if(!Kt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function bs(i){Ss=i,Kn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Et(i){return uv(Ss,i)}function iu(i,r){return Ss===null&&bs(i),uv(i,r)}function uv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Kn===null){if(i===null)throw Error(s(308));Kn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Kn=Kn.next=r;return o}var FR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},qR=t.unstable_scheduleCallback,GR=t.unstable_NormalPriority,at={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new FR,data:new Map,refCount:0}}function Ha(i){i.refCount--,i.refCount===0&&qR(GR,function(){i.controller.abort()})}var Fa=null,hh=0,_r=0,Sr=null;function YR(i,r){if(Fa===null){var o=Fa=[];hh=0,_r=pd(),Sr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hh++,r.then(cv,cv),r}function cv(){if(--hh===0&&Fa!==null){Sr!==null&&(Sr.status="fulfilled");var i=Fa;Fa=null,_r=0,Sr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function KR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var fv=B.S;B.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&YR(i,r),fv!==null&&fv(i,r)};var Es=F(null);function dh(){var i=Es.current;return i!==null?i:Be.pooledCache}function su(i,r){r===null?$(Es,Es.current):$(Es,r.pool)}function hv(){var i=dh();return i===null?null:{parent:at._currentValue,pool:i}}var qa=Error(s(460)),dv=Error(s(474)),ru=Error(s(542)),ph={then:function(){}};function pv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function au(){}function mv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(au,au),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,yv(i),i;default:if(typeof r.status=="string")r.then(au,au);else{if(i=Be,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,yv(i),i}throw Ga=r,qa}}var Ga=null;function gv(){if(Ga===null)throw Error(s(459));var i=Ga;return Ga=null,i}function yv(i){if(i===qa||i===ru)throw Error(s(483))}var Ai=!1;function mh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gh(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xi(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Oe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Zl(i),iv(i,null,o),r}return Ql(i,u,r,o),Zl(i)}function Ya(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,cy(i,o)}}function yh(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var vh=!1;function Ka(){if(vh){var i=Sr;if(i!==null)throw i}}function Wa(i,r,o,u){vh=!1;var f=i.updateQueue;Ai=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var w=S,I=w.next;w.next=null,_===null?m=I:_.next=I,_=w;var V=i.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==_&&(S===null?V.firstBaseUpdate=I:S.next=I,V.lastBaseUpdate=w))}if(m!==null){var q=f.baseState;_=0,V=I=w=null,S=m;do{var P=S.lane&-536870913,L=P!==S.lane;if(L?(Ce&P)===P:(u&P)===P){P!==0&&P===_r&&(vh=!0),V!==null&&(V=V.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ue=i,re=S;P=r;var Pe=o;switch(re.tag){case 1:if(ue=re.payload,typeof ue=="function"){q=ue.call(Pe,q,P);break e}q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=re.payload,P=typeof ue=="function"?ue.call(Pe,q,P):ue,P==null)break e;q=g({},q,P);break e;case 2:Ai=!0}}P=S.callback,P!==null&&(i.flags|=64,L&&(i.flags|=8192),L=f.callbacks,L===null?f.callbacks=[P]:L.push(P))}else L={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(I=V=L,w=q):V=V.next=L,_|=P;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;L=S,S=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);V===null&&(w=q),f.baseState=w,f.firstBaseUpdate=I,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),Li|=_,i.lanes=_,i.memoizedState=q}}function vv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function _v(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)vv(o[i],r)}var br=F(null),ou=F(0);function Sv(i,r){i=ti,$(ou,i),$(br,r),ti=i|r.baseLanes}function _h(){$(ou,ti),$(br,br.current)}function Sh(){ti=ou.current,Z(br),Z(ou)}var Ni=0,ge=null,Ie=null,it=null,lu=!1,Er=!1,Ts=!1,uu=0,Xa=0,Tr=null,WR=0;function Je(){throw Error(s(321))}function bh(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Kt(i[o],r[o]))return!1;return!0}function Eh(i,r,o,u,f,m){return Ni=m,ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=i===null||i.memoizedState===null?i_:s_,Ts=!1,m=o(u,f),Ts=!1,Er&&(m=Ev(r,o,u,f)),bv(i),m}function bv(i){B.H=mu;var r=Ie!==null&&Ie.next!==null;if(Ni=0,it=Ie=ge=null,lu=!1,Xa=0,Tr=null,r)throw Error(s(300));i===null||ft||(i=i.dependencies,i!==null&&nu(i)&&(ft=!0))}function Ev(i,r,o,u){ge=i;var f=0;do{if(Er&&(Tr=null),Xa=0,Er=!1,25<=f)throw Error(s(301));if(f+=1,it=Ie=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=tx,m=r(o,u)}while(Er);return m}function XR(){var i=B.H,r=i.useState()[0];return r=typeof r.then=="function"?$a(r):r,i=i.useState()[0],(Ie!==null?Ie.memoizedState:null)!==i&&(ge.flags|=1024),r}function Th(){var i=uu!==0;return uu=0,i}function Ch(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function wh(i){if(lu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lu=!1}Ni=0,it=Ie=ge=null,Er=!1,Xa=uu=0,Tr=null}function Pt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ge.memoizedState=it=i:it=it.next=i,it}function st(){if(Ie===null){var i=ge.alternate;i=i!==null?i.memoizedState:null}else i=Ie.next;var r=it===null?ge.memoizedState:it.next;if(r!==null)it=r,Ie=i;else{if(i===null)throw ge.alternate===null?Error(s(467)):Error(s(310));Ie=i,i={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},it===null?ge.memoizedState=it=i:it=it.next=i}return it}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $a(i){var r=Xa;return Xa+=1,Tr===null&&(Tr=[]),i=mv(Tr,i,r),r=ge,(it===null?r.memoizedState:it.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?i_:s_),i}function cu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $a(i);if(i.$$typeof===k)return Et(i)}throw Error(s(438,String(i)))}function Rh(i){var r=null,o=ge.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ah(),ge.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=he;return r.index++,o}function Xn(i,r){return typeof r=="function"?r(i):r}function fu(i){var r=st();return xh(r,Ie,i)}function xh(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=_=null,w=null,I=r,V=!1;do{var q=I.lane&-536870913;if(q!==I.lane?(Ce&q)===q:(Ni&q)===q){var P=I.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),q===_r&&(V=!0);else if((Ni&P)===P){I=I.next,P===_r&&(V=!0);continue}else q={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},w===null?(S=w=q,_=m):w=w.next=q,ge.lanes|=P,Li|=P;q=I.action,Ts&&o(m,q),m=I.hasEagerState?I.eagerState:o(m,q)}else P={lane:q,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},w===null?(S=w=P,_=m):w=w.next=P,ge.lanes|=q,Li|=q;I=I.next}while(I!==null&&I!==r);if(w===null?_=m:w.next=S,!Kt(m,i.memoizedState)&&(ft=!0,V&&(o=Sr,o!==null)))throw o;i.memoizedState=m,i.baseState=_,i.baseQueue=w,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Nh(i){var r=st(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);Kt(m,r.memoizedState)||(ft=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function Tv(i,r,o){var u=ge,f=st(),m=xe;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Kt((Ie||f).memoizedState,o);_&&(f.memoizedState=o,ft=!0),f=f.queue;var S=Av.bind(null,u,f,i);if(Qa(2048,8,S,[i]),f.getSnapshot!==r||_||it!==null&&it.memoizedState.tag&1){if(u.flags|=2048,Cr(9,hu(),wv.bind(null,u,f,o,r),null),Be===null)throw Error(s(349));m||(Ni&124)!==0||Cv(u,r,o)}return o}function Cv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ge.updateQueue,r===null?(r=Ah(),ge.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function wv(i,r,o,u){r.value=o,r.getSnapshot=u,Rv(r)&&xv(i)}function Av(i,r,o){return o(function(){Rv(r)&&xv(i)})}function Rv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Kt(i,o)}catch{return!0}}function xv(i){var r=mr(i,2);r!==null&&Jt(r,i,2)}function Oh(i){var r=Pt();if(typeof i=="function"){var o=i;if(i=o(),Ts){Ei(!0);try{o()}finally{Ei(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:i},r}function Nv(i,r,o,u){return i.baseState=o,xh(i,Ie,typeof u=="function"?u:Xn)}function $R(i,r,o,u,f){if(pu(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};B.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,Ov(r,m)):(m.next=o.next,r.pending=o.next=m)}}function Ov(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=B.T,_={};B.T=_;try{var S=o(f,u),w=B.S;w!==null&&w(_,S),Dv(i,r,S)}catch(I){Dh(i,r,I)}finally{B.T=m}}else try{m=o(f,u),Dv(i,r,m)}catch(I){Dh(i,r,I)}}function Dv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Mv(i,r,u)},function(u){return Dh(i,r,u)}):Mv(i,r,o)}function Mv(i,r,o){r.status="fulfilled",r.value=o,Iv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Ov(i,o)))}function Dh(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Iv(r),r=r.next;while(r!==u)}i.action=null}function Iv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function kv(i,r){return r}function Pv(i,r){if(xe){var o=Be.formState;if(o!==null){e:{var u=ge;if(xe){if(Xe){t:{for(var f=Xe,m=Nn;f.nodeType!==8;){if(!m){f=null;break t}if(f=yn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Xe=yn(f.nextSibling),u=f.data==="F!";break e}}_s(u)}u=!1}u&&(r=o[0])}}return o=Pt(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:r},o.queue=u,o=e_.bind(null,ge,u),u.dispatch=o,u=Oh(!1),m=Lh.bind(null,ge,!1,u.queue),u=Pt(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=$R.bind(null,ge,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Lv(i){var r=st();return Uv(r,Ie,i)}function Uv(i,r,o){if(r=xh(i,r,kv)[0],i=fu(Xn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=$a(r)}catch(_){throw _===qa?ru:_}else u=r;r=st();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(ge.flags|=2048,Cr(9,hu(),QR.bind(null,f,o),null)),[u,m,i]}function QR(i,r){i.action=r}function jv(i){var r=st(),o=Ie;if(o!==null)return Uv(r,o,i);st(),r=r.memoizedState,o=st();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Cr(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=ge.updateQueue,r===null&&(r=Ah(),ge.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function hu(){return{destroy:void 0,resource:void 0}}function Bv(){return st().memoizedState}function du(i,r,o,u){var f=Pt();u=u===void 0?null:u,ge.flags|=i,f.memoizedState=Cr(1|r,hu(),o,u)}function Qa(i,r,o,u){var f=st();u=u===void 0?null:u;var m=f.memoizedState.inst;Ie!==null&&u!==null&&bh(u,Ie.memoizedState.deps)?f.memoizedState=Cr(r,m,o,u):(ge.flags|=i,f.memoizedState=Cr(1|r,m,o,u))}function Vv(i,r){du(8390656,8,i,r)}function zv(i,r){Qa(2048,8,i,r)}function Hv(i,r){return Qa(4,2,i,r)}function Fv(i,r){return Qa(4,4,i,r)}function qv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Gv(i,r,o){o=o!=null?o.concat([i]):null,Qa(4,4,qv.bind(null,r,i),o)}function Mh(){}function Yv(i,r){var o=st();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&bh(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Kv(i,r){var o=st();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&bh(r,u[1]))return u[0];if(u=i(),Ts){Ei(!0);try{i()}finally{Ei(!1)}}return o.memoizedState=[u,r],u}function Ih(i,r,o){return o===void 0||(Ni&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=$_(),ge.lanes|=i,Li|=i,o)}function Wv(i,r,o,u){return Kt(o,r)?o:br.current!==null?(i=Ih(i,o,u),Kt(i,r)||(ft=!0),i):(Ni&42)===0?(ft=!0,i.memoizedState=o):(i=$_(),ge.lanes|=i,Li|=i,r)}function Xv(i,r,o,u,f){var m=Y.p;Y.p=m!==0&&8>m?m:8;var _=B.T,S={};B.T=S,Lh(i,!1,r,o);try{var w=f(),I=B.S;if(I!==null&&I(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=KR(w,u);Za(i,r,V,Zt(i))}else Za(i,r,u,Zt(i))}catch(q){Za(i,r,{then:function(){},status:"rejected",reason:q},Zt())}finally{Y.p=m,B.T=_}}function ZR(){}function kh(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=$v(i).queue;Xv(i,f,r,J,o===null?ZR:function(){return Qv(i),o(u)})}function $v(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:J},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Qv(i){var r=$v(i).next.queue;Za(i,r,{},Zt())}function Ph(){return Et(yo)}function Zv(){return st().memoizedState}function Jv(){return st().memoizedState}function JR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Zt();i=Ri(o);var u=xi(r,i,o);u!==null&&(Jt(u,r,o),Ya(u,r,o)),r={cache:fh()},i.payload=r;return}r=r.return}}function ex(i,r,o){var u=Zt();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},pu(i)?t_(r,o):(o=th(i,r,o,u),o!==null&&(Jt(o,i,u),n_(o,r,u)))}function e_(i,r,o){var u=Zt();Za(i,r,o,u)}function Za(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(pu(i))t_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,S=m(_,o);if(f.hasEagerState=!0,f.eagerState=S,Kt(S,_))return Ql(i,r,f,0),Be===null&&$l(),!1}catch{}finally{}if(o=th(i,r,f,u),o!==null)return Jt(o,i,u),n_(o,r,u),!0}return!1}function Lh(i,r,o,u){if(u={lane:2,revertLane:pd(),action:u,hasEagerState:!1,eagerState:null,next:null},pu(i)){if(r)throw Error(s(479))}else r=th(i,o,u,2),r!==null&&Jt(r,i,2)}function pu(i){var r=i.alternate;return i===ge||r!==null&&r===ge}function t_(i,r){Er=lu=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function n_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,cy(i,o)}}var mu={readContext:Et,use:cu,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},i_={readContext:Et,use:cu,useCallback:function(i,r){return Pt().memoizedState=[i,r===void 0?null:r],i},useContext:Et,useEffect:Vv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,du(4194308,4,qv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return du(4194308,4,i,r)},useInsertionEffect:function(i,r){du(4,2,i,r)},useMemo:function(i,r){var o=Pt();r=r===void 0?null:r;var u=i();if(Ts){Ei(!0);try{i()}finally{Ei(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Pt();if(o!==void 0){var f=o(r);if(Ts){Ei(!0);try{o(r)}finally{Ei(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=ex.bind(null,ge,i),[u.memoizedState,i]},useRef:function(i){var r=Pt();return i={current:i},r.memoizedState=i},useState:function(i){i=Oh(i);var r=i.queue,o=e_.bind(null,ge,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Mh,useDeferredValue:function(i,r){var o=Pt();return Ih(o,i,r)},useTransition:function(){var i=Oh(!1);return i=Xv.bind(null,ge,i.queue,!0,!1),Pt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=ge,f=Pt();if(xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Be===null)throw Error(s(349));(Ce&124)!==0||Cv(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Vv(Av.bind(null,u,m,i),[i]),u.flags|=2048,Cr(9,hu(),wv.bind(null,u,m,o,r),null),o},useId:function(){var i=Pt(),r=Be.identifierPrefix;if(xe){var o=Yn,u=Gn;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=uu++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=WR++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Ph,useFormState:Pv,useActionState:Pv,useOptimistic:function(i){var r=Pt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Lh.bind(null,ge,!0,o),o.dispatch=r,[i,r]},useMemoCache:Rh,useCacheRefresh:function(){return Pt().memoizedState=JR.bind(null,ge)}},s_={readContext:Et,use:cu,useCallback:Yv,useContext:Et,useEffect:zv,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:Fv,useMemo:Kv,useReducer:fu,useRef:Bv,useState:function(){return fu(Xn)},useDebugValue:Mh,useDeferredValue:function(i,r){var o=st();return Wv(o,Ie.memoizedState,i,r)},useTransition:function(){var i=fu(Xn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:$a(i),r]},useSyncExternalStore:Tv,useId:Zv,useHostTransitionStatus:Ph,useFormState:Lv,useActionState:Lv,useOptimistic:function(i,r){var o=st();return Nv(o,Ie,i,r)},useMemoCache:Rh,useCacheRefresh:Jv},tx={readContext:Et,use:cu,useCallback:Yv,useContext:Et,useEffect:zv,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:Fv,useMemo:Kv,useReducer:Nh,useRef:Bv,useState:function(){return Nh(Xn)},useDebugValue:Mh,useDeferredValue:function(i,r){var o=st();return Ie===null?Ih(o,i,r):Wv(o,Ie.memoizedState,i,r)},useTransition:function(){var i=Nh(Xn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:$a(i),r]},useSyncExternalStore:Tv,useId:Zv,useHostTransitionStatus:Ph,useFormState:jv,useActionState:jv,useOptimistic:function(i,r){var o=st();return Ie!==null?Nv(o,Ie,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:Jv},wr=null,Ja=0;function gu(i){var r=Ja;return Ja+=1,wr===null&&(wr=[]),mv(wr,i,r)}function eo(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yu(i,r){throw r.$$typeof===y?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function r_(i){var r=i._init;return r(i._payload)}function a_(i){function r(D,N){if(i){var M=D.deletions;M===null?(D.deletions=[N],D.flags|=16):M.push(N)}}function o(D,N){if(!i)return null;for(;N!==null;)r(D,N),N=N.sibling;return null}function u(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function f(D,N){return D=qn(D,N),D.index=0,D.sibling=null,D}function m(D,N,M){return D.index=M,i?(M=D.alternate,M!==null?(M=M.index,M<N?(D.flags|=67108866,N):M):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function _(D){return i&&D.alternate===null&&(D.flags|=67108866),D}function S(D,N,M,H){return N===null||N.tag!==6?(N=ih(M,D.mode,H),N.return=D,N):(N=f(N,M),N.return=D,N)}function w(D,N,M,H){var te=M.type;return te===b?V(D,N,M.props.children,H,M.key):N!==null&&(N.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===X&&r_(te)===N.type)?(N=f(N,M.props),eo(N,M),N.return=D,N):(N=Jl(M.type,M.key,M.props,null,D.mode,H),eo(N,M),N.return=D,N)}function I(D,N,M,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=sh(M,D.mode,H),N.return=D,N):(N=f(N,M.children||[]),N.return=D,N)}function V(D,N,M,H,te){return N===null||N.tag!==7?(N=ms(M,D.mode,H,te),N.return=D,N):(N=f(N,M),N.return=D,N)}function q(D,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ih(""+N,D.mode,M),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v:return M=Jl(N.type,N.key,N.props,null,D.mode,M),eo(M,N),M.return=D,M;case T:return N=sh(N,D.mode,M),N.return=D,N;case X:var H=N._init;return N=H(N._payload),q(D,N,M)}if(Re(N)||fe(N))return N=ms(N,D.mode,M,null),N.return=D,N;if(typeof N.then=="function")return q(D,gu(N),M);if(N.$$typeof===k)return q(D,iu(D,N),M);yu(D,N)}return null}function P(D,N,M,H){var te=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return te!==null?null:S(D,N,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return M.key===te?w(D,N,M,H):null;case T:return M.key===te?I(D,N,M,H):null;case X:return te=M._init,M=te(M._payload),P(D,N,M,H)}if(Re(M)||fe(M))return te!==null?null:V(D,N,M,H,null);if(typeof M.then=="function")return P(D,N,gu(M),H);if(M.$$typeof===k)return P(D,N,iu(D,M),H);yu(D,M)}return null}function L(D,N,M,H,te){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return D=D.get(M)||null,S(N,D,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return D=D.get(H.key===null?M:H.key)||null,w(N,D,H,te);case T:return D=D.get(H.key===null?M:H.key)||null,I(N,D,H,te);case X:var ye=H._init;return H=ye(H._payload),L(D,N,M,H,te)}if(Re(H)||fe(H))return D=D.get(M)||null,V(N,D,H,te,null);if(typeof H.then=="function")return L(D,N,M,gu(H),te);if(H.$$typeof===k)return L(D,N,M,iu(N,H),te);yu(N,H)}return null}function ue(D,N,M,H){for(var te=null,ye=null,ne=N,ae=N=0,dt=null;ne!==null&&ae<M.length;ae++){ne.index>ae?(dt=ne,ne=null):dt=ne.sibling;var we=P(D,ne,M[ae],H);if(we===null){ne===null&&(ne=dt);break}i&&ne&&we.alternate===null&&r(D,ne),N=m(we,N,ae),ye===null?te=we:ye.sibling=we,ye=we,ne=dt}if(ae===M.length)return o(D,ne),xe&&ys(D,ae),te;if(ne===null){for(;ae<M.length;ae++)ne=q(D,M[ae],H),ne!==null&&(N=m(ne,N,ae),ye===null?te=ne:ye.sibling=ne,ye=ne);return xe&&ys(D,ae),te}for(ne=u(ne);ae<M.length;ae++)dt=L(ne,D,ae,M[ae],H),dt!==null&&(i&&dt.alternate!==null&&ne.delete(dt.key===null?ae:dt.key),N=m(dt,N,ae),ye===null?te=dt:ye.sibling=dt,ye=dt);return i&&ne.forEach(function(Gi){return r(D,Gi)}),xe&&ys(D,ae),te}function re(D,N,M,H){if(M==null)throw Error(s(151));for(var te=null,ye=null,ne=N,ae=N=0,dt=null,we=M.next();ne!==null&&!we.done;ae++,we=M.next()){ne.index>ae?(dt=ne,ne=null):dt=ne.sibling;var Gi=P(D,ne,we.value,H);if(Gi===null){ne===null&&(ne=dt);break}i&&ne&&Gi.alternate===null&&r(D,ne),N=m(Gi,N,ae),ye===null?te=Gi:ye.sibling=Gi,ye=Gi,ne=dt}if(we.done)return o(D,ne),xe&&ys(D,ae),te;if(ne===null){for(;!we.done;ae++,we=M.next())we=q(D,we.value,H),we!==null&&(N=m(we,N,ae),ye===null?te=we:ye.sibling=we,ye=we);return xe&&ys(D,ae),te}for(ne=u(ne);!we.done;ae++,we=M.next())we=L(ne,D,ae,we.value,H),we!==null&&(i&&we.alternate!==null&&ne.delete(we.key===null?ae:we.key),N=m(we,N,ae),ye===null?te=we:ye.sibling=we,ye=we);return i&&ne.forEach(function(nN){return r(D,nN)}),xe&&ys(D,ae),te}function Pe(D,N,M,H){if(typeof M=="object"&&M!==null&&M.type===b&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case v:e:{for(var te=M.key;N!==null;){if(N.key===te){if(te=M.type,te===b){if(N.tag===7){o(D,N.sibling),H=f(N,M.props.children),H.return=D,D=H;break e}}else if(N.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===X&&r_(te)===N.type){o(D,N.sibling),H=f(N,M.props),eo(H,M),H.return=D,D=H;break e}o(D,N);break}else r(D,N);N=N.sibling}M.type===b?(H=ms(M.props.children,D.mode,H,M.key),H.return=D,D=H):(H=Jl(M.type,M.key,M.props,null,D.mode,H),eo(H,M),H.return=D,D=H)}return _(D);case T:e:{for(te=M.key;N!==null;){if(N.key===te)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){o(D,N.sibling),H=f(N,M.children||[]),H.return=D,D=H;break e}else{o(D,N);break}else r(D,N);N=N.sibling}H=sh(M,D.mode,H),H.return=D,D=H}return _(D);case X:return te=M._init,M=te(M._payload),Pe(D,N,M,H)}if(Re(M))return ue(D,N,M,H);if(fe(M)){if(te=fe(M),typeof te!="function")throw Error(s(150));return M=te.call(M),re(D,N,M,H)}if(typeof M.then=="function")return Pe(D,N,gu(M),H);if(M.$$typeof===k)return Pe(D,N,iu(D,M),H);yu(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,N!==null&&N.tag===6?(o(D,N.sibling),H=f(N,M),H.return=D,D=H):(o(D,N),H=ih(M,D.mode,H),H.return=D,D=H),_(D)):o(D,N)}return function(D,N,M,H){try{Ja=0;var te=Pe(D,N,M,H);return wr=null,te}catch(ne){if(ne===qa||ne===ru)throw ne;var ye=Wt(29,ne,null,D.mode);return ye.lanes=H,ye.return=D,ye}finally{}}}var Ar=a_(!0),o_=a_(!1),on=F(null),On=null;function Oi(i){var r=i.alternate;$(ot,ot.current&1),$(on,i),On===null&&(r===null||br.current!==null||r.memoizedState!==null)&&(On=i)}function l_(i){if(i.tag===22){if($(ot,ot.current),$(on,i),On===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(On=i)}}else Di()}function Di(){$(ot,ot.current),$(on,on.current)}function $n(i){Z(on),On===i&&(On=null),Z(ot)}var ot=F(0);function vu(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ad(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Uh(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:g({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jh={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Zt(),f=Ri(u);f.payload=r,o!=null&&(f.callback=o),r=xi(i,f,u),r!==null&&(Jt(r,i,u),Ya(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Zt(),f=Ri(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=xi(i,f,u),r!==null&&(Jt(r,i,u),Ya(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Zt(),u=Ri(o);u.tag=2,r!=null&&(u.callback=r),r=xi(i,u,o),r!==null&&(Jt(r,i,o),Ya(r,i,o))}};function u_(i,r,o,u,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!La(o,u)||!La(f,m):!0}function c_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&jh.enqueueReplaceState(r,r.state,null)}function Cs(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=g({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var _u=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function f_(i){_u(i)}function h_(i){console.error(i)}function d_(i){_u(i)}function Su(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function p_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bh(i,r,o){return o=Ri(o),o.tag=3,o.payload={element:null},o.callback=function(){Su(i,r)},o}function m_(i){return i=Ri(i),i.tag=3,i}function g_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){p_(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){p_(r,o,u),typeof f!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function nx(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&za(r,o,f,!0),o=on.current,o!==null){switch(o.tag){case 13:return On===null?ud():o.alternate===null&&$e===0&&($e=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),fd(i,u,f)),!1;case 22:return o.flags|=65536,u===ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),fd(i,u,f)),!1}throw Error(s(435,o.tag))}return fd(i,u,f),ud(),!1}if(xe)return r=on.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==oh&&(i=Error(s(422),{cause:u}),Va(nn(i,o)))):(u!==oh&&(r=Error(s(423),{cause:u}),Va(nn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=nn(u,o),f=Bh(i.stateNode,u,f),yh(i,f),$e!==4&&($e=2)),!1;var m=Error(s(520),{cause:u});if(m=nn(m,o),oo===null?oo=[m]:oo.push(m),$e!==4&&($e=2),r===null)return!0;u=nn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Bh(o.stateNode,u,i),yh(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ui===null||!Ui.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=m_(f),g_(f,i,o,u),yh(o,f),!1}o=o.return}while(o!==null);return!1}var y_=Error(s(461)),ft=!1;function yt(i,r,o,u){r.child=i===null?o_(r,null,o,u):Ar(r,i.child,o,u)}function v_(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return bs(r),u=Eh(i,r,o,_,m,f),S=Th(),i!==null&&!ft?(Ch(i,r,f),Qn(i,r,f)):(xe&&S&&rh(r),r.flags|=1,yt(i,r,u,f),r.child)}function __(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!nh(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,S_(i,r,m,u,f)):(i=Jl(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Kh(i,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:La,o(_,u)&&i.ref===r.ref)return Qn(i,r,f)}return r.flags|=1,i=qn(m,u),i.ref=r.ref,i.return=r,r.child=i}function S_(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(La(m,u)&&i.ref===r.ref)if(ft=!1,r.pendingProps=u=m,Kh(i,f))(i.flags&131072)!==0&&(ft=!0);else return r.lanes=i.lanes,Qn(i,r,f)}return Vh(i,r,o,u,f)}function b_(i,r,o){var u=r.pendingProps,f=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return E_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&su(r,m!==null?m.cachePool:null),m!==null?Sv(r,m):_h(),l_(r);else return r.lanes=r.childLanes=536870912,E_(i,r,m!==null?m.baseLanes|o:o,o)}else m!==null?(su(r,m.cachePool),Sv(r,m),Di(),r.memoizedState=null):(i!==null&&su(r,null),_h(),Di());return yt(i,r,f,o),r.child}function E_(i,r,o,u){var f=dh();return f=f===null?null:{parent:at._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&su(r,null),_h(),l_(r),i!==null&&za(i,r,u,!0),null}function bu(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Vh(i,r,o,u,f){return bs(r),o=Eh(i,r,o,u,void 0,f),u=Th(),i!==null&&!ft?(Ch(i,r,f),Qn(i,r,f)):(xe&&u&&rh(r),r.flags|=1,yt(i,r,o,f),r.child)}function T_(i,r,o,u,f,m){return bs(r),r.updateQueue=null,o=Ev(r,u,o,f),bv(i),u=Th(),i!==null&&!ft?(Ch(i,r,m),Qn(i,r,m)):(xe&&u&&rh(r),r.flags|=1,yt(i,r,o,m),r.child)}function C_(i,r,o,u,f){if(bs(r),r.stateNode===null){var m=gr,_=o.contextType;typeof _=="object"&&_!==null&&(m=Et(_)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jh,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},mh(r),_=o.contextType,m.context=typeof _=="object"&&_!==null?Et(_):gr,m.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Uh(r,o,_,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&jh.enqueueReplaceState(m,m.state,null),Wa(r,u,m,f),Ka(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,w=Cs(o,S);m.props=w;var I=m.context,V=o.contextType;_=gr,typeof V=="object"&&V!==null&&(_=Et(V));var q=o.getDerivedStateFromProps;V=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||I!==_)&&c_(r,m,u,_),Ai=!1;var P=r.memoizedState;m.state=P,Wa(r,u,m,f),Ka(),I=r.memoizedState,S||P!==I||Ai?(typeof q=="function"&&(Uh(r,o,q,u),I=r.memoizedState),(w=Ai||u_(r,o,w,u,P,I,_))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=I),m.props=u,m.state=I,m.context=_,u=w):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,gh(i,r),_=r.memoizedProps,V=Cs(o,_),m.props=V,q=r.pendingProps,P=m.context,I=o.contextType,w=gr,typeof I=="object"&&I!==null&&(w=Et(I)),S=o.getDerivedStateFromProps,(I=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==q||P!==w)&&c_(r,m,u,w),Ai=!1,P=r.memoizedState,m.state=P,Wa(r,u,m,f),Ka();var L=r.memoizedState;_!==q||P!==L||Ai||i!==null&&i.dependencies!==null&&nu(i.dependencies)?(typeof S=="function"&&(Uh(r,o,S,u),L=r.memoizedState),(V=Ai||u_(r,o,V,u,P,L,w)||i!==null&&i.dependencies!==null&&nu(i.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,L,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,L,w)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=L),m.props=u,m.state=L,m.context=w,u=V):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&P===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,bu(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=Ar(r,i.child,null,f),r.child=Ar(r,null,o,f)):yt(i,r,o,f),r.memoizedState=m.state,i=r.child):i=Qn(i,r,f),i}function w_(i,r,o,u){return Ba(),r.flags|=256,yt(i,r,o,u),r.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(i){return{baseLanes:i,cachePool:hv()}}function Fh(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ln),i}function A_(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(ot.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(xe){if(f?Oi(r):Di(),xe){var S=Xe,w;if(w=S){e:{for(w=S,S=Nn;w.nodeType!==8;){if(!S){S=null;break e}if(w=yn(w.nextSibling),w===null){S=null;break e}}S=w}S!==null?(r.memoizedState={dehydrated:S,treeContext:gs!==null?{id:Gn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},w=Wt(18,null,null,0),w.stateNode=S,w.return=r,r.child=w,Nt=r,Xe=null,w=!0):w=!1}w||_s(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ad(S)?r.lanes=32:r.lanes=536870912,null;$n(r)}return S=u.children,u=u.fallback,f?(Di(),f=r.mode,S=Eu({mode:"hidden",children:S},f),u=ms(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=Hh(o),f.childLanes=Fh(i,_,o),r.memoizedState=zh,u):(Oi(r),qh(r,S))}if(w=i.memoizedState,w!==null&&(S=w.dehydrated,S!==null)){if(m)r.flags&256?(Oi(r),r.flags&=-257,r=Gh(i,r,o)):r.memoizedState!==null?(Di(),r.child=i.child,r.flags|=128,r=null):(Di(),f=u.fallback,S=r.mode,u=Eu({mode:"visible",children:u.children},S),f=ms(f,S,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ar(r,i.child,null,o),u=r.child,u.memoizedState=Hh(o),u.childLanes=Fh(i,_,o),r.memoizedState=zh,r=f);else if(Oi(r),Ad(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var I=_.dgst;_=I,u=Error(s(419)),u.stack="",u.digest=_,Va({value:u,source:null,stack:null}),r=Gh(i,r,o)}else if(ft||za(i,r,o,!1),_=(o&i.childLanes)!==0,ft||_){if(_=Be,_!==null&&(u=o&-o,u=(u&42)!==0?1:Rf(u),u=(u&(_.suspendedLanes|o))!==0?0:u,u!==0&&u!==w.retryLane))throw w.retryLane=u,mr(i,u),Jt(_,i,u),y_;S.data==="$?"||ud(),r=Gh(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=w.treeContext,Xe=yn(S.nextSibling),Nt=r,xe=!0,vs=null,Nn=!1,i!==null&&(rn[an++]=Gn,rn[an++]=Yn,rn[an++]=gs,Gn=i.id,Yn=i.overflow,gs=r),r=qh(r,u.children),r.flags|=4096);return r}return f?(Di(),f=u.fallback,S=r.mode,w=i.child,I=w.sibling,u=qn(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,I!==null?f=qn(I,f):(f=ms(f,S,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=i.child.memoizedState,S===null?S=Hh(o):(w=S.cachePool,w!==null?(I=at._currentValue,w=w.parent!==I?{parent:I,pool:I}:w):w=hv(),S={baseLanes:S.baseLanes|o,cachePool:w}),f.memoizedState=S,f.childLanes=Fh(i,_,o),r.memoizedState=zh,u):(Oi(r),o=i.child,i=o.sibling,o=qn(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function qh(i,r){return r=Eu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Eu(i,r){return i=Wt(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gh(i,r,o){return Ar(r,i.child,null,o),i=qh(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function R_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),uh(i.return,r,o)}function Yh(i,r,o,u,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function x_(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(yt(i,r,u.children,o),u=ot.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&R_(i,o,r);else if(i.tag===19)R_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch($(ot,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&vu(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Yh(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&vu(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Yh(r,!0,o,null,m);break;case"together":Yh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qn(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Li|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(za(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=qn(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=qn(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Kh(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&nu(i)))}function ix(i,r,o){switch(r.tag){case 3:Fe(r,r.stateNode.containerInfo),wi(r,at,i.memoizedState.cache),Ba();break;case 27:case 5:Ef(r);break;case 4:Fe(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Oi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?A_(i,r,o):(Oi(r),i=Qn(i,r,o),i!==null?i.sibling:null);Oi(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(za(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return x_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(ot,ot.current),u)break;return null;case 22:case 23:return r.lanes=0,b_(i,r,o);case 24:wi(r,at,i.memoizedState.cache)}return Qn(i,r,o)}function N_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ft=!0;else{if(!Kh(i,o)&&(r.flags&128)===0)return ft=!1,ix(i,r,o);ft=(i.flags&131072)!==0}else ft=!1,xe&&(r.flags&1048576)!==0&&rv(r,tu,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")nh(u)?(i=Cs(u,i),r.tag=1,r=C_(null,r,u,i,o)):(r.tag=0,r=Vh(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===G){r.tag=11,r=v_(null,r,u,i,o);break e}else if(f===Q){r.tag=14,r=__(null,r,u,i,o);break e}}throw r=He(u)||u,Error(s(306,r,""))}}return r;case 0:return Vh(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Cs(u,r.pendingProps),C_(i,r,u,f,o);case 3:e:{if(Fe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,gh(i,r),Wa(r,u,null,o);var _=r.memoizedState;if(u=_.cache,wi(r,at,u),u!==m.cache&&ch(r,[at],o,!0),Ka(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=w_(i,r,u,o);break e}else if(u!==f){f=nn(Error(s(424)),r),Va(f),r=w_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xe=yn(i.firstChild),Nt=r,xe=!0,vs=null,Nn=!0,o=o_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ba(),u===f){r=Qn(i,r,o);break e}yt(i,r,u,o)}r=r.child}return r;case 26:return bu(i,r),i===null?(o=I0(r.type,null,r.pendingProps,null))?r.memoizedState=o:xe||(o=r.type,i=r.pendingProps,u=Lu(de.current).createElement(o),u[bt]=r,u[It]=i,_t(u,o,i),ct(u),r.stateNode=u):r.memoizedState=I0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ef(r),i===null&&xe&&(u=r.stateNode=O0(r.type,r.pendingProps,de.current),Nt=r,Nn=!0,f=Xe,Vi(r.type)?(Rd=f,Xe=yn(u.firstChild)):Xe=f),yt(i,r,r.pendingProps.children,o),bu(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&xe&&((f=u=Xe)&&(u=Dx(u,r.type,r.pendingProps,Nn),u!==null?(r.stateNode=u,Nt=r,Xe=yn(u.firstChild),Nn=!1,f=!0):f=!1),f||_s(r)),Ef(r),f=r.type,m=r.pendingProps,_=i!==null?i.memoizedProps:null,u=m.children,Td(f,m)?u=null:_!==null&&Td(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Eh(i,r,XR,null,null,o),yo._currentValue=f),bu(i,r),yt(i,r,u,o),r.child;case 6:return i===null&&xe&&((i=o=Xe)&&(o=Mx(o,r.pendingProps,Nn),o!==null?(r.stateNode=o,Nt=r,Xe=null,i=!0):i=!1),i||_s(r)),null;case 13:return A_(i,r,o);case 4:return Fe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ar(r,null,u,o):yt(i,r,u,o),r.child;case 11:return v_(i,r,r.type,r.pendingProps,o);case 7:return yt(i,r,r.pendingProps,o),r.child;case 8:return yt(i,r,r.pendingProps.children,o),r.child;case 12:return yt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,wi(r,r.type,u.value),yt(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,bs(r),f=Et(f),u=u(f),r.flags|=1,yt(i,r,u,o),r.child;case 14:return __(i,r,r.type,r.pendingProps,o);case 15:return S_(i,r,r.type,r.pendingProps,o);case 19:return x_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Eu(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=qn(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return b_(i,r,o);case 24:return bs(r),u=Et(at),i===null?(f=dh(),f===null&&(f=Be,m=fh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},mh(r),wi(r,at,f)):((i.lanes&o)!==0&&(gh(i,r),Wa(r,null,null,o),Ka()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),wi(r,at,u)):(u=m.cache,wi(r,at,u),u!==f.cache&&ch(r,[at],o,!0))),yt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zn(i){i.flags|=4}function O_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!j0(r)){if(r=on.current,r!==null&&((Ce&4194048)===Ce?On!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||r!==On))throw Ga=ph,dv;i.flags|=8192}}function Tu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ly():536870912,i.lanes|=r,Or|=r)}function to(i,r){if(!xe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Ke(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function sx(i,r,o){var u=r.pendingProps;switch(ah(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(r),null;case 1:return Ke(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wn(at),bi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ja(r)?Zn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lv())),Ke(r),null;case 26:return o=r.memoizedState,i===null?(Zn(r),o!==null?(Ke(r),O_(r,o)):(Ke(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Zn(r),Ke(r),O_(r,o)):(Ke(r),r.flags&=-16777217):(i.memoizedProps!==u&&Zn(r),Ke(r),r.flags&=-16777217),null;case 27:kl(r),o=de.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ke(r),null}i=ie.current,ja(r)?av(r):(i=O0(f,u,o),r.stateNode=i,Zn(r))}return Ke(r),null;case 5:if(kl(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ke(r),null}if(i=ie.current,ja(r))av(r);else{switch(f=Lu(de.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[bt]=r,i[It]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(_t(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zn(r)}}return Ke(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Zn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=de.current,ja(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Nt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[bt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||T0(i.nodeValue,o)),i||_s(r)}else i=Lu(i).createTextNode(u),i[bt]=r,r.stateNode=i}return Ke(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=ja(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else Ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ke(r),f=!1}else f=lv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($n(r),r):($n(r),null)}if($n(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Tu(r,r.updateQueue),Ke(r),null;case 4:return bi(),i===null&&vd(r.stateNode.containerInfo),Ke(r),null;case 10:return Wn(r.type),Ke(r),null;case 19:if(Z(ot),f=r.memoizedState,f===null)return Ke(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)to(f,!1);else{if($e!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=vu(i),m!==null){for(r.flags|=128,to(f,!1),i=m.updateQueue,r.updateQueue=i,Tu(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)sv(o,i),o=o.sibling;return $(ot,ot.current&1|2),r.child}i=i.sibling}f.tail!==null&&xn()>Au&&(r.flags|=128,u=!0,to(f,!1),r.lanes=4194304)}else{if(!u)if(i=vu(m),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Tu(r,i),to(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!xe)return Ke(r),null}else 2*xn()-f.renderingStartTime>Au&&o!==536870912&&(r.flags|=128,u=!0,to(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=xn(),r.sibling=null,i=ot.current,$(ot,u?i&1|2:i&1),r):(Ke(r),null);case 22:case 23:return $n(r),Sh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Ke(r),r.subtreeFlags&6&&(r.flags|=8192)):Ke(r),o=r.updateQueue,o!==null&&Tu(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&Z(Es),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Wn(at),Ke(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rx(i,r){switch(ah(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Wn(at),bi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return kl(r),null;case 13:if($n(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Z(ot),null;case 4:return bi(),null;case 10:return Wn(r.type),null;case 22:case 23:return $n(r),Sh(),i!==null&&Z(Es),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Wn(at),null;case 25:return null;default:return null}}function D_(i,r){switch(ah(r),r.tag){case 3:Wn(at),bi();break;case 26:case 27:case 5:kl(r);break;case 4:bi();break;case 13:$n(r);break;case 19:Z(ot);break;case 10:Wn(r.type);break;case 22:case 23:$n(r),Sh(),i!==null&&Z(Es);break;case 24:Wn(at)}}function no(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(S){Ue(r,r.return,S)}}function Mi(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var w=o,I=S;try{I()}catch(V){Ue(f,w,V)}}}u=u.next}while(u!==m)}}catch(V){Ue(r,r.return,V)}}function M_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{_v(r,o)}catch(u){Ue(i,i.return,u)}}}function I_(i,r,o){o.props=Cs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ue(i,r,u)}}function io(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Ue(i,r,f)}}function Dn(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Ue(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ue(i,r,f)}else o.current=null}function k_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Ue(i,i.return,f)}}function Wh(i,r,o){try{var u=i.stateNode;Ax(u,i.type,o,r),u[It]=r}catch(f){Ue(i,i.return,f)}}function P_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vi(i.type)||i.tag===4}function Xh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $h(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Pu));else if(u!==4&&(u===27&&Vi(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for($h(i,r,o),i=i.sibling;i!==null;)$h(i,r,o),i=i.sibling}function Cu(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Vi(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Cu(i,r,o),i=i.sibling;i!==null;)Cu(i,r,o),i=i.sibling}function L_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);_t(r,u,o),r[bt]=i,r[It]=o}catch(m){Ue(i,i.return,m)}}var Jn=!1,et=!1,Qh=!1,U_=typeof WeakSet=="function"?WeakSet:Set,ht=null;function ax(i,r){if(i=i.containerInfo,bd=Hu,i=Wy(i),Xf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,S=-1,w=-1,I=0,V=0,q=i,P=null;t:for(;;){for(var L;q!==o||f!==0&&q.nodeType!==3||(S=_+f),q!==m||u!==0&&q.nodeType!==3||(w=_+u),q.nodeType===3&&(_+=q.nodeValue.length),(L=q.firstChild)!==null;)P=q,q=L;for(;;){if(q===i)break t;if(P===o&&++I===f&&(S=_),P===m&&++V===u&&(w=_),(L=q.nextSibling)!==null)break;q=P,P=q.parentNode}q=L}o=S===-1||w===-1?null:{start:S,end:w}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ed={focusedElem:i,selectionRange:o},Hu=!1,ht=r;ht!==null;)if(r=ht,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,ht=i;else for(;ht!==null;){switch(r=ht,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ue=Cs(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ue,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(re){Ue(o,o.return,re)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)wd(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,ht=i;break}ht=r.return}}function j_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ii(i,o),u&4&&no(5,o);break;case 1:if(Ii(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){Ue(o,o.return,_)}else{var f=Cs(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Ue(o,o.return,_)}}u&64&&M_(o),u&512&&io(o,o.return);break;case 3:if(Ii(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{_v(i,r)}catch(_){Ue(o,o.return,_)}}break;case 27:r===null&&u&4&&L_(o);case 26:case 5:Ii(i,o),r===null&&u&4&&k_(o),u&512&&io(o,o.return);break;case 12:Ii(i,o);break;case 13:Ii(i,o),u&4&&z_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=mx.bind(null,o),Ix(i,o))));break;case 22:if(u=o.memoizedState!==null||Jn,!u){r=r!==null&&r.memoizedState!==null||et,f=Jn;var m=et;Jn=u,(et=r)&&!m?ki(i,o,(o.subtreeFlags&8772)!==0):Ii(i,o),Jn=f,et=m}break;case 30:break;default:Ii(i,o)}}function B_(i){var r=i.alternate;r!==null&&(i.alternate=null,B_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Of(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qe=null,Lt=!1;function ei(i,r,o){for(o=o.child;o!==null;)V_(i,r,o),o=o.sibling}function V_(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ca,o)}catch{}switch(o.tag){case 26:et||Dn(o,r),ei(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:et||Dn(o,r);var u=qe,f=Lt;Vi(o.type)&&(qe=o.stateNode,Lt=!1),ei(i,r,o),ho(o.stateNode),qe=u,Lt=f;break;case 5:et||Dn(o,r);case 6:if(u=qe,f=Lt,qe=null,ei(i,r,o),qe=u,Lt=f,qe!==null)if(Lt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(o.stateNode)}catch(m){Ue(o,r,m)}else try{qe.removeChild(o.stateNode)}catch(m){Ue(o,r,m)}break;case 18:qe!==null&&(Lt?(i=qe,x0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),bo(i)):x0(qe,o.stateNode));break;case 4:u=qe,f=Lt,qe=o.stateNode.containerInfo,Lt=!0,ei(i,r,o),qe=u,Lt=f;break;case 0:case 11:case 14:case 15:et||Mi(2,o,r),et||Mi(4,o,r),ei(i,r,o);break;case 1:et||(Dn(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&I_(o,r,u)),ei(i,r,o);break;case 21:ei(i,r,o);break;case 22:et=(u=et)||o.memoizedState!==null,ei(i,r,o),et=u;break;default:ei(i,r,o)}}function z_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{bo(i)}catch(o){Ue(r,r.return,o)}}function ox(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new U_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new U_),r;default:throw Error(s(435,i.tag))}}function Zh(i,r){var o=ox(i);r.forEach(function(u){var f=gx.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Xt(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Vi(S.type)){qe=S.stateNode,Lt=!1;break e}break;case 5:qe=S.stateNode,Lt=!1;break e;case 3:case 4:qe=S.stateNode.containerInfo,Lt=!0;break e}S=S.return}if(qe===null)throw Error(s(160));V_(m,_,f),qe=null,Lt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)H_(r,i),r=r.sibling}var gn=null;function H_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xt(r,i),$t(i),u&4&&(Mi(3,i,i.return),no(3,i),Mi(5,i,i.return));break;case 1:Xt(r,i),$t(i),u&512&&(et||o===null||Dn(o,o.return)),u&64&&Jn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=gn;if(Xt(r,i),$t(i),u&512&&(et||o===null||Dn(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ra]||m[bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),_t(m,u,o),m[bt]=i,ct(m),u=m;break e;case"link":var _=L0("link","href",f).get(u+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(u),_t(m,u,o),f.head.appendChild(m);break;case"meta":if(_=L0("meta","content",f).get(u+(o.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}m=f.createElement(u),_t(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[bt]=i,ct(m),u=m}i.stateNode=u}else U0(f,i.type,i.stateNode);else i.stateNode=P0(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?U0(f,i.type,i.stateNode):P0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Wh(i,i.memoizedProps,o.memoizedProps)}break;case 27:Xt(r,i),$t(i),u&512&&(et||o===null||Dn(o,o.return)),o!==null&&u&4&&Wh(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Xt(r,i),$t(i),u&512&&(et||o===null||Dn(o,o.return)),i.flags&32){f=i.stateNode;try{lr(f,"")}catch(L){Ue(i,i.return,L)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Wh(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Qh=!0);break;case 6:if(Xt(r,i),$t(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(L){Ue(i,i.return,L)}}break;case 3:if(Bu=null,f=gn,gn=Uu(r.containerInfo),Xt(r,i),gn=f,$t(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{bo(r.containerInfo)}catch(L){Ue(i,i.return,L)}Qh&&(Qh=!1,F_(i));break;case 4:u=gn,gn=Uu(i.stateNode.containerInfo),Xt(r,i),$t(i),gn=u;break;case 12:Xt(r,i),$t(i);break;case 13:Xt(r,i),$t(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sd=xn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Zh(i,u)));break;case 22:f=i.memoizedState!==null;var w=o!==null&&o.memoizedState!==null,I=Jn,V=et;if(Jn=I||f,et=V||w,Xt(r,i),et=V,Jn=I,$t(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||w||Jn||et||ws(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){w=o=r;try{if(m=w.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=w.stateNode;var q=w.memoizedProps.style,P=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(L){Ue(w,w.return,L)}}}else if(r.tag===6){if(o===null){w=r;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(L){Ue(w,w.return,L)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Zh(i,o))));break;case 19:Xt(r,i),$t(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Zh(i,u)));break;case 30:break;case 21:break;default:Xt(r,i),$t(i)}}function $t(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(P_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=Xh(i);Cu(i,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(lr(_,""),o.flags&=-33);var S=Xh(i);Cu(i,S,_);break;case 3:case 4:var w=o.stateNode.containerInfo,I=Xh(i);$h(i,I,w);break;default:throw Error(s(161))}}catch(V){Ue(i,i.return,V)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function F_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;F_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ii(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j_(i,r.alternate,r),r=r.sibling}function ws(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Mi(4,r,r.return),ws(r);break;case 1:Dn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&I_(r,r.return,o),ws(r);break;case 27:ho(r.stateNode);case 26:case 5:Dn(r,r.return),ws(r);break;case 22:r.memoizedState===null&&ws(r);break;case 30:ws(r);break;default:ws(r)}i=i.sibling}}function ki(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:ki(f,m,o),no(4,m);break;case 1:if(ki(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){Ue(u,u.return,I)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)vv(w[f],S)}catch(I){Ue(u,u.return,I)}}o&&_&64&&M_(m),io(m,m.return);break;case 27:L_(m);case 26:case 5:ki(f,m,o),o&&u===null&&_&4&&k_(m),io(m,m.return);break;case 12:ki(f,m,o);break;case 13:ki(f,m,o),o&&_&4&&z_(f,m);break;case 22:m.memoizedState===null&&ki(f,m,o),io(m,m.return);break;case 30:break;default:ki(f,m,o)}r=r.sibling}}function Jh(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ha(o))}function ed(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ha(i))}function Mn(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)q_(i,r,o,u),r=r.sibling}function q_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mn(i,r,o,u),f&2048&&no(9,r);break;case 1:Mn(i,r,o,u);break;case 3:Mn(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ha(i)));break;case 12:if(f&2048){Mn(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(w){Ue(r,r.return,w)}}else Mn(i,r,o,u);break;case 13:Mn(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,_=r.alternate,r.memoizedState!==null?m._visibility&2?Mn(i,r,o,u):so(i,r):m._visibility&2?Mn(i,r,o,u):(m._visibility|=2,Rr(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Jh(_,r);break;case 24:Mn(i,r,o,u),f&2048&&ed(r.alternate,r);break;default:Mn(i,r,o,u)}}function Rr(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,_=r,S=o,w=u,I=_.flags;switch(_.tag){case 0:case 11:case 15:Rr(m,_,S,w,f),no(8,_);break;case 23:break;case 22:var V=_.stateNode;_.memoizedState!==null?V._visibility&2?Rr(m,_,S,w,f):so(m,_):(V._visibility|=2,Rr(m,_,S,w,f)),f&&I&2048&&Jh(_.alternate,_);break;case 24:Rr(m,_,S,w,f),f&&I&2048&&ed(_.alternate,_);break;default:Rr(m,_,S,w,f)}r=r.sibling}}function so(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:so(o,u),f&2048&&Jh(u.alternate,u);break;case 24:so(o,u),f&2048&&ed(u.alternate,u);break;default:so(o,u)}r=r.sibling}}var ro=8192;function xr(i){if(i.subtreeFlags&ro)for(i=i.child;i!==null;)G_(i),i=i.sibling}function G_(i){switch(i.tag){case 26:xr(i),i.flags&ro&&i.memoizedState!==null&&Yx(gn,i.memoizedState,i.memoizedProps);break;case 5:xr(i);break;case 3:case 4:var r=gn;gn=Uu(i.stateNode.containerInfo),xr(i),gn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=ro,ro=16777216,xr(i),ro=r):xr(i));break;default:xr(i)}}function Y_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ao(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ht=u,W_(u,i)}Y_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K_(i),i=i.sibling}function K_(i){switch(i.tag){case 0:case 11:case 15:ao(i),i.flags&2048&&Mi(9,i,i.return);break;case 3:ao(i);break;case 12:ao(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,wu(i)):ao(i);break;default:ao(i)}}function wu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ht=u,W_(u,i)}Y_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Mi(8,r,r.return),wu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,wu(r));break;default:wu(r)}i=i.sibling}}function W_(i,r){for(;ht!==null;){var o=ht;switch(o.tag){case 0:case 11:case 15:Mi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ha(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ht=u;else e:for(o=i;ht!==null;){u=ht;var f=u.sibling,m=u.return;if(B_(u),u===o){ht=null;break e}if(f!==null){f.return=m,ht=f;break e}ht=m}}}var lx={getCacheForType:function(i){var r=Et(at),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},ux=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Be=null,Se=null,Ce=0,De=0,Qt=null,Pi=!1,Nr=!1,td=!1,ti=0,$e=0,Li=0,As=0,nd=0,ln=0,Or=0,oo=null,Ut=null,id=!1,sd=0,Au=1/0,Ru=null,Ui=null,vt=0,ji=null,Dr=null,Mr=0,rd=0,ad=null,X_=null,lo=0,od=null;function Zt(){if((Oe&2)!==0&&Ce!==0)return Ce&-Ce;if(B.T!==null){var i=_r;return i!==0?i:pd()}return fy()}function $_(){ln===0&&(ln=(Ce&536870912)===0||xe?oy():536870912);var i=on.current;return i!==null&&(i.flags|=32),ln}function Jt(i,r,o){(i===Be&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(Ir(i,0),Bi(i,Ce,ln,!1)),Aa(i,o),((Oe&2)===0||i!==Be)&&(i===Be&&((Oe&2)===0&&(As|=o),$e===4&&Bi(i,Ce,ln,!1)),In(i))}function Q_(i,r,o){if((Oe&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||wa(i,r),f=u?hx(i,r):cd(i,r,!0),m=u;do{if(f===0){Nr&&!u&&Bi(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!cx(o)){f=cd(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=i;f=oo;var w=S.current.memoizedState.isDehydrated;if(w&&(Ir(S,_).flags|=256),_=cd(S,_,!1),_!==2){if(td&&!w){S.errorRecoveryDisabledLanes|=m,As|=m,f=4;break e}m=Ut,Ut=f,m!==null&&(Ut===null?Ut=m:Ut.push.apply(Ut,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Ir(i,0),Bi(i,r,0,!0);break}e:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Bi(u,r,ln,!Pi);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=sd+300-xn(),10<f)){if(Bi(u,r,ln,!Pi),jl(u,0,!0)!==0)break e;u.timeoutHandle=A0(Z_.bind(null,u,o,Ut,Ru,id,r,ln,As,Or,Pi,m,2,-0,0),f);break e}Z_(u,o,Ut,Ru,id,r,ln,As,Or,Pi,m,0,-0,0)}}break}while(!0);In(i)}function Z_(i,r,o,u,f,m,_,S,w,I,V,q,P,L){if(i.timeoutHandle=-1,q=r.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(go={stylesheets:null,count:0,unsuspend:Gx},G_(r),q=Kx(),q!==null)){i.cancelPendingCommit=q(r0.bind(null,i,r,m,o,u,f,_,S,w,V,1,P,L)),Bi(i,m,_,!I);return}r0(i,r,m,o,u,f,_,S,w)}function cx(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Kt(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bi(i,r,o,u){r&=~nd,r&=~As,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-Yt(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&uy(i,o,r)}function xu(){return(Oe&6)===0?(uo(0),!1):!0}function ld(){if(Se!==null){if(De===0)var i=Se.return;else i=Se,Kn=Ss=null,wh(i),wr=null,Ja=0,i=Se;for(;i!==null;)D_(i.alternate,i),i=i.return;Se=null}}function Ir(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,xx(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ld(),Be=i,Se=o=qn(i.current,null),Ce=r,De=0,Qt=null,Pi=!1,Nr=wa(i,r),td=!1,Or=ln=nd=As=Li=$e=0,Ut=oo=null,id=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Yt(u),m=1<<f;r|=i[f],u&=~m}return ti=r,$l(),o}function J_(i,r){ge=null,B.H=mu,r===qa||r===ru?(r=gv(),De=3):r===dv?(r=gv(),De=4):De=r===y_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Qt=r,Se===null&&($e=1,Su(i,nn(r,i.current)))}function e0(){var i=B.H;return B.H=mu,i===null?mu:i}function t0(){var i=B.A;return B.A=lx,i}function ud(){$e=4,Pi||(Ce&4194048)!==Ce&&on.current!==null||(Nr=!0),(Li&134217727)===0&&(As&134217727)===0||Be===null||Bi(Be,Ce,ln,!1)}function cd(i,r,o){var u=Oe;Oe|=2;var f=e0(),m=t0();(Be!==i||Ce!==r)&&(Ru=null,Ir(i,r)),r=!1;var _=$e;e:do try{if(De!==0&&Se!==null){var S=Se,w=Qt;switch(De){case 8:ld(),_=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(r=!0);var I=De;if(De=0,Qt=null,kr(i,S,w,I),o&&Nr){_=0;break e}break;default:I=De,De=0,Qt=null,kr(i,S,w,I)}}fx(),_=$e;break}catch(V){J_(i,V)}while(!0);return r&&i.shellSuspendCounter++,Kn=Ss=null,Oe=u,B.H=f,B.A=m,Se===null&&(Be=null,Ce=0,$l()),_}function fx(){for(;Se!==null;)n0(Se)}function hx(i,r){var o=Oe;Oe|=2;var u=e0(),f=t0();Be!==i||Ce!==r?(Ru=null,Au=xn()+500,Ir(i,r)):Nr=wa(i,r);e:do try{if(De!==0&&Se!==null){r=Se;var m=Qt;t:switch(De){case 1:De=0,Qt=null,kr(i,r,m,1);break;case 2:case 9:if(pv(m)){De=0,Qt=null,i0(r);break}r=function(){De!==2&&De!==9||Be!==i||(De=7),In(i)},m.then(r,r);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:pv(m)?(De=0,Qt=null,i0(r)):(De=0,Qt=null,kr(i,r,m,7));break;case 5:var _=null;switch(Se.tag){case 26:_=Se.memoizedState;case 5:case 27:var S=Se;if(!_||j0(_)){De=0,Qt=null;var w=S.sibling;if(w!==null)Se=w;else{var I=S.return;I!==null?(Se=I,Nu(I)):Se=null}break t}}De=0,Qt=null,kr(i,r,m,5);break;case 6:De=0,Qt=null,kr(i,r,m,6);break;case 8:ld(),$e=6;break e;default:throw Error(s(462))}}dx();break}catch(V){J_(i,V)}while(!0);return Kn=Ss=null,B.H=u,B.A=f,Oe=o,Se!==null?0:(Be=null,Ce=0,$l(),$e)}function dx(){for(;Se!==null&&!PA();)n0(Se)}function n0(i){var r=N_(i.alternate,i,ti);i.memoizedProps=i.pendingProps,r===null?Nu(i):Se=r}function i0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=T_(o,r,r.pendingProps,r.type,void 0,Ce);break;case 11:r=T_(o,r,r.pendingProps,r.type.render,r.ref,Ce);break;case 5:wh(r);default:D_(o,r),r=Se=sv(r,ti),r=N_(o,r,ti)}i.memoizedProps=i.pendingProps,r===null?Nu(i):Se=r}function kr(i,r,o,u){Kn=Ss=null,wh(r),wr=null,Ja=0;var f=r.return;try{if(nx(i,f,r,o,Ce)){$e=1,Su(i,nn(o,i.current)),Se=null;return}}catch(m){if(f!==null)throw Se=f,m;$e=1,Su(i,nn(o,i.current)),Se=null;return}r.flags&32768?(xe||u===1?i=!0:Nr||(Ce&536870912)!==0?i=!1:(Pi=i=!0,(u===2||u===9||u===3||u===6)&&(u=on.current,u!==null&&u.tag===13&&(u.flags|=16384))),s0(r,i)):Nu(r)}function Nu(i){var r=i;do{if((r.flags&32768)!==0){s0(r,Pi);return}i=r.return;var o=sx(r.alternate,r,ti);if(o!==null){Se=o;return}if(r=r.sibling,r!==null){Se=r;return}Se=r=i}while(r!==null);$e===0&&($e=5)}function s0(i,r){do{var o=rx(i.alternate,i);if(o!==null){o.flags&=32767,Se=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Se=i;return}Se=i=o}while(i!==null);$e=6,Se=null}function r0(i,r,o,u,f,m,_,S,w){i.cancelPendingCommit=null;do Ou();while(vt!==0);if((Oe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=eh,GA(i,o,m,_,S,w),i===Be&&(Se=Be=null,Ce=0),Dr=r,ji=i,Mr=o,rd=m,ad=f,X_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yx(Pl,function(){return c0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,f=Y.p,Y.p=2,_=Oe,Oe|=4;try{ax(i,r,o)}finally{Oe=_,Y.p=f,B.T=u}}vt=1,a0(),o0(),l0()}}function a0(){if(vt===1){vt=0;var i=ji,r=Dr,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Y.p;Y.p=2;var f=Oe;Oe|=4;try{H_(r,i);var m=Ed,_=Wy(i.containerInfo),S=m.focusedElem,w=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ky(S.ownerDocument.documentElement,S)){if(w!==null&&Xf(S)){var I=w.start,V=w.end;if(V===void 0&&(V=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(V,S.value.length);else{var q=S.ownerDocument||document,P=q&&q.defaultView||window;if(P.getSelection){var L=P.getSelection(),ue=S.textContent.length,re=Math.min(w.start,ue),Pe=w.end===void 0?re:Math.min(w.end,ue);!L.extend&&re>Pe&&(_=Pe,Pe=re,re=_);var D=Yy(S,re),N=Yy(S,Pe);if(D&&N&&(L.rangeCount!==1||L.anchorNode!==D.node||L.anchorOffset!==D.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var M=q.createRange();M.setStart(D.node,D.offset),L.removeAllRanges(),re>Pe?(L.addRange(M),L.extend(N.node,N.offset)):(M.setEnd(N.node,N.offset),L.addRange(M))}}}}for(q=[],L=S;L=L.parentNode;)L.nodeType===1&&q.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var H=q[S];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Hu=!!bd,Ed=bd=null}finally{Oe=f,Y.p=u,B.T=o}}i.current=r,vt=2}}function o0(){if(vt===2){vt=0;var i=ji,r=Dr,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Y.p;Y.p=2;var f=Oe;Oe|=4;try{j_(i,r.alternate,r)}finally{Oe=f,Y.p=u,B.T=o}}vt=3}}function l0(){if(vt===4||vt===3){vt=0,LA();var i=ji,r=Dr,o=Mr,u=X_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?vt=5:(vt=0,Dr=ji=null,u0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ui=null),xf(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ca,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=B.T,f=Y.p,Y.p=2,B.T=null;try{for(var m=i.onRecoverableError,_=0;_<u.length;_++){var S=u[_];m(S.value,{componentStack:S.stack})}}finally{B.T=r,Y.p=f}}(Mr&3)!==0&&Ou(),In(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===od?lo++:(lo=0,od=i):lo=0,uo(0)}}function u0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ha(r)))}function Ou(i){return a0(),o0(),l0(),c0()}function c0(){if(vt!==5)return!1;var i=ji,r=rd;rd=0;var o=xf(Mr),u=B.T,f=Y.p;try{Y.p=32>o?32:o,B.T=null,o=ad,ad=null;var m=ji,_=Mr;if(vt=0,Dr=ji=null,Mr=0,(Oe&6)!==0)throw Error(s(331));var S=Oe;if(Oe|=4,K_(m.current),q_(m,m.current,_,o),Oe=S,uo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ca,m)}catch{}return!0}finally{Y.p=f,B.T=u,u0(i,r)}}function f0(i,r,o){r=nn(o,r),r=Bh(i.stateNode,r,2),i=xi(i,r,2),i!==null&&(Aa(i,2),In(i))}function Ue(i,r,o){if(i.tag===3)f0(i,i,o);else for(;r!==null;){if(r.tag===3){f0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){i=nn(o,i),o=m_(2),u=xi(r,o,2),u!==null&&(g_(o,u,r,i),Aa(u,2),In(u));break}}r=r.return}}function fd(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new ux;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(td=!0,f.add(o),i=px.bind(null,i,r,o),r.then(i,i))}function px(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Be===i&&(Ce&o)===o&&($e===4||$e===3&&(Ce&62914560)===Ce&&300>xn()-sd?(Oe&2)===0&&Ir(i,0):nd|=o,Or===Ce&&(Or=0)),In(i)}function h0(i,r){r===0&&(r=ly()),i=mr(i,r),i!==null&&(Aa(i,r),In(i))}function mx(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),h0(i,o)}function gx(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),h0(i,o)}function yx(i,r){return Cf(i,r)}var Du=null,Pr=null,hd=!1,Mu=!1,dd=!1,Rs=0;function In(i){i!==Pr&&i.next===null&&(Pr===null?Du=Pr=i:Pr=Pr.next=i),Mu=!0,hd||(hd=!0,_x())}function uo(i,r){if(!dd&&Mu){dd=!0;do for(var o=!1,u=Du;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Yt(42|i)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,g0(u,m))}else m=Ce,m=jl(u,u===Be?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||wa(u,m)||(o=!0,g0(u,m));u=u.next}while(o);dd=!1}}function vx(){d0()}function d0(){Mu=hd=!1;var i=0;Rs!==0&&(Rx()&&(i=Rs),Rs=0);for(var r=xn(),o=null,u=Du;u!==null;){var f=u.next,m=p0(u,r);m===0?(u.next=null,o===null?Du=f:o.next=f,f===null&&(Pr=o)):(o=u,(i!==0||(m&3)!==0)&&(Mu=!0)),u=f}uo(i)}function p0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-Yt(m),S=1<<_,w=f[_];w===-1?((S&o)===0||(S&u)!==0)&&(f[_]=qA(S,r)):w<=r&&(i.expiredLanes|=S),m&=~S}if(r=Be,o=Ce,o=jl(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(De===2||De===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&wf(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||wa(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&wf(u),xf(o)){case 2:case 8:o=ry;break;case 32:o=Pl;break;case 268435456:o=ay;break;default:o=Pl}return u=m0.bind(null,i),o=Cf(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&wf(u),i.callbackPriority=2,i.callbackNode=null,2}function m0(i,r){if(vt!==0&&vt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ou()&&i.callbackNode!==o)return null;var u=Ce;return u=jl(i,i===Be?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Q_(i,u,r),p0(i,xn()),i.callbackNode!=null&&i.callbackNode===o?m0.bind(null,i):null)}function g0(i,r){if(Ou())return null;Q_(i,r,!0)}function _x(){Nx(function(){(Oe&6)!==0?Cf(sy,vx):d0()})}function pd(){return Rs===0&&(Rs=oy()),Rs}function y0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Fl(""+i)}function v0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Sx(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=y0((f[It]||null).action),_=u.submitter;_&&(r=(r=_[It]||null)?y0(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var S=new Kl("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rs!==0){var w=_?v0(f,_):new FormData(f);kh(o,{pending:!0,data:w,method:f.method,action:m},null,w)}}else typeof m=="function"&&(S.preventDefault(),w=_?v0(f,_):new FormData(f),kh(o,{pending:!0,data:w,method:f.method,action:m},m,w))},currentTarget:f}]})}}for(var md=0;md<Jf.length;md++){var gd=Jf[md],bx=gd.toLowerCase(),Ex=gd[0].toUpperCase()+gd.slice(1);mn(bx,"on"+Ex)}mn(Qy,"onAnimationEnd"),mn(Zy,"onAnimationIteration"),mn(Jy,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(BR,"onTransitionRun"),mn(VR,"onTransitionStart"),mn(zR,"onTransitionCancel"),mn(ev,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function _0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],w=S.instance,I=S.currentTarget;if(S=S.listener,w!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=I;try{m(f)}catch(V){_u(V)}f.currentTarget=null,m=w}else for(_=0;_<u.length;_++){if(S=u[_],w=S.instance,I=S.currentTarget,S=S.listener,w!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=I;try{m(f)}catch(V){_u(V)}f.currentTarget=null,m=w}}}}function be(i,r){var o=r[Nf];o===void 0&&(o=r[Nf]=new Set);var u=i+"__bubble";o.has(u)||(S0(r,i,2,!1),o.add(u))}function yd(i,r,o){var u=0;r&&(u|=4),S0(o,i,u,r)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function vd(i){if(!i[Iu]){i[Iu]=!0,dy.forEach(function(o){o!=="selectionchange"&&(Tx.has(o)||yd(o,!1,i),yd(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Iu]||(r[Iu]=!0,yd("selectionchange",!1,r))}}function S0(i,r,o,u){switch(q0(r)){case 2:var f=$x;break;case 8:f=Qx;break;default:f=Md}o=f.bind(null,r,o,i),f=void 0,!Vf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function _d(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=u.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=nr(S),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){u=m=_;continue e}S=S.parentNode}}u=u.return}Ry(function(){var I=m,V=jf(o),q=[];e:{var P=tv.get(i);if(P!==void 0){var L=Kl,ue=i;switch(i){case"keypress":if(Gl(o)===0)break e;case"keydown":case"keyup":L=yR;break;case"focusin":ue="focus",L=qf;break;case"focusout":ue="blur",L=qf;break;case"beforeblur":case"afterblur":L=qf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=rR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=SR;break;case Qy:case Zy:case Jy:L=lR;break;case ev:L=ER;break;case"scroll":case"scrollend":L=iR;break;case"wheel":L=CR;break;case"copy":case"cut":case"paste":L=cR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=My;break;case"toggle":case"beforetoggle":L=AR}var re=(r&4)!==0,Pe=!re&&(i==="scroll"||i==="scrollend"),D=re?P!==null?P+"Capture":null:P;re=[];for(var N=I,M;N!==null;){var H=N;if(M=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||M===null||D===null||(H=Na(N,D),H!=null&&re.push(fo(N,H,M))),Pe)break;N=N.return}0<re.length&&(P=new L(P,ue,null,o,V),q.push({event:P,listeners:re}))}}if((r&7)===0){e:{if(P=i==="mouseover"||i==="pointerover",L=i==="mouseout"||i==="pointerout",P&&o!==Uf&&(ue=o.relatedTarget||o.fromElement)&&(nr(ue)||ue[tr]))break e;if((L||P)&&(P=V.window===V?V:(P=V.ownerDocument)?P.defaultView||P.parentWindow:window,L?(ue=o.relatedTarget||o.toElement,L=I,ue=ue?nr(ue):null,ue!==null&&(Pe=l(ue),re=ue.tag,ue!==Pe||re!==5&&re!==27&&re!==6)&&(ue=null)):(L=null,ue=I),L!==ue)){if(re=Oy,H="onMouseLeave",D="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(re=My,H="onPointerLeave",D="onPointerEnter",N="pointer"),Pe=L==null?P:xa(L),M=ue==null?P:xa(ue),P=new re(H,N+"leave",L,o,V),P.target=Pe,P.relatedTarget=M,H=null,nr(V)===I&&(re=new re(D,N+"enter",ue,o,V),re.target=M,re.relatedTarget=Pe,H=re),Pe=H,L&&ue)t:{for(re=L,D=ue,N=0,M=re;M;M=Lr(M))N++;for(M=0,H=D;H;H=Lr(H))M++;for(;0<N-M;)re=Lr(re),N--;for(;0<M-N;)D=Lr(D),M--;for(;N--;){if(re===D||D!==null&&re===D.alternate)break t;re=Lr(re),D=Lr(D)}re=null}else re=null;L!==null&&b0(q,P,L,re,!1),ue!==null&&Pe!==null&&b0(q,Pe,ue,re,!0)}}e:{if(P=I?xa(I):window,L=P.nodeName&&P.nodeName.toLowerCase(),L==="select"||L==="input"&&P.type==="file")var te=Vy;else if(jy(P))if(zy)te=LR;else{te=kR;var ye=IR}else L=P.nodeName,!L||L.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?I&&Lf(I.elementType)&&(te=Vy):te=PR;if(te&&(te=te(i,I))){By(q,te,o,V);break e}ye&&ye(i,P,I),i==="focusout"&&I&&P.type==="number"&&I.memoizedProps.value!=null&&Pf(P,"number",P.value)}switch(ye=I?xa(I):window,i){case"focusin":(jy(ye)||ye.contentEditable==="true")&&(hr=ye,$f=I,Ua=null);break;case"focusout":Ua=$f=hr=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Xy(q,o,V);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":Xy(q,o,V)}var ne;if(Yf)e:{switch(i){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else fr?Ly(i,o)&&(ae="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ae="onCompositionStart");ae&&(Iy&&o.locale!=="ko"&&(fr||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&fr&&(ne=xy()):(Ci=V,zf="value"in Ci?Ci.value:Ci.textContent,fr=!0)),ye=ku(I,ae),0<ye.length&&(ae=new Dy(ae,i,null,o,V),q.push({event:ae,listeners:ye}),ne?ae.data=ne:(ne=Uy(o),ne!==null&&(ae.data=ne)))),(ne=xR?NR(i,o):OR(i,o))&&(ae=ku(I,"onBeforeInput"),0<ae.length&&(ye=new Dy("onBeforeInput","beforeinput",null,o,V),q.push({event:ye,listeners:ae}),ye.data=ne)),Sx(q,i,I,o,V)}_0(q,r)})}function fo(i,r,o){return{instance:i,listener:r,currentTarget:o}}function ku(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Na(i,o),f!=null&&u.unshift(fo(i,f,m)),f=Na(i,r),f!=null&&u.push(fo(i,f,m))),i.tag===3)return u;i=i.return}return[]}function Lr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function b0(i,r,o,u,f){for(var m=r._reactName,_=[];o!==null&&o!==u;){var S=o,w=S.alternate,I=S.stateNode;if(S=S.tag,w!==null&&w===u)break;S!==5&&S!==26&&S!==27||I===null||(w=I,f?(I=Na(o,m),I!=null&&_.unshift(fo(o,I,w))):f||(I=Na(o,m),I!=null&&_.push(fo(o,I,w)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var Cx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function E0(i){return(typeof i=="string"?i:""+i).replace(Cx,`
`).replace(wx,"")}function T0(i,r){return r=E0(r),E0(i)===r}function Pu(){}function ke(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||lr(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&lr(i,""+u);break;case"className":Vl(i,"class",u);break;case"tabIndex":Vl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(i,o,u);break;case"style":wy(i,u,m);break;case"data":if(r!=="object"){Vl(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Fl(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&ke(i,r,"name",f.name,f,null),ke(i,r,"formEncType",f.formEncType,f,null),ke(i,r,"formMethod",f.formMethod,f,null),ke(i,r,"formTarget",f.formTarget,f,null)):(ke(i,r,"encType",f.encType,f,null),ke(i,r,"method",f.method,f,null),ke(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Fl(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Pu);break;case"onScroll":u!=null&&be("scroll",i);break;case"onScrollEnd":u!=null&&be("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Fl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":be("beforetoggle",i),be("toggle",i),Bl(i,"popover",u);break;case"xlinkActuate":Hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Hn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Hn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Hn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Hn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=tR.get(o)||o,Bl(i,o,u))}}function Sd(i,r,o,u,f,m){switch(o){case"style":wy(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?lr(i,u):(typeof u=="number"||typeof u=="bigint")&&lr(i,""+u);break;case"onScroll":u!=null&&be("scroll",i);break;case"onScrollEnd":u!=null&&be("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!py.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[It]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Bl(i,o,u)}}}function _t(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",i),be("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ke(i,r,m,_,o,null)}}f&&ke(i,r,"srcSet",o.srcSet,o,null),u&&ke(i,r,"src",o.src,o,null);return;case"input":be("invalid",i);var S=m=_=f=null,w=null,I=null;for(u in o)if(o.hasOwnProperty(u)){var V=o[u];if(V!=null)switch(u){case"name":f=V;break;case"type":_=V;break;case"checked":w=V;break;case"defaultChecked":I=V;break;case"value":m=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,r));break;default:ke(i,r,u,V,o,null)}}by(i,m,S,w,I,_,f,!1),zl(i);return;case"select":be("invalid",i),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:ke(i,r,f,S,o,null)}r=m,o=_,i.multiple=!!u,r!=null?or(i,!!u,r,!1):o!=null&&or(i,!!u,o,!0);return;case"textarea":be("invalid",i),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ke(i,r,_,S,o,null)}Ty(i,u,f,m),zl(i);return;case"option":for(w in o)if(o.hasOwnProperty(w)&&(u=o[w],u!=null))switch(w){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ke(i,r,w,u,o,null)}return;case"dialog":be("beforetoggle",i),be("toggle",i),be("cancel",i),be("close",i);break;case"iframe":case"object":be("load",i);break;case"video":case"audio":for(u=0;u<co.length;u++)be(co[u],i);break;case"image":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"embed":case"source":case"link":be("error",i),be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ke(i,r,I,u,o,null)}return;default:if(Lf(r)){for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!==void 0&&Sd(i,r,V,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ke(i,r,S,u,o,null))}function Ax(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,w=null,I=null,V=null;for(L in o){var q=o[L];if(o.hasOwnProperty(L)&&q!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=q;default:u.hasOwnProperty(L)||ke(i,r,L,null,u,q)}}for(var P in u){var L=u[P];if(q=o[P],u.hasOwnProperty(P)&&(L!=null||q!=null))switch(P){case"type":m=L;break;case"name":f=L;break;case"checked":I=L;break;case"defaultChecked":V=L;break;case"value":_=L;break;case"defaultValue":S=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,r));break;default:L!==q&&ke(i,r,P,L,u,q)}}kf(i,_,S,w,I,V,m,f);return;case"select":L=_=S=P=null;for(m in o)if(w=o[m],o.hasOwnProperty(m)&&w!=null)switch(m){case"value":break;case"multiple":L=w;default:u.hasOwnProperty(m)||ke(i,r,m,null,u,w)}for(f in u)if(m=u[f],w=o[f],u.hasOwnProperty(f)&&(m!=null||w!=null))switch(f){case"value":P=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==w&&ke(i,r,f,m,u,w)}r=S,o=_,u=L,P!=null?or(i,!!o,P,!1):!!u!=!!o&&(r!=null?or(i,!!o,r,!0):or(i,!!o,o?[]:"",!1));return;case"textarea":L=P=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ke(i,r,S,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":P=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ke(i,r,_,f,u,m)}Ey(i,P,L);return;case"option":for(var ue in o)if(P=o[ue],o.hasOwnProperty(ue)&&P!=null&&!u.hasOwnProperty(ue))switch(ue){case"selected":i.selected=!1;break;default:ke(i,r,ue,null,u,P)}for(w in u)if(P=u[w],L=o[w],u.hasOwnProperty(w)&&P!==L&&(P!=null||L!=null))switch(w){case"selected":i.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:ke(i,r,w,P,u,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in o)P=o[re],o.hasOwnProperty(re)&&P!=null&&!u.hasOwnProperty(re)&&ke(i,r,re,null,u,P);for(I in u)if(P=u[I],L=o[I],u.hasOwnProperty(I)&&P!==L&&(P!=null||L!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:ke(i,r,I,P,u,L)}return;default:if(Lf(r)){for(var Pe in o)P=o[Pe],o.hasOwnProperty(Pe)&&P!==void 0&&!u.hasOwnProperty(Pe)&&Sd(i,r,Pe,void 0,u,P);for(V in u)P=u[V],L=o[V],!u.hasOwnProperty(V)||P===L||P===void 0&&L===void 0||Sd(i,r,V,P,u,L);return}}for(var D in o)P=o[D],o.hasOwnProperty(D)&&P!=null&&!u.hasOwnProperty(D)&&ke(i,r,D,null,u,P);for(q in u)P=u[q],L=o[q],!u.hasOwnProperty(q)||P===L||P==null&&L==null||ke(i,r,q,P,u,L)}var bd=null,Ed=null;function Lu(i){return i.nodeType===9?i:i.ownerDocument}function C0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Td(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cd=null;function Rx(){var i=window.event;return i&&i.type==="popstate"?i===Cd?!1:(Cd=i,!0):(Cd=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,xx=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(i){return R0.resolve(null).then(i).catch(Ox)}:A0;function Ox(i){setTimeout(function(){throw i})}function Vi(i){return i==="head"}function x0(i,r){var o=r,u=0,f=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var _=i.ownerDocument;if(o&1&&ho(_.documentElement),o&2&&ho(_.body),o&4)for(o=_.head,ho(o),_=o.firstChild;_;){var S=_.nextSibling,w=_.nodeName;_[Ra]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=S}}if(f===0){i.removeChild(m),bo(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);bo(r)}function wd(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wd(o),Of(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Dx(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ra])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=yn(i.nextSibling),i===null)break}return null}function Mx(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yn(i.nextSibling),i===null))return null;return i}function Ad(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Ix(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Rd=null;function N0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function O0(i,r,o){switch(r=Lu(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ho(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Of(i)}var un=new Map,D0=new Set;function Uu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ni=Y.d;Y.d={f:kx,r:Px,D:Lx,C:Ux,L:jx,m:Bx,X:zx,S:Vx,M:Hx};function kx(){var i=ni.f(),r=xu();return i||r}function Px(i){var r=ir(i);r!==null&&r.tag===5&&r.type==="form"?Qv(r):ni.r(i)}var Ur=typeof document>"u"?null:document;function M0(i,r,o){var u=Ur;if(u&&typeof r=="string"&&r){var f=tn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),D0.has(f)||(D0.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),_t(r,"link",i),ct(r),u.head.appendChild(r)))}}function Lx(i){ni.D(i),M0("dns-prefetch",i,null)}function Ux(i,r){ni.C(i,r),M0("preconnect",i,r)}function jx(i,r,o){ni.L(i,r,o);var u=Ur;if(u&&i&&r){var f='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+tn(o.imageSizes)+'"]')):f+='[href="'+tn(i)+'"]';var m=f;switch(r){case"style":m=jr(i);break;case"script":m=Br(i)}un.has(m)||(i=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),un.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(po(m))||r==="script"&&u.querySelector(mo(m))||(r=u.createElement("link"),_t(r,"link",i),ct(r),u.head.appendChild(r)))}}function Bx(i,r){ni.m(i,r);var o=Ur;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Br(i)}if(!un.has(m)&&(i=g({rel:"modulepreload",href:i},r),un.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mo(m)))return}u=o.createElement("link"),_t(u,"link",i),ct(u),o.head.appendChild(u)}}}function Vx(i,r,o){ni.S(i,r,o);var u=Ur;if(u&&i){var f=sr(u).hoistableStyles,m=jr(i);r=r||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(po(m)))S.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":r},o),(o=un.get(m))&&xd(i,o);var w=_=u.createElement("link");ct(w),_t(w,"link",i),w._p=new Promise(function(I,V){w.onload=I,w.onerror=V}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ju(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function zx(i,r){ni.X(i,r);var o=Ur;if(o&&i){var u=sr(o).hoistableScripts,f=Br(i),m=u.get(f);m||(m=o.querySelector(mo(f)),m||(i=g({src:i,async:!0},r),(r=un.get(f))&&Nd(i,r),m=o.createElement("script"),ct(m),_t(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Hx(i,r){ni.M(i,r);var o=Ur;if(o&&i){var u=sr(o).hoistableScripts,f=Br(i),m=u.get(f);m||(m=o.querySelector(mo(f)),m||(i=g({src:i,async:!0,type:"module"},r),(r=un.get(f))&&Nd(i,r),m=o.createElement("script"),ct(m),_t(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function I0(i,r,o,u){var f=(f=de.current)?Uu(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jr(o.href),o=sr(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jr(o.href);var m=sr(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(po(i)))&&!m._p&&(_.instance=m,_.state.loading=5),un.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},un.set(i,o),m||Fx(f,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Br(o),o=sr(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jr(i){return'href="'+tn(i)+'"'}function po(i){return'link[rel="stylesheet"]['+i+"]"}function k0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Fx(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),_t(r,"link",o),ct(r),i.head.appendChild(r))}function Br(i){return'[src="'+tn(i)+'"]'}function mo(i){return"script[async]"+i}function P0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+tn(o.href)+'"]');if(u)return r.instance=u,ct(u),u;var f=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ct(u),_t(u,"style",f),ju(u,o.precedence,i),r.instance=u;case"stylesheet":f=jr(o.href);var m=i.querySelector(po(f));if(m)return r.state.loading|=4,r.instance=m,ct(m),m;u=k0(o),(f=un.get(f))&&xd(u,f),m=(i.ownerDocument||i).createElement("link"),ct(m);var _=m;return _._p=new Promise(function(S,w){_.onload=S,_.onerror=w}),_t(m,"link",u),r.state.loading|=4,ju(m,o.precedence,i),r.instance=m;case"script":return m=Br(o.src),(f=i.querySelector(mo(m)))?(r.instance=f,ct(f),f):(u=o,(f=un.get(m))&&(u=g({},o),Nd(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ct(f),_t(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ju(u,o.precedence,i));return r.instance}function ju(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Nd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Bu=null;function L0(i,r,o){if(Bu===null){var u=new Map,f=Bu=new Map;f.set(o,u)}else f=Bu,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ra]||m[bt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=i+_;var S=u.get(_);S?S.push(m):u.set(_,[m])}}return u}function U0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function qx(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function j0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var go=null;function Gx(){}function Yx(i,r,o){if(go===null)throw Error(s(475));var u=go;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=jr(o.href),m=i.querySelector(po(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Vu.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=m,ct(m);return}m=i.ownerDocument||i,o=k0(o),(f=un.get(f))&&xd(o,f),m=m.createElement("link"),ct(m);var _=m;_._p=new Promise(function(S,w){_.onload=S,_.onerror=w}),_t(m,"link",o),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Vu.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function Kx(){if(go===null)throw Error(s(475));var i=go;return i.stylesheets&&i.count===0&&Od(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Od(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zu=null;function Od(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zu=new Map,r.forEach(Wx,i),zu=null,Vu.call(i))}function Wx(i,r){if(!(r.state.loading&4)){var o=zu.get(i);if(o)var u=o.get(null);else{o=new Map,zu.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=Vu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var yo={$$typeof:k,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Xx(i,r,o,u,f,m,_,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Af(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.hiddenUpdates=Af(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function B0(i,r,o,u,f,m,_,S,w,I,V,q){return i=new Xx(i,r,o,_,S,w,I,q),r=1,m===!0&&(r|=24),m=Wt(3,null,null,r),i.current=m,m.stateNode=i,r=fh(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},mh(m),i}function V0(i){return i?(i=gr,i):gr}function z0(i,r,o,u,f,m){f=V0(f),u.context===null?u.context=f:u.pendingContext=f,u=Ri(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=xi(i,u,r),o!==null&&(Jt(o,i,r),Ya(o,i,r))}function H0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Dd(i,r){H0(i,r),(i=i.alternate)&&H0(i,r)}function F0(i){if(i.tag===13){var r=mr(i,67108864);r!==null&&Jt(r,i,67108864),Dd(i,67108864)}}var Hu=!0;function $x(i,r,o,u){var f=B.T;B.T=null;var m=Y.p;try{Y.p=2,Md(i,r,o,u)}finally{Y.p=m,B.T=f}}function Qx(i,r,o,u){var f=B.T;B.T=null;var m=Y.p;try{Y.p=8,Md(i,r,o,u)}finally{Y.p=m,B.T=f}}function Md(i,r,o,u){if(Hu){var f=Id(u);if(f===null)_d(i,r,u,Fu,o),G0(i,u);else if(Jx(f,i,r,o,u))u.stopPropagation();else if(G0(i,u),r&4&&-1<Zx.indexOf(i)){for(;f!==null;){var m=ir(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=cs(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var w=1<<31-Yt(_);S.entanglements[1]|=w,_&=~w}In(m),(Oe&6)===0&&(Au=xn()+500,uo(0))}}break;case 13:S=mr(m,2),S!==null&&Jt(S,m,2),xu(),Dd(m,2)}if(m=Id(u),m===null&&_d(i,r,u,Fu,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else _d(i,r,u,null,o)}}function Id(i){return i=jf(i),kd(i)}var Fu=null;function kd(i){if(Fu=null,i=nr(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Fu=i,null}function q0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(UA()){case sy:return 2;case ry:return 8;case Pl:case jA:return 32;case ay:return 268435456;default:return 32}default:return 32}}var Pd=!1,zi=null,Hi=null,Fi=null,vo=new Map,_o=new Map,qi=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(i,r){switch(i){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":vo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(r.pointerId)}}function So(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ir(r),r!==null&&F0(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Jx(i,r,o,u,f){switch(r){case"focusin":return zi=So(zi,i,r,o,u,f),!0;case"dragenter":return Hi=So(Hi,i,r,o,u,f),!0;case"mouseover":return Fi=So(Fi,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return vo.set(m,So(vo.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,_o.set(m,So(_o.get(m)||null,i,r,o,u,f)),!0}return!1}function Y0(i){var r=nr(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,YA(i.priority,function(){if(o.tag===13){var u=Zt();u=Rf(u);var f=mr(o,u);f!==null&&Jt(f,o,u),Dd(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Id(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Uf=u,o.target.dispatchEvent(u),Uf=null}else return r=ir(o),r!==null&&F0(r),i.blockedOn=o,!1;r.shift()}return!0}function K0(i,r,o){qu(i)&&o.delete(r)}function eN(){Pd=!1,zi!==null&&qu(zi)&&(zi=null),Hi!==null&&qu(Hi)&&(Hi=null),Fi!==null&&qu(Fi)&&(Fi=null),vo.forEach(K0),_o.forEach(K0)}function Gu(i,r){i.blockedOn===r&&(i.blockedOn=null,Pd||(Pd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eN)))}var Yu=null;function W0(i){Yu!==i&&(Yu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yu===i&&(Yu=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(kd(u||o)===null)continue;break}var m=ir(o);m!==null&&(i.splice(r,3),r-=3,kh(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function bo(i){function r(w){return Gu(w,i)}zi!==null&&Gu(zi,i),Hi!==null&&Gu(Hi,i),Fi!==null&&Gu(Fi,i),vo.forEach(r),_o.forEach(r);for(var o=0;o<qi.length;o++){var u=qi[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<qi.length&&(o=qi[0],o.blockedOn===null);)Y0(o),o.blockedOn===null&&qi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[It]||null;if(typeof m=="function")_||W0(o);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[It]||null)S=_.formAction;else if(kd(f)!==null)continue}else S=_.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),W0(o)}}}function Ld(i){this._internalRoot=i}Ku.prototype.render=Ld.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Zt();z0(o,u,i,r,null,null)},Ku.prototype.unmount=Ld.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;z0(i.current,2,null,i,null,null),xu(),r[tr]=null}};function Ku(i){this._internalRoot=i}Ku.prototype.unstable_scheduleHydration=function(i){if(i){var r=fy();i={blockedOn:null,target:i,priority:r};for(var o=0;o<qi.length&&r!==0&&r<qi[o].priority;o++);qi.splice(o,0,i),o===0&&Y0(i)}};var X0=e.version;if(X0!=="19.1.0")throw Error(s(527,X0,"19.1.0"));Y.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var tN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Ca=Wu.inject(tN),Gt=Wu}catch{}}return To.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=f_,m=h_,_=d_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=B0(i,1,!1,null,null,o,u,f,m,_,S,null),i[tr]=r.current,vd(i),new Ld(r)},To.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=f_,_=h_,S=d_,w=null,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(w=o.unstable_transitionCallbacks),o.formState!==void 0&&(I=o.formState)),r=B0(i,1,!0,r,o??null,u,f,m,_,S,w,I),r.context=V0(null),o=r.current,u=Zt(),u=Rf(u),f=Ri(u),f.callback=null,xi(o,f,u),o=u,r.current.lanes=o,Aa(r,o),In(r),i[tr]=r.current,vd(i),new Ku(r)},To.version="19.1.0",To}var rS;function fN(){if(rS)return Bd.exports;rS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bd.exports=cN(),Bd.exports}var hN=fN();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aS="popstate";function dN(t={}){function e(s,a){let{pathname:l,search:c,hash:h}=s.location;return Ep("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yo(a)}return mN(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pN(){return Math.random().toString(36).substring(2,10)}function oS(t,e){return{usr:t.state,key:t.key,idx:e}}function Ep(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||s||pN()}}function Yo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function mN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let x=g(),O=x==null?null:x-p;p=x,d&&d({action:h,location:A.location,delta:O})}function v(x,O){h="PUSH";let U=Ep(A.location,x,O);p=g()+1;let k=oS(U,p),G=A.createHref(U);try{c.pushState(k,"",G)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(G)}l&&d&&d({action:h,location:A.location,delta:1})}function T(x,O){h="REPLACE";let U=Ep(A.location,x,O);p=g();let k=oS(U,p),G=A.createHref(U);c.replaceState(k,"",G),l&&d&&d({action:h,location:A.location,delta:0})}function b(x){return gN(x)}let A={get action(){return h},get location(){return t(a,c)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(aS,y),d=x,()=>{a.removeEventListener(aS,y),d=null}},createHref(x){return e(a,x)},createURL:b,encodeLocation(x){let O=b(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:T,go(x){return c.go(x)}};return A}function gN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Yo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ZE(t,e,n="/"){return yN(t,e,n,!1)}function yN(t,e,n,s){let a=typeof e=="string"?la(e):e,l=ui(a.pathname||"/",n);if(l==null)return null;let c=JE(t);vN(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=NN(l);h=RN(c[d],p,s)}return h}function JE(t,e=[],n=[],s=""){let a=(l,c,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Ye(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let p=ai([s,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(Ye(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),JE(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:wN(p,l.index),routesMeta:g})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of eT(l.path))a(l,c,h)}),e}function eT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=eT(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function vN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _N=/^:[\w-]+$/,SN=3,bN=2,EN=1,TN=10,CN=-2,lS=t=>t==="*";function wN(t,e){let n=t.split("/"),s=n.length;return n.some(lS)&&(s+=CN),e&&(s+=bN),n.filter(a=>!lS(a)).reduce((a,l)=>a+(_N.test(l)?SN:l===""?EN:TN),s)}function AN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function RN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=vc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!y&&p&&n&&!s[s.length-1].route.index&&(y=vc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:ai([l,y.pathname]),pathnameBase:IN(ai([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=ai([l,y.pathnameBase]))}return c}function vc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=xN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let b=h[v]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const T=h[v];return y&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function xN(t,e=!1,n=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function NN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function ON(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?la(t):t;return{pathname:n?n.startsWith("/")?n:DN(n,e):e,search:kN(s),hash:PN(a)}}function DN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fd(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _m(t){let e=MN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sm(t,e,n,s=!1){let a;typeof t=="string"?a=la(t):(a={...t},Ye(!a.pathname||!a.pathname.includes("?"),Fd("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),Fd("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),Fd("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}h=y>=0?e[y]:"/"}let d=ON(a,h),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ai=t=>t.join("/").replace(/\/\/+/g,"/"),IN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var UN=["GET",...tT];new Set(UN);var ua=C.createContext(null);ua.displayName="DataRouter";var Xc=C.createContext(null);Xc.displayName="DataRouterState";C.createContext(!1);var nT=C.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var jN=C.createContext(new Map);jN.displayName="Fetchers";var BN=C.createContext(null);BN.displayName="Await";var An=C.createContext(null);An.displayName="Navigation";var dl=C.createContext(null);dl.displayName="Location";var zn=C.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var bm=C.createContext(null);bm.displayName="RouteError";function VN(t,{relative:e}={}){Ye(ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(An),{hash:a,pathname:l,search:c}=pl(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:ai([n,l])),s.createHref({pathname:h,search:c,hash:a})}function ca(){return C.useContext(dl)!=null}function mi(){return Ye(ca(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(dl).location}var iT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sT(t){C.useContext(An).static||C.useLayoutEffect(t)}function $s(){let{isDataRoute:t}=C.useContext(zn);return t?JN():zN()}function zN(){Ye(ca(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ua),{basename:e,navigator:n}=C.useContext(An),{matches:s}=C.useContext(zn),{pathname:a}=mi(),l=JSON.stringify(_m(s)),c=C.useRef(!1);return sT(()=>{c.current=!0}),C.useCallback((d,p={})=>{if(Cn(c.current,iT),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Sm(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ai([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,a,t])}C.createContext(null);function pl(t,{relative:e}={}){let{matches:n}=C.useContext(zn),{pathname:s}=mi(),a=JSON.stringify(_m(n));return C.useMemo(()=>Sm(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function HN(t,e){return rT(t,e)}function rT(t,e,n,s){Ye(ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(An),{matches:l}=C.useContext(zn),c=l[l.length-1],h=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let O=g&&g.path||"";aT(d,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=mi(),v;if(e){let O=typeof e=="string"?la(e):e;Ye(p==="/"||O.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),v=O}else v=y;let T=v.pathname||"/",b=T;if(p!=="/"){let O=p.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=ZE(t,{pathname:b});Cn(g||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Cn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=KN(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:ai([p,a.encodeLocation?a.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:ai([p,a.encodeLocation?a.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,n,s);return e&&x?C.createElement(dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function FN(){let t=ZN(),e=LN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,c)}var qN=C.createElement(FN,null),GN=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(zn.Provider,{value:this.props.routeContext},C.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YN({routeContext:t,match:e,children:n}){let s=C.useContext(ua);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(zn.Provider,{value:t},n)}function KN(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Ye(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=n,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,v=!1,T=null,b=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,T=p.route.errorElement||qN,c&&(h<0&&g===0?(aT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):h===g&&(v=!0,b=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),x=()=>{let O;return y?O=T:v?O=b:p.route.Component?O=C.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,C.createElement(YN,{match:p,routeContext:{outlet:d,matches:A,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(GN,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function Em(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(t){let e=C.useContext(ua);return Ye(e,Em(t)),e}function XN(t){let e=C.useContext(Xc);return Ye(e,Em(t)),e}function $N(t){let e=C.useContext(zn);return Ye(e,Em(t)),e}function Tm(t){let e=$N(t),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QN(){return Tm("useRouteId")}function ZN(){let t=C.useContext(bm),e=XN("useRouteError"),n=Tm("useRouteError");return t!==void 0?t:e.errors?.[n]}function JN(){let{router:t}=WN("useNavigate"),e=Tm("useNavigate"),n=C.useRef(!1);return sT(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{Cn(n.current,iT),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var uS={};function aT(t,e,n){!e&&!uS[t]&&(uS[t]=!0,Cn(!1,n))}C.memo(eO);function eO({routes:t,future:e,state:n}){return rT(t,void 0,n,e)}function oT({to:t,replace:e,state:n,relative:s}){Ye(ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(An);Cn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(zn),{pathname:c}=mi(),h=$s(),d=Sm(t,_m(l),c,s==="path"),p=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:s})},[h,p,s,e,n]),null}function hn(t){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tO({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Ye(!ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=la(n));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:v="default"}=n,T=C.useMemo(()=>{let b=ui(d,c);return b==null?null:{location:{pathname:b,search:p,hash:g,state:y,key:v},navigationType:s}},[c,d,p,g,y,v,s]);return Cn(T!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:C.createElement(An.Provider,{value:h},C.createElement(dl.Provider,{children:e,value:T}))}function lT({children:t,location:e}){return HN(Tp(t),e)}function Tp(t,e=[]){let n=[];return C.Children.forEach(t,(s,a)=>{if(!C.isValidElement(s))return;let l=[...e,a];if(s.type===C.Fragment){n.push.apply(n,Tp(s.props.children,l));return}Ye(s.type===hn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Tp(s.props.children,l)),n.push(c)}),n}var sc="get",rc="application/x-www-form-urlencoded";function $c(t){return t!=null&&typeof t.tagName=="string"}function nO(t){return $c(t)&&t.tagName.toLowerCase()==="button"}function iO(t){return $c(t)&&t.tagName.toLowerCase()==="form"}function sO(t){return $c(t)&&t.tagName.toLowerCase()==="input"}function rO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aO(t,e){return t.button===0&&(!e||e==="_self")&&!rO(t)}var Xu=null;function oO(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var lO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qd(t){return t!=null&&!lO.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):t}function uO(t,e){let n,s,a,l,c;if(iO(t)){let h=t.getAttribute("action");s=h?ui(h,e):null,n=t.getAttribute("method")||sc,a=qd(t.getAttribute("enctype"))||rc,l=new FormData(t)}else if(nO(t)||sO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?ui(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||sc,a=qd(t.getAttribute("formenctype"))||qd(h.getAttribute("enctype"))||rc,l=new FormData(h,t),!oO()){let{name:p,type:g,value:y}=t;if(g==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,y)}}else{if($c(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sc,s=null,a=rc,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cO(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ui(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function fO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dO(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await fO(l,n);return c.links?c.links():[]}return[]}));return yO(s.flat(1).filter(hO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cS(t,e,n,s,a,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function pO(t,e,{includeHydrateFallback:n}={}){return mO(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mO(t){return[...new Set(t)]}function gO(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function yO(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(gO(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function uT(){let t=C.useContext(ua);return Cm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vO(){let t=C.useContext(Xc);return Cm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wm=C.createContext(void 0);wm.displayName="FrameworkContext";function cT(){let t=C.useContext(wm);return Cm(t,"You must render this element inside a <HydratedRouter> element"),t}function _O(t,e){let n=C.useContext(wm),[s,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=O=>{O.forEach(U=>{c(U.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[t]),C.useEffect(()=>{if(s){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[s]);let T=()=>{a(!0)},b=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:Co(h,T),onBlur:Co(d,b),onMouseEnter:Co(p,T),onMouseLeave:Co(g,b),onTouchStart:Co(y,T)}]:[!1,v,{}]}function Co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SO({page:t,...e}){let{router:n}=uT(),s=C.useMemo(()=>ZE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?C.createElement(EO,{page:t,matches:s,...e}):null}function bO(t){let{manifest:e,routeModules:n}=cT(),[s,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return dO(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function EO({page:t,matches:e,...n}){let s=mi(),{manifest:a,routeModules:l}=cT(),{basename:c}=uT(),{loaderData:h,matches:d}=vO(),p=C.useMemo(()=>cS(t,e,d,a,s,"data"),[t,e,d,a,s]),g=C.useMemo(()=>cS(t,e,d,a,s,"assets"),[t,e,d,a,s]),y=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,A=!1;if(e.forEach(O=>{let U=a.routes[O.route.id];!U||!U.hasLoader||(!p.some(k=>k.route.id===O.route.id)&&O.route.id in h&&l[O.route.id]?.shouldRevalidate||U.hasClientLoader?A=!0:b.add(O.route.id))}),b.size===0)return[];let x=cO(t,c,"data");return A&&b.size>0&&x.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[c,h,s,a,p,e,t,l]),v=C.useMemo(()=>pO(g,a),[g,a]),T=bO(g);return C.createElement(C.Fragment,null,y.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),v.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),T.map(({key:b,link:A})=>C.createElement("link",{key:b,...A})))}function TO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fT&&(window.__reactRouterVersion="7.7.0")}catch{}function CO({basename:t,children:e,window:n}){let s=C.useRef();s.current==null&&(s.current=dN({window:n,v5Compat:!0}));let a=s.current,[l,c]=C.useState({action:a.action,location:a.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>a.listen(h),[a,h]),C.createElement(tO,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,...v},T){let{basename:b}=C.useContext(An),A=typeof p=="string"&&hT.test(p),x,O=!1;if(typeof p=="string"&&A&&(x=p,fT))try{let se=new URL(window.location.href),he=p.startsWith("//")?new URL(se.protocol+p):new URL(p),Ne=ui(he.pathname,b);he.origin===se.origin&&Ne!=null?p=Ne+he.search+he.hash:O=!0}catch{Cn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=VN(p,{relative:a}),[k,G,z]=_O(s,v),K=xO(p,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function Q(se){e&&e(se),se.defaultPrevented||K(se)}let X=C.createElement("a",{...v,...z,href:x||U,onClick:O||l?e:Q,ref:TO(T,G),target:d,"data-discover":!A&&n==="render"?"true":void 0});return k&&!A?C.createElement(C.Fragment,null,X,C.createElement(SO,{page:U})):X});Ms.displayName="Link";var wO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...p},g){let y=pl(c,{relative:p.relative}),v=mi(),T=C.useContext(Xc),{navigator:b,basename:A}=C.useContext(An),x=T!=null&&IO(y)&&h===!0,O=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,U=v.pathname,k=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(U=U.toLowerCase(),k=k?k.toLowerCase():null,O=O.toLowerCase()),k&&A&&(k=ui(k,A)||k);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let z=U===O||!a&&U.startsWith(O)&&U.charAt(G)==="/",K=k!=null&&(k===O||!a&&k.startsWith(O)&&k.charAt(O.length)==="/"),Q={isActive:z,isPending:K,isTransitioning:x},X=z?e:void 0,se;typeof s=="function"?se=s(Q):se=[s,z?"active":null,K?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let he=typeof l=="function"?l(Q):l;return C.createElement(Ms,{...p,"aria-current":X,className:se,ref:g,style:he,to:c,viewTransition:h},typeof d=="function"?d(Q):d)});wO.displayName="NavLink";var AO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=sc,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...v},T)=>{let b=DO(),A=MO(h,{relative:p}),x=c.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&hT.test(h),U=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let G=k.nativeEvent.submitter,z=G?.getAttribute("formmethod")||c;b(G||k.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:a,state:l,relative:p,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:T,method:x,action:A,onSubmit:s?d:U,...v,"data-discover":!O&&t==="render"?"true":void 0})});AO.displayName="Form";function RO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(t){let e=C.useContext(ua);return Ye(e,RO(t)),e}function xO(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=$s(),d=mi(),p=pl(t,{relative:l});return C.useCallback(g=>{if(aO(g,e)){g.preventDefault();let y=n!==void 0?n:Yo(d)===Yo(p);h(t,{replace:y,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[d,h,p,n,s,e,t,a,l,c])}var NO=0,OO=()=>`__${String(++NO)}__`;function DO(){let{router:t}=dT("useSubmit"),{basename:e}=C.useContext(An),n=QN();return C.useCallback(async(s,a={})=>{let{action:l,method:c,encType:h,formData:d,body:p}=uO(s,e);if(a.navigate===!1){let g=a.fetcherKey||OO();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function MO(t,{relative:e}={}){let{basename:n}=C.useContext(An),s=C.useContext(zn);Ye(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...pl(t||".",{relative:e})},c=mi();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ai([n,l.pathname])),Yo(l)}function IO(t,e={}){let n=C.useContext(nT);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dT("useViewTransitionState"),a=pl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ui(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ui(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vc(a.pathname,c)!=null||vc(a.pathname,l)!=null}const kO=()=>{};var fS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw fa(e)},fa=function(t){return new Error("Firebase Database ("+pT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},PO=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Am={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,g=l>>2,y=(l&3)<<4|h>>4;let v=(h&15)<<2|p>>6,T=p&63;d||(T=64,c||(v=64)),s.push(n[g],n[y],n[v],n[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||y==null)throw new LO;const v=l<<2|h>>4;if(s.push(v),p!==64){const T=h<<4&240|p>>2;if(s.push(T),y!==64){const b=p<<6&192|y;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(t){const e=mT(t);return Am.encodeByteArray(e,!0)},_c=function(t){return gT(t).replace(/\./g,"")},Sc=function(t){try{return Am.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){return yT(void 0,t)}function yT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jO(n)||(t[n]=yT(t[n],e[n]));return t}function jO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=()=>BO().__FIREBASE_DEFAULTS__,zO=()=>{if(typeof process>"u"||typeof fS>"u")return;const t=fS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sc(t[1]);return e&&JSON.parse(e)},Rm=()=>{try{return kO()||VO()||zO()||HO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vT=t=>{var e,n;return(n=(e=Rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FO=t=>{const e=vT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_T=()=>{var t;return(t=Rm())===null||t===void 0?void 0:t.config},ST=t=>{var e;return(e=Rm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_c(JSON.stringify(n)),_c(JSON.stringify(c)),""].join(".")}const ko={};function GO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?t.emulator.push(e):t.prod.push(e);return t}function YO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hS=!1;function ET(t,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||ko[t]===e||ko[t]||hS)return;ko[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",l=GO().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{hS=!0,c()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=YO(s),T=n("text"),b=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),x=document.getElementById(A)||document.createElement("a"),O=n("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;h(k),g(x,A);const G=p();d(U,O),k.append(U,b,x,G),document.body.appendChild(k)}l?(b.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function KO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XO(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $O(){return pT.NODE_ADMIN===!0}function QO(){try{return typeof indexedDB=="object"}catch{return!1}}function ZO(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class ls extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=JO,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?eD(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ls(a,h,s)}}function eD(t,e){return t.replace(tD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const tD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){return JSON.parse(t)}function lt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(t){let e={},n={},s={},a="";try{const l=t.split(".");e=Ko(Sc(l[0])||""),n=Ko(Sc(l[1])||""),a=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},nD=function(t){const e=CT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iD=function(t){const e=CT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Cp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e,n){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=e.call(n,t[a],a,t));return s}function Hs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(dS(l)&&dS(c)){if(!Hs(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function dS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Do(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^l&(c^h),g=1518500249):(p=l^c^h,g=1859775393):y<60?(p=l&c|h&(l|c),g=2400959708):(p=l^c^h,g=3395469782);const v=(a<<5|a>>>27)+p+d+g+s[y]&4294967295;d=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const l=this.buf_;let c=this.inbuf_;for(;a<n;){if(c===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}else for(;a<n;)if(l[c]=e[a],++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[a]>>l&255,++s;return e}}function rD(t,e){const n=new aD(t,e);return n.subscribe.bind(n)}class aD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Gd),a.error===void 0&&(a.error=Gd),a.complete===void 0&&(a.complete=Gd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gd(){}function Nm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const l=a-55296;s++,W(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;a=65536+(l<<10)+c}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Zc=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Qc;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fD(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cD(t){return t===Ns?void 0:t}function fD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const dD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},pD=Le.INFO,mD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},gD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=mD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=gD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const yD=(t,e)=>e.some(n=>t instanceof n);let pS,mS;function vD(){return pS||(pS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _D(){return mS||(mS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,wp=new WeakMap,AT=new WeakMap,Yd=new WeakMap,Dm=new WeakMap;function SD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Zi(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function bD(t){if(wp.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});wp.set(t,e)}let Ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ED(t){Ap=t(Ap)}function TD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Kd(this),e,...n);return AT.set(s,e.sort?e.sort():[e]),Zi(s)}:_D().includes(t)?function(...e){return t.apply(Kd(this),e),Zi(wT.get(this))}:function(...e){return Zi(t.apply(Kd(this),e))}}function CD(t){return typeof t=="function"?TD(t):(t instanceof IDBTransaction&&bD(t),yD(t,vD())?new Proxy(t,Ap):t)}function Zi(t){if(t instanceof IDBRequest)return SD(t);if(Yd.has(t))return Yd.get(t);const e=CD(t);return e!==t&&(Yd.set(t,e),Dm.set(e,t)),e}const Kd=t=>Dm.get(t);function wD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Zi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Zi(c.result),d.oldVersion,d.newVersion,Zi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const AD=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],Wd=new Map;function gS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=RD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||AD.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Wd.set(e,l),l}ED(t=>({...t,get:(e,n,s)=>gS(e,n)||t.get(e,n,s),has:(e,n)=>!!gS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ND(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ND(t){const e=t.getComponent();return e?.type==="VERSION"}const Rp="@firebase/app",yS="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Om("@firebase/app"),OD="@firebase/app-compat",DD="@firebase/analytics-compat",MD="@firebase/analytics",ID="@firebase/app-check-compat",kD="@firebase/app-check",PD="@firebase/auth",LD="@firebase/auth-compat",UD="@firebase/database",jD="@firebase/data-connect",BD="@firebase/database-compat",VD="@firebase/functions",zD="@firebase/functions-compat",HD="@firebase/installations",FD="@firebase/installations-compat",qD="@firebase/messaging",GD="@firebase/messaging-compat",YD="@firebase/performance",KD="@firebase/performance-compat",WD="@firebase/remote-config",XD="@firebase/remote-config-compat",$D="@firebase/storage",QD="@firebase/storage-compat",ZD="@firebase/firestore",JD="@firebase/ai",eM="@firebase/firestore-compat",tM="firebase",nM="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",iM={[Rp]:"fire-core",[OD]:"fire-core-compat",[MD]:"fire-analytics",[DD]:"fire-analytics-compat",[kD]:"fire-app-check",[ID]:"fire-app-check-compat",[PD]:"fire-auth",[LD]:"fire-auth-compat",[UD]:"fire-rtdb",[jD]:"fire-data-connect",[BD]:"fire-rtdb-compat",[VD]:"fire-fn",[zD]:"fire-fn-compat",[HD]:"fire-iid",[FD]:"fire-iid-compat",[qD]:"fire-fcm",[GD]:"fire-fcm-compat",[YD]:"fire-perf",[KD]:"fire-perf-compat",[WD]:"fire-rc",[XD]:"fire-rc-compat",[$D]:"fire-gcs",[QD]:"fire-gcs-compat",[ZD]:"fire-fst",[eM]:"fire-fst-compat",[JD]:"fire-vertex","fire-js":"fire-js",[tM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,sM=new Map,Np=new Map;function vS(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ea(t){const e=t.name;if(Np.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of Ec.values())vS(n,t);for(const n of sM.values())vS(n,t);return!0}function Mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new ml("app","Firebase",rM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=nM;function RT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xp,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(n||(n=_T()),!n)throw Ji.create("no-options");const l=Ec.get(a);if(l){if(Hs(n,l.options)&&Hs(s,l.config))return l;throw Ji.create("duplicate-app",{appName:a})}const c=new hD(a);for(const d of Np.values())c.addComponent(d);const h=new aM(n,s,c);return Ec.set(a,h),h}function xT(t=xp){const e=Ec.get(t);if(!e&&t===xp&&_T())return RT();if(!e)throw Ji.create("no-app",{appName:t});return e}function es(t,e,n){var s;let a=(s=iM[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}ea(new Fs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firebase-heartbeat-database",lM=1,Wo="firebase-heartbeat-store";let Xd=null;function NT(){return Xd||(Xd=wD(oM,lM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),Xd}async function uM(t){try{const n=(await NT()).transaction(Wo),s=await n.objectStore(Wo).get(OT(t));return await n.done,s}catch(e){if(e instanceof ls)ci.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e?.message});ci.warn(n.message)}}}async function _S(t,e){try{const s=(await NT()).transaction(Wo,"readwrite");await s.objectStore(Wo).put(e,OT(t)),await s.done}catch(n){if(n instanceof ls)ci.warn(n.message);else{const s=Ji.create("idb-set",{originalErrorMessage:n?.message});ci.warn(s.message)}}}function OT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=1024,fM=30;class hM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=SS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>fM){const c=mM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SS(),{heartbeatsToSend:s,unsentEntries:a}=dM(this._heartbeatsCache.heartbeats),l=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ci.warn(n),""}}}function SS(){return new Date().toISOString().substring(0,10)}function dM(t,e=cM){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),bS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QO()?ZO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function bS(t){return _c(JSON.stringify({version:2,heartbeats:t})).length}function mM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){ea(new Fs("platform-logger",e=>new xD(e),"PRIVATE")),ea(new Fs("heartbeat",e=>new hM(e),"PRIVATE")),es(Rp,yS,t),es(Rp,yS,"esm2017"),es("fire-js","")}gM("");function Im(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yM=DT,MT=new ml("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Om("@firebase/auth");function vM(t,...e){Tc.logLevel<=Le.WARN&&Tc.warn(`Auth (${pa}): ${t}`,...e)}function ac(t,...e){Tc.logLevel<=Le.ERROR&&Tc.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw km(t,...e)}function Pn(t,...e){return km(t,...e)}function IT(t,e,n){const s=Object.assign(Object.assign({},yM()),{[e]:n});return new ml("auth","Firebase",s).create(e,{appName:t.name})}function oi(t){return IT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return MT.create(t,...e)}function oe(t,e,...n){if(!t)throw km(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ac(e),new Error(e)}function fi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kT(){return ES()==="http:"||ES()==="https:"}function ES(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kT()||WO()||"connection"in navigator)?navigator.onLine:!0}function SM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=xm()||TT()}get(){return _M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TM=new gl(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,s,a={}){return LT(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=da(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return KO()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ha(t.emulatorConfig.host)&&(p.credentials="include"),PT.fetch()(await UT(t,t.config.apiHost,n,h),p)})}async function LT(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},bM),e);try{const a=new wM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw $u(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw $u(t,"user-disabled",c);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw IT(t,g,p);wn(t,g)}}catch(a){if(a instanceof ls)throw a;wn(t,"network-request-failed",{message:String(a)})}}async function yl(t,e,n,s,a={}){const l=await vi(t,e,n,s,a);return"mfaPendingCredential"in l&&wn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function UT(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Pm(t.config,a):`${t.config.apiScheme}://${a}`;return EM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function CM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),TM.get())})}}function $u(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Pn(t,e,s);return a.customData._tokenResponse=n,a}function TS(t){return t!==void 0&&t.enterprise!==void 0}class AM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RM(t,e){return vi(t,"GET","/v2/recaptchaConfig",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function wc(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NM(t,e=!1){const n=xt(t),s=await n.getIdToken(e),a=Lm(s);oe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Po($d(a.auth_time)),issuedAtTime:Po($d(a.iat)),expirationTime:Po($d(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $d(t){return Number(t)*1e3}function Lm(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ac("JWT malformed, contained fewer than 3 sections"),null;try{const a=Sc(n);return a?JSON.parse(a):(ac("Failed to decode base64 JWT payload"),null)}catch(a){return ac("Caught error parsing JWT payload as JSON",a?.toString()),null}}function CS(t){const e=Lm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ls&&OM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function OM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Xo(t,wc(n,{idToken:s}));oe(a?.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?jT(l.providerUserInfo):[],h=IM(t.providerData,c),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!h?.length,g=d?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Op(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function MM(t){const e=xt(t);await Ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function jT(t){return t.map(e=>{var{providerId:n}=e,s=Im(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e){const n=await LT(t,{},async()=>{const s=da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await UT(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&ha(t.emulatorConfig.host)&&(d.credentials="include"),PT.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PM(t,e){return vi(t,"POST","/v2/accounts:revokeToken",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=CS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await kM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Wr;return s&&(oe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(oe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(oe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sn{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=Im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Op(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NM(this,e)}reload(){return MM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ac(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Xo(this,xM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,c,h,d,p,g;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,v=(a=n.email)!==null&&a!==void 0?a:void 0,T=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,b=(c=n.photoURL)!==null&&c!==void 0?c:void 0,A=(h=n.tenantId)!==null&&h!==void 0?h:void 0,x=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:G,isAnonymous:z,providerData:K,stsTokenManager:Q}=n;oe(k&&Q,e,"internal-error");const X=Wr.fromJSON(this.name,Q);oe(typeof k=="string",e,"internal-error"),Yi(y,e.name),Yi(v,e.name),oe(typeof G=="boolean",e,"internal-error"),oe(typeof z=="boolean",e,"internal-error"),Yi(T,e.name),Yi(b,e.name),Yi(A,e.name),Yi(x,e.name),Yi(O,e.name),Yi(U,e.name);const se=new Sn({uid:k,auth:e,email:v,emailVerified:G,displayName:y,isAnonymous:z,photoURL:b,phoneNumber:T,tenantId:A,stsTokenManager:X,createdAt:O,lastLoginAt:U});return K&&Array.isArray(K)&&(se.providerData=K.map(he=>Object.assign({},he))),x&&(se._redirectEventId=x),se}static async _fromIdTokenResponse(e,n,s=!1){const a=new Wr;a.updateFromServerResponse(n);const l=new Sn({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ac(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?jT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Wr;h.updateFromIdToken(s);const d=new Sn({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Op(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;function si(t){fi(t instanceof Function,"Expected a class definition");let e=wS.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BT.type="NONE";const AS=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e,n){return`firebase:${t}:${e}:${n}`}class Xr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=oc(this.userKey,a.apiKey,l),this.fullPersistenceKey=oc("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wc(this.auth,{idToken:e}).catch(()=>{});return n?Sn._fromGetAccountInfoResponse(this.auth,n,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Xr(si(AS),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||si(AS);const c=oc(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(c);if(g){let y;if(typeof g=="string"){const v=await wc(e,{idToken:g}).catch(()=>{});if(!v)break;y=await Sn._fromGetAccountInfoResponse(e,v,g)}else y=Sn._fromJSON(e,g);p!==l&&(h=y),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Xr(l,e,s):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Xr(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GT(e))return"Blackberry";if(YT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function VT(t=Mt()){return/firefox\//i.test(t)}function zT(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(t=Mt()){return/crios\//i.test(t)}function FT(t=Mt()){return/iemobile/i.test(t)}function qT(t=Mt()){return/android/i.test(t)}function GT(t=Mt()){return/blackberry/i.test(t)}function YT(t=Mt()){return/webos/i.test(t)}function Um(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LM(t=Mt()){var e;return Um(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UM(){return XO()&&document.documentMode===10}function KT(t=Mt()){return Um(t)||qT(t)||YT(t)||GT(t)||/windows phone/i.test(t)||FT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e=[]){let n;switch(t){case"Browser":n=RS(Mt());break;case"Worker":n=`${RS(Mt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e={}){return vi(t,"GET","/v2/passwordPolicy",yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=6;class zM{constructor(e){var n,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:VM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xS(this),this.idTokenSubscription=new xS(this),this.beforeStateQueue=new jM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Xr.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wc(this,{idToken:e}),s=await Sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ac(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(oi(this));const n=e?xt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BM(this),n=new zM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Xr.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&vM(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Qs(t){return xt(t)}class xS{constructor(e){this.auth=e,this.observer=null,this.addObserver=rD(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FM(t){Jc=t}function XT(t){return Jc.loadJS(t)}function qM(){return Jc.recaptchaEnterpriseScript}function GM(){return Jc.gapiScript}function YM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KM{constructor(){this.enterprise=new WM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XM="recaptcha-enterprise",$T="NO_RECAPTCHA";class $M{constructor(e){this.type=XM,this.auth=Qs(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{RM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new AM(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,c,h){const d=window.grecaptcha;TS(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c($T)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&TS(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=qM();d.length!==0&&(d+=h),XT(d).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function NS(t,e,n,s=!1,a=!1){const l=new $M(t);let c;if(a)c=$T;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Dp(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NS(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await NS(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t,e){const n=Mm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Hs(l,e??{}))return a;wn(a,"already-initialized")}return n.initialize({options:e})}function ZM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(si);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function JM(t,e,n){const s=Qs(t);oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=QT(e),{host:c,port:h}=eI(e),d=h===null?"":`:${h}`,p={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),oe(Hs(p,s.config.emulator)&&Hs(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,ha(c)?(bT(`${l}//${c}${d}`),ET("Auth",!0)):tI()}function QT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eI(t){const e=QT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:OS(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:OS(c)}}}function OS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function nI(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(t,e){return yl(t,"POST","/v1/accounts:signInWithPassword",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(t,e){return yl(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}async function rI(t,e){return yl(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends jm{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $o(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dp(e,n,"signInWithPassword",iI);case"emailLink":return sI(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dp(e,s,"signUpPassword",nI);case"emailLink":return rI(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(t,e){return yl(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="http://localhost";class qs extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=Im(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new qs(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return $r(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$r(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$r(e,n)}buildRequest(){const e={requestUri:aI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lI(t){const e=Do(Mo(t)).link,n=e?Do(Mo(e)).deep_link_id:null,s=Do(Mo(t)).deep_link_id;return(s?Do(Mo(s)).link:null)||s||n||e||t}class Bm{constructor(e){var n,s,a,l,c,h;const d=Do(Mo(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(s=d.oobCode)!==null&&s!==void 0?s:null,y=oI((a=d.mode)!==null&&a!==void 0?a:null);oe(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=lI(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Bm.parseLink(n);return oe(s,"argument-error"),$o._fromEmailAndCode(e,s.code,s.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends ZT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends vl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends vl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends vl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t,e){return yl(t,"POST","/v1/accounts:signUp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Sn._fromIdTokenResponse(e,s,a),c=DS(s);return new Gs({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=DS(s);return new Gs({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function DS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends ls{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Rc(e,n,s,a)}}function JT(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,l,e,s):l})}async function cI(t,e,n=!1){const s=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e,n=!1){const{auth:s}=t;if(dn(s.app))return Promise.reject(oi(s));const a="reauthenticate";try{const l=await Xo(t,JT(s,a,e,t),n);oe(l.idToken,s,"internal-error");const c=Lm(l.idToken);oe(c,s,"internal-error");const{sub:h}=c;return oe(t.uid===h,s,"user-mismatch"),Gs._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t,e,n=!1){if(dn(t.app))return Promise.reject(oi(t));const s="signIn",a=await JT(t,s,e),l=await Gs._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function hI(t,e){return eC(Qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(t){const e=Qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dI(t,e,n){if(dn(t.app))return Promise.reject(oi(t));const s=Qs(t),c=await Dp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uI).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&tC(t),d}),h=await Gs._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function pI(t,e,n){return dn(t.app)?Promise.reject(oi(t)):hI(xt(t),ma.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tC(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(t,e){return vi(t,"POST","/v1/accounts:createAuthUri",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e){const n=kT()?Cc():"http://localhost",s={identifier:e,continueUri:n},{signinMethods:a}=await mI(xt(t),s);return a||[]}function yI(t,e,n,s){return xt(t).onIdTokenChanged(e,n,s)}function vI(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function Vm(t,e,n,s){return xt(t).onAuthStateChanged(e,n,s)}function nC(t){return xt(t).signOut()}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1e3,SI=10;class sC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);UM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SI):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sC.type="LOCAL";const bI=sC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const aC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),d=await EI(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const p=zm("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(v.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function CI(t){Ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function wI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AI(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RI(){return oC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebaseLocalStorageDb",xI=1,Nc="firebaseLocalStorage",uC="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(t,e){return t.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function NI(){const t=indexedDB.deleteDatabase(lC);return new _l(t).toPromise()}function Mp(){const t=indexedDB.open(lC,xI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Nc,{keyPath:uC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Nc)?e(s):(s.close(),await NI(),e(await Mp()))})})}async function MS(t,e,n){const s=tf(t,!0).put({[uC]:e,value:n});return new _l(s).toPromise()}async function OI(t,e){const n=tf(t,!1).get(e),s=await new _l(n).toPromise();return s===void 0?null:s.value}function IS(t,e){const n=tf(t,!0).delete(e);return new _l(n).toPromise()}const DI=800,MI=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(RI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await MS(e,xc,"1"),await IS(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>MS(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=tf(a,!1).getAll();return new _l(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const II=cC;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e){return e?si(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $r(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $r(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $r(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PI(t){return eC(t.auth,new Hm(t),t.bypassAuthState)}function LI(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),fI(n,new Hm(t),t.bypassAuthState)}async function UI(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),cI(n,new Hm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PI;case"linkViaPopup":case"linkViaRedirect":return UI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:wn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new gl(2e3,1e4);class zr extends fC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jI.get())};e()}}zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="pendingRedirect",lc=new Map;class VI extends fC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const s=await zI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zI(t,e){const n=qI(e),s=FI(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function HI(t,e){lc.set(t._key(),e)}function FI(t){return si(t._redirectPersistence)}function qI(t){return oc(BI,t.config.apiKey,t.name)}async function GI(t,e,n=!1){if(dn(t.app))return Promise.reject(oi(t));const s=Qs(t),a=kI(s,e),c=await new VI(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=10*60*1e3;class KI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hC(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(kS(e))}saveEventToCache(e){this.cachedEventUids.add(kS(e)),this.lastProcessedEventTime=Date.now()}}function kS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function WI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QI=/^https?/;async function ZI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XI(t);for(const n of e)try{if(JI(n))return}catch{}wn(t,"unauthorized-domain")}function JI(t){const e=Cc(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!QI.test(n))return!1;if($I.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new gl(3e4,6e4);function PS(){const t=Ln().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tk(t){return new Promise((e,n)=>{var s,a,l;function c(){PS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PS(),n(Pn(t,"network-request-failed"))},timeout:ek.get()})}if(!((a=(s=Ln().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ln().gapi)===null||l===void 0)&&l.load)c();else{const h=YM("iframefcb");return Ln()[h]=()=>{gapi.load?c():n(Pn(t,"network-request-failed"))},XT(`${GM()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw uc=null,e})}let uc=null;function nk(t){return uc=uc||tk(t),uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new gl(5e3,15e3),sk="__/auth/iframe",rk="emulator/auth/iframe",ak={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ok=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lk(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pm(e,rk):`https://${t.config.authDomain}/${sk}`,s={apiKey:e.apiKey,appName:t.name,v:pa},a=ok.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${da(s).slice(1)}`}async function uk(t){const e=await nk(t),n=Ln().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:lk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ak,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Pn(t,"network-request-failed"),h=Ln().setTimeout(()=>{l(c)},ik.get());function d(){Ln().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fk=500,hk=600,dk="_blank",pk="http://localhost";class LS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mk(t,e,n,s=fk,a=hk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d=Object.assign(Object.assign({},ck),{width:s.toString(),height:a.toString(),top:l,left:c}),p=Mt().toLowerCase();n&&(h=HT(p)?dk:n),VT(p)&&(e=e||pk,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,b])=>`${v}${T}=${b},`,"");if(LM(p)&&h!=="_self")return gk(e||"",h),new LS(null);const y=window.open(e||"",h,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new LS(y)}function gk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="__/auth/handler",vk="emulator/auth/handler",_k=encodeURIComponent("fac");async function US(t,e,n,s,a,l){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:pa,eventId:a};if(e instanceof ZT){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Cp(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof vl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${_k}=${encodeURIComponent(d)}`:"";return`${Sk(t)}?${da(h).slice(1)}${p}`}function Sk({config:t}){return t.emulator?Pm(t,vk):`https://${t.authDomain}/${yk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aC,this._completeRedirectFn=GI,this._overrideRedirectResult=HI}async _openPopup(e,n,s,a){var l;fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await US(e,n,s,Cc(),a);return mk(e,c,zm())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await US(e,n,s,Cc(),a);return CI(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(fi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uk(e),s=new KI(e);return n.register("authEvent",a=>(oe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qd,{type:Qd},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[Qd];c!==void 0&&n(!!c),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KT()||zT()||Um()}}const Ek=bk;var jS="@firebase/auth",BS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wk(t){ea(new Fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;oe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WT(t)},p=new HM(s,a,l,d);return ZM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ea(new Fs("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(s=>new Tk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(jS,BS,Ck(t)),es(jS,BS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=5*60,Rk=ST("authIdTokenMaxAge")||Ak;let VS=null;const xk=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Rk)return;const a=n?.token;VS!==a&&(VS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _i(t=xT()){const e=Mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QM(t,{popupRedirectResolver:Ek,persistence:[II,bI,aC]}),s=ST("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=xk(l.toString());vI(n,c,()=>c(n.currentUser)),yI(n,h=>c(h))}}const a=vT("auth");return a&&JM(n,`http://${a}`),n}function Nk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Pn("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Nk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wk("Browser");var zS={};const HS="@firebase/database",FS="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dC="";function Ok(t){dC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ko(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return gi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dk(e)}}catch{}return new Mk},ks=pC("localStorage"),Ik=pC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Om("@firebase/database"),kk=function(){let t=1;return function(){return t++}}(),mC=function(t){const e=lD(t),n=new sD;n.update(e);const s=n.digest();return Am.encodeByteArray(s)},Sl=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Sl.apply(null,s):typeof s=="object"?e+=lt(s):e+=s,e+=" "}return e};let Lo=null,qS=!0;const Pk=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Qr.logLevel=Le.VERBOSE,Lo=Qr.log.bind(Qr)},Ct=function(...t){if(qS===!0&&(qS=!1,Lo===null&&Ik.get("logging_enabled")===!0&&Pk()),Lo){const e=Sl.apply(null,t);Lo(e)}},bl=function(t){return function(...e){Ct(t,...e)}},Ip=function(...t){const e="FIREBASE INTERNAL ERROR: "+Sl(...t);Qr.error(e)},hi=function(...t){const e=`FIREBASE FATAL ERROR: ${Sl(...t)}`;throw Qr.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+Sl(...t);Qr.warn(e)},Lk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Uk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ta="[MIN_NAME]",Ys="[MAX_NAME]",ga=function(t,e){if(t===e)return 0;if(t===ta||e===Ys)return-1;if(e===ta||t===Ys)return 1;{const n=GS(t),s=GS(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},jk=function(t,e){return t===e?0:t<e?-1:1},wo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+lt(e))},Fm=function(t){if(typeof t!="object"||t===null)return lt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=lt(e[s]),n+=":",n+=Fm(t[e[s]]);return n+="}",n},yC=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(t.substring(a,n)):s.push(t.substring(a,a+e));return s};function Ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vC=function(t){W(!gC(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,l,c,h,d;t===0?(l=0,c=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=h+s,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(l=0,c=Math.round(t/Math.pow(2,1-s-n))));const p=[];for(d=n;d;d-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(a?1:0),p.reverse();const g=p.join("");let y="";for(d=0;d<64;d+=8){let v=parseInt(g.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},Bk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Vk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Hk=new RegExp("^-?(0*)\\d{1,10}$"),Fk=-2147483648,qk=2147483647,GS=function(t){if(Hk.test(t)){const e=Number(t);if(e>=Fk&&e<=qk)return e}return null},ya=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Gk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class cc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="5",_C="v",SC="s",bC="r",EC="f",TC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CC="ls",wC="p",kp="ac",AC="websocket",RC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,s,a,l=!1,c="",h=!1,d=!1,p=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ks.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ks.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Wk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function NC(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let s;if(e===AC)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RC)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Wk(t)&&(n.ns=t.namespace);const a=[];return Ft(n,(l,c)=>{a.push(l+"="+c)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.counters_={}}incrementCounter(e,n=1){gi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return UO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={},Jd={};function Gm(t){const e=t.toString();return Zd[e]||(Zd[e]=new Xk),Zd[e]}function $k(t,e){const n=t.toString();return Jd[n]||(Jd[n]=e()),Jd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&ya(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="start",Zk="close",Jk="pLPCommand",eP="pRTLPCB",OC="id",DC="pw",MC="ser",tP="cb",nP="seg",iP="ts",sP="d",rP="dframe",IC=1870,kC=30,aP=IC-kC,oP=25e3,lP=3e4;class Hr{constructor(e,n,s,a,l,c,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(e),this.stats_=Gm(n),this.urlFn=d=>(this.appCheckToken&&(d[kp]=this.appCheckToken),NC(n,RC,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Qk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lP)),Uk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ym((...l)=>{const[c,h,d,p,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===YS)this.id=h,this.password=d;else if(c===Zk)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[YS]="t",s[MC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[tP]=this.scriptTagHolder.uniqueCallbackIdentifier),s[_C]=qm,this.transportSessionId&&(s[SC]=this.transportSessionId),this.lastSessionId&&(s[CC]=this.lastSessionId),this.applicationId&&(s[wC]=this.applicationId),this.appCheckToken&&(s[kp]=this.appCheckToken),typeof location<"u"&&location.hostname&&TC.test(location.hostname)&&(s[bC]=EC);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return Hr.forceAllow_?!0:!Hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Bk()&&!Vk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=gT(n),a=yC(s,aP);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[rP]="t",s[OC]=e,s[DC]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=lt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ym{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kk(),window[Jk+this.uniqueCallbackIdentifier]=e,window[eP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ym.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Ct("frame writing exception"),h.stack&&Ct(h.stack),Ct(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ct("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[OC]=this.myID,e[DC]=this.myPW,e[MC]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kC+s.length<=IC;){const c=this.pendingSegs.shift();s=s+"&"+nP+a+"="+c.seg+"&"+iP+a+"="+c.ts+"&"+sP+a+"="+c.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(oP)),l=()=>{clearTimeout(a),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=16384,cP=45e3;let Oc=null;typeof MozWebSocket<"u"?Oc=MozWebSocket:typeof WebSocket<"u"&&(Oc=WebSocket);class _n{constructor(e,n,s,a,l,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=Gm(n),this.connURL=_n.connectionURL_(n,c,h,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,l){const c={};return c[_C]=qm,typeof location<"u"&&location.hostname&&TC.test(location.hostname)&&(c[bC]=EC),n&&(c[SC]=n),s&&(c[CC]=s),a&&(c[kp]=a),l&&(c[wC]=l),NC(e,AC,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ks.set("previous_websocket_failure",!0);try{let s;$O(),this.mySock=new Oc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Oc!==null&&!_n.forceDisallow_}static previouslyFailed(){return ks.isInMemoryStorage||ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){ks.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ko(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=yC(n,uP);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static get ALL_TRANSPORTS(){return[Hr,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=_n&&_n.isAvailable();let s=n&&!_n.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[_n];else{const a=this.transports_=[];for(const l of Qo.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Qo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=6e4,hP=5e3,dP=10*1024,pP=100*1024,ep="t",KS="d",mP="s",WS="r",gP="e",XS="o",$S="a",QS="n",ZS="p",yP="h";class vP{constructor(e,n,s,a,l,c,h,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new Qo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ep in e){const n=e[ep];n===$S?this.upgradeIfSecondaryHealthy_():n===WS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===XS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=wo("t",e),s=wo("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ZS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$S,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:QS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=wo("t",e),s=wo("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=wo(ep,e);if(KS in e){const s=e[KS];if(n===yP){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===QS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mP?this.onConnectionShutdown_(s):n===WS?this.onReset_(s):n===gP?Ip("Server Error: "+s):n===XS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ip("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qm!==s&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ZS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends LC{static getInstance(){return new Dc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=32,eb=768;class je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ae(){return new je("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function is(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function UC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _P(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new je(e,0)}function ut(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof je)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new je(n,0)}function Ee(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=ve(t),s=ve(e);if(n===null)return e;if(n===s)return Ot(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Km(t,e){if(is(t)!==is(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function bn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(is(t)>is(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class SP{constructor(e,n){this.errorPrefix_=n,this.parts_=jC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Zc(this.parts_[s]);VC(this)}}function bP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zc(e),VC(t)}function EP(t){const e=t.parts_.pop();t.byteLength_-=Zc(e),t.parts_.length>0&&(t.byteLength_-=1)}function VC(t){if(t.byteLength_>eb)throw new Error(t.errorPrefix_+"has a key path longer than "+eb+" bytes ("+t.byteLength_+").");if(t.parts_.length>JS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JS+") or object contains a cycle "+Os(t))}function Os(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends LC{static getInstance(){return new Wm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=1e3,TP=60*5*1e3,tb=30*1e3,CP=1.3,wP=3e4,AP="server_kill",nb=3;class li extends PC{constructor(e,n,s,a,l,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=li.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ao,this.maxReconnectDelay_=TP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Dc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(lt(l)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new Qc,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,a){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(c).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const l={p:s},c="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,h=>{const d=h.d,p=h.s;li.warnOnListenWarnings_(d,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&gi(e,"w")){const s=Jr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nD(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const l=a.s,c=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},c="n";a&&(l.q=s,l.t=a),this.sendRequest(c,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,l){this.initConnection_();const c={p:n,d:s};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ip("Unrecognized action received from server: "+lt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ao,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ao,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wP&&(this.reconnectDelay_=Ao),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+li.nextConnectionId_++,l=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,s())},p=function(y){W(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Ct("getToken() completed but was canceled"):(Ct("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new vP(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,T=>{Vt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(AP)},l))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Vt(y),d())}}}interrupt(e){Ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cp(this.interruptReasons_)&&(this.reconnectDelay_=Ao,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>Fm(l)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new je(e).toString();let a;if(this.listens.has(s)){const l=this.listens.get(s);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){Ct("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nb&&(this.reconnectDelay_=tb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ct("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+dC.replace(/\./g,"-")]=1,xm()?e["framework.cordova"]=1:TT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Dc.getInstance().currentlyOnline();return Cp(this.interruptReasons_)&&e}}li.nextPersistentConnectionId_=0;li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new _e(ta,e),a=new _e(ta,n);return this.compare(s,a)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;class zC extends nf{static get __EMPTY_NODE(){return Qu}static set __EMPTY_NODE(e){Qu=e}compare(e,n){return ga(e.name,n.name)}isDefinedOn(e){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(Ys,Qu)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Qu)}toString(){return".key"}}const Zr=new zC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,s,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mt{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??mt.RED,this.left=a??jt.EMPTY_NODE,this.right=l??jt.EMPTY_NODE}copy(e,n,s,a,l){return new mt(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class RP{copy(e,n,s,a,l){return this}insert(e,n,s){return new mt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zu(this.root_,null,this.comparator_,!0,e)}}jt.EMPTY_NODE=new RP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e){return ga(t.name,e.name)}function Xm(t,e){return ga(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp;function NP(t){Pp=t}const HC=function(t){return typeof t=="number"?"number:"+vC(t):"string:"+t},FC=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gi(e,".sv"),"Priority must be a string or number.")}else W(t===Pp||t.isEmpty(),"priority of unexpected type.");W(t===Pp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ib;class pt{static set __childrenNodeConstructor(e){ib=e}static get __childrenNodeConstructor(){return ib}constructor(e,n=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ee(e)?this:ve(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(W(s!==".priority"||is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vC(this.value_):e+=this.value_,this.lazyHash_=mC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=pt.VALUE_TYPE_ORDER.indexOf(n),l=pt.VALUE_TYPE_ORDER.indexOf(s);return W(a>=0,"Unknown leaf type: "+n),W(l>=0,"Unknown leaf type: "+s),a===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qC,GC;function OP(t){qC=t}function DP(t){GC=t}class MP extends nf{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),l=s.compareTo(a);return l===0?ga(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(Ys,new pt("[PRIORITY-POST]",GC))}makePost(e,n){const s=qC(e);return new _e(n,new pt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ze=new MP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=Math.log(2);class kP{constructor(e){const n=l=>parseInt(Math.log(l)/IP,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mc=function(t,e,n,s){t.sort(e);const a=function(d,p){const g=p-d;let y,v;if(g===0)return null;if(g===1)return y=t[d],v=n?n(y):y,new mt(v,y.node,mt.BLACK,null,null);{const T=parseInt(g/2,10)+d,b=a(d,T),A=a(T+1,p);return y=t[T],v=n?n(y):y,new mt(v,y.node,mt.BLACK,b,A)}},l=function(d){let p=null,g=null,y=t.length;const v=function(b,A){const x=y-b,O=y;y-=b;const U=a(x+1,O),k=t[x],G=n?n(k):k;T(new mt(G,k.node,A,null,U))},T=function(b){p?(p.left=b,p=b):(g=b,p=b)};for(let b=0;b<d.count;++b){const A=d.nextBitIsOne(),x=Math.pow(2,d.count-(b+1));A?v(x,mt.BLACK):(v(x,mt.BLACK),v(x,mt.RED))}return g},c=new kP(t.length),h=l(c);return new jt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp;const Vr={};class ri{static get Default(){return W(Vr&&Ze,"ChildrenNode.ts has not been loaded"),tp=tp||new ri({".priority":Vr},{".priority":Ze}),tp}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Jr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return gi(this.indexSet_,e.toString())}addIndex(e,n){W(e!==Zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)a=a||e.isDefinedOn(c.node),s.push(c),c=l.getNext();let h;a?h=Mc(s,e.getCompare()):h=Vr;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new ri(g,p)}addToIndexes(e,n){const s=bc(this.indexes_,(a,l)=>{const c=Jr(this.indexSet_,l);if(W(c,"Missing index implementation for "+l),a===Vr)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(_e.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),Mc(h,c.getCompare())}else return Vr;else{const h=n.get(e.name);let d=a;return h&&(d=d.remove(new _e(e.name,h))),d.insert(e,e.node)}});return new ri(s,this.indexSet_)}removeFromIndexes(e,n){const s=bc(this.indexes_,a=>{if(a===Vr)return a;{const l=n.get(e.name);return l?a.remove(new _e(e.name,l)):a}});return new ri(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class le{static get EMPTY_NODE(){return Ro||(Ro=new le(new jt(Xm),null,ri.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&FC(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ro}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ro:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new _e(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const c=a.isEmpty()?Ro:this.priorityNode_;return new le(a,c,l)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{W(ve(e)!==".priority"||is(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Ve(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,l=!0;if(this.forEachChild(Ze,(c,h)=>{n[c]=h.val(e),s++,l&&le.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):l=!1}),!e&&l&&a<2*s){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HC(this.getPriority().val())+":"),this.forEachChild(Ze,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":mC(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const l=a.getPredecessorKey(new _e(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,_e.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===El?-1:0}withIndex(e){if(e===Zr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Zr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ze),a=n.getIterator(Ze);let l=s.getNext(),c=a.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=s.getNext(),c=a.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Zr?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PP extends le{constructor(){super(new jt(Xm),le.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const El=new PP;Object.defineProperties(_e,{MIN:{value:new _e(ta,le.EMPTY_NODE)},MAX:{value:new _e(Ys,El)}});zC.__EMPTY_NODE=le.EMPTY_NODE;pt.__childrenNodeConstructor=le;NP(El);DP(El);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=!0;function gt(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pt(n,gt(e))}if(!(t instanceof Array)&&LP){const n=[];let s=!1;if(Ft(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=gt(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),n.push(new _e(c,d)))}}),n.length===0)return le.EMPTY_NODE;const l=Mc(n,xP,c=>c.name,Xm);if(s){const c=Mc(n,Ze.getCompare());return new le(l,gt(e),new ri({".priority":c},{".priority":Ze}))}else return new le(l,gt(e),ri.Default)}else{let n=le.EMPTY_NODE;return Ft(t,(s,a)=>{if(gi(t,s)&&s.substring(0,1)!=="."){const l=gt(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(gt(e))}}OP(gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends nf{constructor(e){super(),this.indexPath_=e,W(!Ee(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),l=s.compareTo(a);return l===0?ga(e.name,n.name):l}makePost(e,n){const s=gt(e),a=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(n,a)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,El);return new _e(Ys,e)}toString(){return jC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends nf{compare(e,n){const s=e.node.compareTo(n.node);return s===0?ga(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const s=gt(e);return new _e(n,s)}toString(){return".value"}}const BP=new jP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){return{type:"value",snapshotNode:t}}function na(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.index_=e}updateChild(e,n,s,a,l,c){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(a).equals(s.getChild(a))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange(Zo(n,h)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(na(n,s)):c.trackChildChange(Jo(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ze,(a,l)=>{n.hasChild(a)||s.trackChildChange(Zo(a,l))}),n.isLeafNode()||n.forEachChild(Ze,(a,l)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(l)||s.trackChildChange(Jo(a,l,c))}else s.trackChildChange(na(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.indexedFilter_=new $m(e.getIndex()),this.index_=e.getIndex(),this.startPost_=el.getStartPost_(e),this.endPost_=el.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,l,c){return this.matches(new _e(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,l,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(le.EMPTY_NODE);const l=this;return n.forEachChild(Ze,(c,h)=>{l.matches(new _e(c,h))||(a=a.updateImmediateChild(c,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new el(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,l,c){return this.rangedFilter_.matches(new _e(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,l,c):this.fullLimitUpdateChild_(e,n,s,l,c)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=le.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(le.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let c=0;for(;l.hasNext();){const h=l.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:a=a.updateImmediateChild(h.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,l){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,T)=>y(T,v)}else c=this.index_.getCompare();const h=e;W(h.numChildren()===this.limit_,"");const d=new _e(n,s),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===n||h.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:c(v,d);if(g&&!s.isEmpty()&&T>=0)return l?.trackChildChange(Jo(n,s,y)),h.updateImmediateChild(n,s);{l?.trackChildChange(Zo(n,y));const A=h.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l?.trackChildChange(na(v.name,v.node)),A.updateImmediateChild(v.name,v.node)):A}}else return s.isEmpty()?e:g&&c(p,d)>=0?(l!=null&&(l.trackChildChange(Zo(p.name,p.node)),l.trackChildChange(na(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(p.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const e=new Qm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function HP(t){return t.loadsAllData()?new $m(t.getIndex()):t.hasLimit()?new zP(t):new el(t)}function sb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ze?n="$priority":t.index_===BP?n="$value":t.index_===Zr?n="$key":(W(t.index_ instanceof UP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=lt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=lt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+lt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=lt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+lt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends PC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=bl("p:rest:"),this.listens_={}}listen(e,n,s,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=Ic.getListenId_(e,s),h={};this.listens_[c]=h;const d=sb(e._queryParams);this.restRequest_(l+".json",d,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,s),Jr(this.listens_,c)===h){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",a(v,null)}})}unlisten(e,n){const s=Ic.getListenId_(e,n);delete this.listens_[s]}get(e){const n=sb(e._queryParams),s=e._path.toString(),a=new Qc;return this.restRequest_(s+".json",n,(l,c)=>{let h=c;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+da(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Ko(h.responseText)}catch{Vt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&Vt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(){return{value:null,children:new Map}}function KC(t,e,n){if(Ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ve(e);t.children.has(s)||t.children.set(s,kc());const a=t.children.get(s);e=Ve(e),KC(a,e,n)}}function Lp(t,e,n){t.value!==null?n(e,t.value):qP(t,(s,a)=>{const l=new je(e.toString()+"/"+s);Lp(a,l,n)})}function qP(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ft(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=10*1e3,YP=30*1e3,KP=5*60*1e3;class WP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GP(e);const s=ab+(YP-ab)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ft(e,(a,l)=>{l>0&&gi(this.statsToReport_,a)&&(n[a]=l,s=!0)}),s&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*KP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function WC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Jm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=En.ACK_USER_WRITE,this.source=WC()}operationForChild(e){if(Ee(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new je(e));return new Pc(Ae(),n,this.revert)}}else return W(ve(this.path)===e,"operationForChild called for unrelated child."),new Pc(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return Ee(this.path)?new tl(this.source,Ae()):new tl(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=En.OVERWRITE}operationForChild(e){return Ee(this.path)?new Ks(this.source,Ae(),this.snap.getImmediateChild(e)):new Ks(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=En.MERGE}operationForChild(e){if(Ee(this.path)){const n=this.children.subtree(new je(e));return n.isEmpty()?null:n.value?new Ks(this.source,Ae(),n.value):new nl(this.source,Ae(),n)}else return W(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nl(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $P(t,e,n,s){const a=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(VP(c.childName,c.snapshotNode))}),xo(t,a,"child_removed",e,s,n),xo(t,a,"child_added",e,s,n),xo(t,a,"child_moved",l,s,n),xo(t,a,"child_changed",e,s,n),xo(t,a,"value",e,s,n),a}function xo(t,e,n,s,a,l){const c=s.filter(h=>h.type===n);c.sort((h,d)=>ZP(t,h,d)),c.forEach(h=>{const d=QP(t,h,l);a.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function QP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZP(t,e,n){if(e.childName==null||n.childName==null)throw fa("Should only compare child_ events.");const s=new _e(e.childName,e.snapshotNode),a=new _e(n.childName,n.snapshotNode);return t.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e){return{eventCache:t,serverCache:e}}function jo(t,e,n,s){return sf(new ss(e,n,s),t.serverCache)}function XC(t,e,n,s){return sf(t.eventCache,new ss(e,n,s))}function Lc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np;const JP=()=>(np||(np=new jt(jk)),np);class ze{static fromObject(e){let n=new ze(null);return Ft(e,(s,a)=>{n=n.set(new je(s),a)}),n}constructor(e,n=JP()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ae(),value:this.value};if(Ee(e))return null;{const s=ve(e),a=this.children.get(s);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Ve(e),n);return l!=null?{path:ut(new je(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ee(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(Ve(e)):new ze(null)}}set(e,n){if(Ee(e))return new ze(n,this.children);{const s=ve(e),l=(this.children.get(s)||new ze(null)).set(Ve(e),n),c=this.children.insert(s,l);return new ze(this.value,c)}}remove(e){if(Ee(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const a=s.remove(Ve(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new ze(null):new ze(this.value,l)}else return this}}get(e){if(Ee(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(Ve(e)):null}}setTree(e,n){if(Ee(e))return n;{const s=ve(e),l=(this.children.get(s)||new ze(null)).setTree(Ve(e),n);let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),new ze(this.value,c)}}fold(e){return this.fold_(Ae(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,l)=>{s[a]=l.fold_(ut(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ae(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(Ee(e))return null;{const l=ve(e),c=this.children.get(l);return c?c.findOnPath_(Ve(e),ut(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ae(),n)}foreachOnPath_(e,n,s){if(Ee(e))return this;{this.value&&s(n,this.value);const a=ve(e),l=this.children.get(a);return l?l.foreachOnPath_(Ve(e),ut(n,a),s):new ze(null)}}foreach(e){this.foreach_(Ae(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(ut(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.writeTree_=e}static empty(){return new Tn(new ze(null))}}function Bo(t,e,n){if(Ee(e))return new Tn(new ze(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let l=s.value;const c=Ot(a,e);return l=l.updateChild(c,n),new Tn(t.writeTree_.set(a,l))}else{const a=new ze(n),l=t.writeTree_.setTree(e,a);return new Tn(l)}}}function ob(t,e,n){let s=t;return Ft(n,(a,l)=>{s=Bo(s,ut(e,a),l)}),s}function lb(t,e){if(Ee(e))return Tn.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new Tn(n)}}function Up(t,e){return Zs(t,e)!=null}function Zs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function ub(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ze,(s,a)=>{e.push(new _e(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new _e(s,a.value))}),e}function ts(t,e){if(Ee(e))return t;{const n=Zs(t,e);return n!=null?new Tn(new ze(n)):new Tn(t.writeTree_.subtree(e))}}function jp(t){return t.writeTree_.isEmpty()}function ia(t,e){return $C(Ae(),t.writeTree_,e)}function $C(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(W(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=$C(ut(t,a),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(ut(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e){return ew(e,t)}function eL(t,e,n,s,a){W(s>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(t.visibleWrites=Bo(t.visibleWrites,e,n)),t.lastWriteId=s}function tL(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function nL(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let a=s.visible,l=!1,c=t.allWrites.length-1;for(;a&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&iL(h,s.path)?a=!1:bn(s.path,h.path)&&(l=!0)),c--}if(a){if(l)return sL(t),!0;if(s.snap)t.visibleWrites=lb(t.visibleWrites,s.path);else{const h=s.children;Ft(h,d=>{t.visibleWrites=lb(t.visibleWrites,ut(s.path,d))})}return!0}else return!1}function iL(t,e){if(t.snap)return bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bn(ut(t.path,n),e))return!0;return!1}function sL(t){t.visibleWrites=QC(t.allWrites,rL,Ae()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rL(t){return t.visible}function QC(t,e,n){let s=Tn.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const c=l.path;let h;if(l.snap)bn(n,c)?(h=Ot(n,c),s=Bo(s,h,l.snap)):bn(c,n)&&(h=Ot(c,n),s=Bo(s,Ae(),l.snap.getChild(h)));else if(l.children){if(bn(n,c))h=Ot(n,c),s=ob(s,h,l.children);else if(bn(c,n))if(h=Ot(c,n),Ee(h))s=ob(s,Ae(),l.children);else{const d=Jr(l.children,ve(h));if(d){const p=d.getChild(Ve(h));s=Bo(s,Ae(),p)}}}else throw fa("WriteRecord should have .snap or .children")}}return s}function ZC(t,e,n,s,a){if(!s&&!a){const l=Zs(t.visibleWrites,e);if(l!=null)return l;{const c=ts(t.visibleWrites,e);if(jp(c))return n;if(n==null&&!Up(c,Ae()))return null;{const h=n||le.EMPTY_NODE;return ia(c,h)}}}else{const l=ts(t.visibleWrites,e);if(!a&&jp(l))return n;if(!a&&n==null&&!Up(l,Ae()))return null;{const c=function(p){return(p.visible||a)&&(!s||!~s.indexOf(p.writeId))&&(bn(p.path,e)||bn(e,p.path))},h=QC(t.allWrites,c,e),d=n||le.EMPTY_NODE;return ia(h,d)}}}function aL(t,e,n){let s=le.EMPTY_NODE;const a=Zs(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Ze,(l,c)=>{s=s.updateImmediateChild(l,c)}),s;if(n){const l=ts(t.visibleWrites,e);return n.forEachChild(Ze,(c,h)=>{const d=ia(ts(l,new je(c)),h);s=s.updateImmediateChild(c,d)}),ub(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const l=ts(t.visibleWrites,e);return ub(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function oL(t,e,n,s,a){W(s||a,"Either existingEventSnap or existingServerSnap must exist");const l=ut(e,n);if(Up(t.visibleWrites,l))return null;{const c=ts(t.visibleWrites,l);return jp(c)?a.getChild(n):ia(c,a.getChild(n))}}function lL(t,e,n,s){const a=ut(e,n),l=Zs(t.visibleWrites,a);if(l!=null)return l;if(s.isCompleteForChild(n)){const c=ts(t.visibleWrites,a);return ia(c,s.getNode().getImmediateChild(n))}else return null}function uL(t,e){return Zs(t.visibleWrites,e)}function cL(t,e,n,s,a,l,c){let h;const d=ts(t.visibleWrites,e),p=Zs(d,Ae());if(p!=null)h=p;else if(n!=null)h=ia(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),v=l?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let T=v.getNext();for(;T&&g.length<a;)y(T,s)!==0&&g.push(T),T=v.getNext();return g}else return[]}function fL(){return{visibleWrites:Tn.empty(),allWrites:[],lastWriteId:-1}}function Uc(t,e,n,s){return ZC(t.writeTree,t.treePath,e,n,s)}function eg(t,e){return aL(t.writeTree,t.treePath,e)}function cb(t,e,n,s){return oL(t.writeTree,t.treePath,e,n,s)}function jc(t,e){return uL(t.writeTree,ut(t.treePath,e))}function hL(t,e,n,s,a,l){return cL(t.writeTree,t.treePath,e,n,s,a,l)}function tg(t,e,n){return lL(t.writeTree,t.treePath,e,n)}function JC(t,e){return ew(ut(t.treePath,e),t.writeTree)}function ew(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,Jo(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,Zo(s,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,na(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,Jo(s,e.snapshotNode,a.oldSnap));else throw fa("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const tw=new pL;class ng{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tg(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ws(this.viewCache_),l=hL(this.writes_,a,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){return{filter:t}}function gL(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yL(t,e,n,s,a){const l=new dL;let c,h;if(n.type===En.OVERWRITE){const p=n;p.source.fromUser?c=Bp(t,e,p.path,p.snap,s,a,l):(W(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Ee(p.path),c=Bc(t,e,p.path,p.snap,s,a,h,l))}else if(n.type===En.MERGE){const p=n;p.source.fromUser?c=_L(t,e,p.path,p.children,s,a,l):(W(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=Vp(t,e,p.path,p.children,s,a,h,l))}else if(n.type===En.ACK_USER_WRITE){const p=n;p.revert?c=EL(t,e,p.path,s,a,l):c=SL(t,e,p.path,p.affectedTree,s,a,l)}else if(n.type===En.LISTEN_COMPLETE)c=bL(t,e,n.path,s,l);else throw fa("Unknown operation type: "+n.type);const d=l.getChanges();return vL(e,c,d),{viewCache:c,changes:d}}function vL(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=Lc(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(YC(Lc(e)))}}function nw(t,e,n,s,a,l){const c=e.eventCache;if(jc(s,n)!=null)return e;{let h,d;if(Ee(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ws(e),g=p instanceof le?p:le.EMPTY_NODE,y=eg(s,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=Uc(s,Ws(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=ve(n);if(p===".priority"){W(is(n)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=cb(s,n,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=Ve(n);let y;if(c.isCompleteForChild(p)){d=e.serverCache.getNode();const v=cb(s,n,c.getNode(),d);v!=null?y=c.getNode().getImmediateChild(p).updateChild(g,v):y=c.getNode().getImmediateChild(p)}else y=tg(s,p,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),p,y,g,a,l):h=c.getNode()}}return jo(e,h,c.isFullyInitialized()||Ee(n),t.filter.filtersNodes())}}function Bc(t,e,n,s,a,l,c,h){const d=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(Ee(n))p=g.updateFullNode(d.getNode(),s,null);else if(g.filtersNodes()&&!d.isFiltered()){const T=d.getNode().updateChild(n,s);p=g.updateFullNode(d.getNode(),T,null)}else{const T=ve(n);if(!d.isCompleteForPath(n)&&is(n)>1)return e;const b=Ve(n),x=d.getNode().getImmediateChild(T).updateChild(b,s);T===".priority"?p=g.updatePriority(d.getNode(),x):p=g.updateChild(d.getNode(),T,x,b,tw,null)}const y=XC(e,p,d.isFullyInitialized()||Ee(n),g.filtersNodes()),v=new ng(a,y,l);return nw(t,y,n,a,v,h)}function Bp(t,e,n,s,a,l,c){const h=e.eventCache;let d,p;const g=new ng(a,e,l);if(Ee(n))p=t.filter.updateFullNode(e.eventCache.getNode(),s,c),d=jo(e,p,!0,t.filter.filtersNodes());else{const y=ve(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),s),d=jo(e,p,h.isFullyInitialized(),h.isFiltered());else{const v=Ve(n),T=h.getNode().getImmediateChild(y);let b;if(Ee(v))b=s;else{const A=g.getCompleteChild(y);A!=null?UC(v)===".priority"&&A.getChild(BC(v)).isEmpty()?b=A:b=A.updateChild(v,s):b=le.EMPTY_NODE}if(T.equals(b))d=e;else{const A=t.filter.updateChild(h.getNode(),y,b,v,g,c);d=jo(e,A,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function fb(t,e){return t.eventCache.isCompleteForChild(e)}function _L(t,e,n,s,a,l,c){let h=e;return s.foreach((d,p)=>{const g=ut(n,d);fb(e,ve(g))&&(h=Bp(t,h,g,p,a,l,c))}),s.foreach((d,p)=>{const g=ut(n,d);fb(e,ve(g))||(h=Bp(t,h,g,p,a,l,c))}),h}function hb(t,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function Vp(t,e,n,s,a,l,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;Ee(n)?p=s:p=new ze(null).setTree(n,s);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const T=e.serverCache.getNode().getImmediateChild(y),b=hb(t,T,v);d=Bc(t,d,new je(y),b,a,l,c,h)}}),p.children.inorderTraversal((y,v)=>{const T=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!T){const b=e.serverCache.getNode().getImmediateChild(y),A=hb(t,b,v);d=Bc(t,d,new je(y),A,a,l,c,h)}}),d}function SL(t,e,n,s,a,l,c){if(jc(a,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(s.value!=null){if(Ee(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Bc(t,e,n,d.getNode().getChild(n),a,l,h,c);if(Ee(n)){let p=new ze(null);return d.getNode().forEachChild(Zr,(g,y)=>{p=p.set(new je(g),y)}),Vp(t,e,n,p,a,l,h,c)}else return e}else{let p=new ze(null);return s.foreach((g,y)=>{const v=ut(n,g);d.isCompleteForPath(v)&&(p=p.set(g,d.getNode().getChild(v)))}),Vp(t,e,n,p,a,l,h,c)}}function bL(t,e,n,s,a){const l=e.serverCache,c=XC(e,l.getNode(),l.isFullyInitialized()||Ee(n),l.isFiltered());return nw(t,c,n,s,tw,a)}function EL(t,e,n,s,a,l){let c;if(jc(s,n)!=null)return e;{const h=new ng(s,e,a),d=e.eventCache.getNode();let p;if(Ee(n)||ve(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Uc(s,Ws(e));else{const y=e.serverCache.getNode();W(y instanceof le,"serverChildren would be complete if leaf node"),g=eg(s,y)}g=g,p=t.filter.updateFullNode(d,g,l)}else{const g=ve(n);let y=tg(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?p=t.filter.updateChild(d,g,y,Ve(n),h,l):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,le.EMPTY_NODE,Ve(n),h,l):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Uc(s,Ws(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,l)))}return c=e.serverCache.isFullyInitialized()||jc(s,Ae())!=null,jo(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new $m(s.getIndex()),l=HP(s);this.processor_=mL(l);const c=n.serverCache,h=n.eventCache,d=a.updateFullNode(le.EMPTY_NODE,c.getNode(),null),p=l.updateFullNode(le.EMPTY_NODE,h.getNode(),null),g=new ss(d,c.isFullyInitialized(),a.filtersNodes()),y=new ss(p,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=sf(y,g),this.eventGenerator_=new XP(this.query_)}get query(){return this.query_}}function CL(t){return t.viewCache_.serverCache.getNode()}function wL(t){return Lc(t.viewCache_)}function AL(t,e){const n=Ws(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ee(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function db(t){return t.eventRegistrations_.length===0}function RL(t,e){t.eventRegistrations_.push(e)}function pb(t,e,n){const s=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(n,a);c&&s.push(c)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const c=t.eventRegistrations_[l];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function mb(t,e,n,s){e.type===En.MERGE&&e.source.queryId!==null&&(W(Ws(t.viewCache_),"We should always have a full cache before handling merges"),W(Lc(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=yL(t.processor_,a,e,n,s);return gL(t.processor_,l.viewCache),W(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,iw(t,l.changes,l.viewCache.eventCache.getNode(),null)}function xL(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ze,(l,c)=>{s.push(na(l,c))}),n.isFullyInitialized()&&s.push(YC(n.getNode())),iw(t,s,n.getNode(),e)}function iw(t,e,n,s){const a=s?[s]:t.eventRegistrations_;return $P(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;class sw{constructor(){this.views=new Map}}function NL(t){W(!Vc,"__referenceConstructor has already been defined"),Vc=t}function OL(){return W(Vc,"Reference.ts has not been loaded"),Vc}function DL(t){return t.views.size===0}function ig(t,e,n,s){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return W(l!=null,"SyncTree gave us an op for an invalid query."),mb(l,e,n,s)}else{let l=[];for(const c of t.views.values())l=l.concat(mb(c,e,n,s));return l}}function rw(t,e,n,s,a){const l=e._queryIdentifier,c=t.views.get(l);if(!c){let h=Uc(n,a?s:null),d=!1;h?d=!0:s instanceof le?(h=eg(n,s),d=!1):(h=le.EMPTY_NODE,d=!1);const p=sf(new ss(h,d,!1),new ss(s,a,!1));return new TL(e,p)}return c}function ML(t,e,n,s,a,l){const c=rw(t,e,s,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),RL(c,n),xL(c,n)}function IL(t,e,n,s){const a=e._queryIdentifier,l=[];let c=[];const h=rs(t);if(a==="default")for(const[d,p]of t.views.entries())c=c.concat(pb(p,n,s)),db(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||l.push(p.query));else{const d=t.views.get(a);d&&(c=c.concat(pb(d,n,s)),db(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||l.push(d.query)))}return h&&!rs(t)&&l.push(new(OL())(e._repo,e._path)),{removed:l,events:c}}function aw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ns(t,e){let n=null;for(const s of t.views.values())n=n||AL(s,e);return n}function ow(t,e){if(e._queryParams.loadsAllData())return af(t);{const s=e._queryIdentifier;return t.views.get(s)}}function lw(t,e){return ow(t,e)!=null}function rs(t){return af(t)!=null}function af(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;function kL(t){W(!zc,"__referenceConstructor has already been defined"),zc=t}function PL(){return W(zc,"Reference.ts has not been loaded"),zc}let LL=1;class gb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=fL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uw(t,e,n,s,a){return eL(t.pendingWriteTree_,e,n,s,a),a?Cl(t,new Ks(WC(),e,n)):[]}function Ps(t,e,n=!1){const s=tL(t.pendingWriteTree_,e);if(nL(t.pendingWriteTree_,e)){let l=new ze(null);return s.snap!=null?l=l.set(Ae(),!0):Ft(s.children,c=>{l=l.set(new je(c),!0)}),Cl(t,new Pc(s.path,l,n))}else return[]}function Tl(t,e,n){return Cl(t,new Ks(Zm(),e,n))}function UL(t,e,n){const s=ze.fromObject(n);return Cl(t,new nl(Zm(),e,s))}function jL(t,e){return Cl(t,new tl(Zm(),e))}function BL(t,e,n){const s=rg(t,n);if(s){const a=ag(s),l=a.path,c=a.queryId,h=Ot(l,e),d=new tl(Jm(c),h);return og(t,l,d)}else return[]}function Hc(t,e,n,s,a=!1){const l=e._path,c=t.syncPointTree_.get(l);let h=[];if(c&&(e._queryIdentifier==="default"||lw(c,e))){const d=IL(c,e,n,s);DL(c)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=d.removed;if(h=d.events,!a){const g=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,T)=>rs(T));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const T=HL(v);for(let b=0;b<T.length;++b){const A=T[b],x=A.query,O=dw(t,A);t.listenProvider_.startListening(Vo(x),il(t,x),O.hashFn,O.onComplete)}}}!y&&p.length>0&&!s&&(g?t.listenProvider_.stopListening(Vo(e),null):p.forEach(v=>{const T=t.queryToTagMap.get(of(v));t.listenProvider_.stopListening(Vo(v),T)}))}FL(t,p)}return h}function cw(t,e,n,s){const a=rg(t,s);if(a!=null){const l=ag(a),c=l.path,h=l.queryId,d=Ot(c,e),p=new Ks(Jm(h),d,n);return og(t,c,p)}else return[]}function VL(t,e,n,s){const a=rg(t,s);if(a){const l=ag(a),c=l.path,h=l.queryId,d=Ot(c,e),p=ze.fromObject(n),g=new nl(Jm(h),d,p);return og(t,c,g)}else return[]}function zp(t,e,n,s=!1){const a=e._path;let l=null,c=!1;t.syncPointTree_.foreachOnPath(a,(v,T)=>{const b=Ot(v,a);l=l||ns(T,b),c=c||rs(T)});let h=t.syncPointTree_.get(a);h?(c=c||rs(h),l=l||ns(h,Ae())):(h=new sw,t.syncPointTree_=t.syncPointTree_.set(a,h));let d;l!=null?d=!0:(d=!1,l=le.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((T,b)=>{const A=ns(b,Ae());A&&(l=l.updateImmediateChild(T,A))}));const p=lw(h,e);if(!p&&!e._queryParams.loadsAllData()){const v=of(e);W(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=qL();t.queryToTagMap.set(v,T),t.tagToQueryMap.set(T,v)}const g=rf(t.pendingWriteTree_,a);let y=ML(h,e,n,g,l,d);if(!p&&!c&&!s){const v=ow(h,e);y=y.concat(GL(t,e,v))}return y}function sg(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=Ot(c,e),p=ns(h,d);if(p)return p});return ZC(a,e,l,n,!0)}function zL(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(p,g)=>{const y=Ot(p,n);s=s||ns(g,y)});let a=t.syncPointTree_.get(n);a?s=s||ns(a,Ae()):(a=new sw,t.syncPointTree_=t.syncPointTree_.set(n,a));const l=s!=null,c=l?new ss(s,!0,!1):null,h=rf(t.pendingWriteTree_,e._path),d=rw(a,e,h,l?c.getNode():le.EMPTY_NODE,l);return wL(d)}function Cl(t,e){return fw(e,t.syncPointTree_,null,rf(t.pendingWriteTree_,Ae()))}function fw(t,e,n,s){if(Ee(t.path))return hw(t,e,n,s);{const a=e.get(Ae());n==null&&a!=null&&(n=ns(a,Ae()));let l=[];const c=ve(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const p=n?n.getImmediateChild(c):null,g=JC(s,c);l=l.concat(fw(h,d,p,g))}return a&&(l=l.concat(ig(a,t,s,n))),l}}function hw(t,e,n,s){const a=e.get(Ae());n==null&&a!=null&&(n=ns(a,Ae()));let l=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,p=JC(s,c),g=t.operationForChild(c);g&&(l=l.concat(hw(g,h,d,p)))}),a&&(l=l.concat(ig(a,t,s,n))),l}function dw(t,e){const n=e.query,s=il(t,n);return{hashFn:()=>(CL(e)||le.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?BL(t,n._path,s):jL(t,n._path);{const l=zk(a,n);return Hc(t,n,null,l)}}}}function il(t,e){const n=of(e);return t.queryToTagMap.get(n)}function of(t){return t._path.toString()+"$"+t._queryIdentifier}function rg(t,e){return t.tagToQueryMap.get(e)}function ag(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function og(t,e,n){const s=t.syncPointTree_.get(e);W(s,"Missing sync point for query tag that we're tracking");const a=rf(t.pendingWriteTree_,e);return ig(s,n,a,null)}function HL(t){return t.fold((e,n,s)=>{if(n&&rs(n))return[af(n)];{let a=[];return n&&(a=aw(n)),Ft(s,(l,c)=>{a=a.concat(c)}),a}})}function Vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(PL())(t._repo,t._path):t}function FL(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=of(s),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function qL(){return LL++}function GL(t,e,n){const s=e._path,a=il(t,e),l=dw(t,n),c=t.listenProvider_.startListening(Vo(e),a,l.hashFn,l.onComplete),h=t.syncPointTree_.subtree(s);if(a)W(!rs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,g,y)=>{if(!Ee(p)&&g&&rs(g))return[af(g).query];{let v=[];return g&&(v=v.concat(aw(g).map(T=>T.query))),Ft(y,(T,b)=>{v=v.concat(b)}),v}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(Vo(g),il(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new lg(n)}node(){return this.node_}}class ug{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ut(this.path_,e);return new ug(this.syncTree_,n)}node(){return sg(this.syncTree_,this.path_)}}const YL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yb=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return KL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return WL(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},KL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},WL=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&W(!1,"Unexpected increment value: "+s);const a=e.node();if(W(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const c=a.getValue();return typeof c!="number"?s:c+s},XL=function(t,e,n,s){return cg(e,new ug(n,t),s)},pw=function(t,e,n){return cg(t,new lg(e),n)};function cg(t,e,n){const s=t.getPriority().val(),a=yb(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const c=t,h=yb(c.getValue(),e,n);return h!==c.getValue()||a!==c.getPriority().val()?new pt(h,gt(a)):t}else{const c=t;return l=c,a!==c.getPriority().val()&&(l=l.updatePriority(new pt(a))),c.forEachChild(Ze,(h,d)=>{const p=cg(d,e.getImmediateChild(h),n);p!==d&&(l=l.updateImmediateChild(h,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function hg(t,e){let n=e instanceof je?e:new je(e),s=t,a=ve(n);for(;a!==null;){const l=Jr(s.node.children,a)||{children:{},childCount:0};s=new fg(a,s,l),n=Ve(n),a=ve(n)}return s}function va(t){return t.node.value}function mw(t,e){t.node.value=e,Hp(t)}function gw(t){return t.node.childCount>0}function $L(t){return va(t)===void 0&&!gw(t)}function lf(t,e){Ft(t.node.children,(n,s)=>{e(new fg(n,t,s))})}function yw(t,e,n,s){n&&e(t),lf(t,a=>{yw(a,e,!0)})}function QL(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function wl(t){return new je(t.parent===null?t.name:wl(t.parent)+"/"+t.name)}function Hp(t){t.parent!==null&&ZL(t.parent,t.name,t)}function ZL(t,e,n){const s=$L(n),a=gi(t.node.children,e);s&&a?(delete t.node.children[e],t.node.childCount--,Hp(t)):!s&&!a&&(t.node.children[e]=n.node,t.node.childCount++,Hp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=/[\[\].#$\/\u0000-\u001F\u007F]/,e2=/[\[\].#$\u0000-\u001F\u007F]/,ip=10*1024*1024,vw=function(t){return typeof t=="string"&&t.length!==0&&!JL.test(t)},_w=function(t){return typeof t=="string"&&t.length!==0&&!e2.test(t)},t2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_w(t)},n2=function(t,e,n,s){dg(Nm(t,"value"),e,n)},dg=function(t,e,n){const s=n instanceof je?new SP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Os(s));if(typeof e=="function")throw new Error(t+"contains a function "+Os(s)+" with contents = "+e.toString());if(gC(e))throw new Error(t+"contains "+e.toString()+" "+Os(s));if(typeof e=="string"&&e.length>ip/3&&Zc(e)>ip)throw new Error(t+"contains a string greater than "+ip+" utf8 bytes "+Os(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(Ft(e,(c,h)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!vw(c)))throw new Error(t+" contains an invalid key ("+c+") "+Os(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bP(s,c),dg(t,h,s),EP(s)}),a&&l)throw new Error(t+' contains ".value" child '+Os(s)+" in addition to actual children.")}},Sw=function(t,e,n,s){if(!_w(n))throw new Error(Nm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},i2=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sw(t,e,n)},bw=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},s2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!t2(n))throw new Error(Nm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pg(t,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],l=a.getPath();n!==null&&!Km(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function Ew(t,e,n){pg(t,n),Tw(t,s=>Km(s,e))}function Vn(t,e,n){pg(t,n),Tw(t,s=>bn(s,e)||bn(e,s))}function Tw(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];if(a){const l=a.path;e(l)?(a2(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function a2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Lo&&Ct("event: "+n.toString()),ya(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="repo_interrupt",l2=25;class u2{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new r2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kc(),this.transactionQueueTree_=new fg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function c2(t,e,n){if(t.stats_=Gm(t.repoInfo_),t.forceRestClient_||Gk())t.server_=new Ic(t.repoInfo_,(s,a,l,c)=>{vb(t,s,a,l,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_b(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new li(t.repoInfo_,e,(s,a,l,c)=>{vb(t,s,a,l,c)},s=>{_b(t,s)},s=>{h2(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=$k(t.repoInfo_,()=>new WP(t.stats_,t.server_)),t.infoData_=new FP,t.infoSyncTree_=new gb({startListening:(s,a,l,c)=>{let h=[];const d=t.infoData_.getNode(s._path);return d.isEmpty()||(h=Tl(t.infoSyncTree_,s._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),gg(t,"connected",!1),t.serverSyncTree_=new gb({startListening:(s,a,l,c)=>(t.server_.listen(s,l,a,(h,d)=>{const p=c(h,d);Vn(t.eventQueue_,s._path,p)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}function f2(t){const n=t.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mg(t){return YL({timestamp:f2(t)})}function vb(t,e,n,s,a){t.dataUpdateCount++;const l=new je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(a)if(s){const d=bc(n,p=>gt(p));c=VL(t.serverSyncTree_,l,d,a)}else{const d=gt(n);c=cw(t.serverSyncTree_,l,d,a)}else if(s){const d=bc(n,p=>gt(p));c=UL(t.serverSyncTree_,l,d)}else{const d=gt(n);c=Tl(t.serverSyncTree_,l,d)}let h=l;c.length>0&&(h=cf(t,l)),Vn(t.eventQueue_,h,c)}function _b(t,e){gg(t,"connected",e),e===!1&&m2(t)}function h2(t,e){Ft(e,(n,s)=>{gg(t,n,s)})}function gg(t,e,n){const s=new je("/.info/"+e),a=gt(n);t.infoData_.updateSnapshot(s,a);const l=Tl(t.infoSyncTree_,s,a);Vn(t.eventQueue_,s,l)}function Cw(t){return t.nextWriteId_++}function d2(t,e,n){const s=zL(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(a=>{const l=gt(a).withIndex(e._queryParams.getIndex());zp(t.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=Tl(t.serverSyncTree_,e._path,l);else{const h=il(t.serverSyncTree_,e);c=cw(t.serverSyncTree_,e._path,l,h)}return Vn(t.eventQueue_,e._path,c),Hc(t.serverSyncTree_,e,n,null,!0),l},a=>(uf(t,"get for query "+lt(e)+" failed: "+a),Promise.reject(new Error(a))))}function p2(t,e,n,s,a){uf(t,"set",{path:e.toString(),value:n,priority:s});const l=mg(t),c=gt(n,s),h=sg(t.serverSyncTree_,e),d=pw(c,h,l),p=Cw(t),g=uw(t.serverSyncTree_,e,d,p,!0);pg(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,T)=>{const b=v==="ok";b||Vt("set at "+e+" failed: "+v);const A=Ps(t.serverSyncTree_,p,!b);Vn(t.eventQueue_,e,A),_2(t,a,v,T)});const y=Nw(t,e);cf(t,y),Vn(t.eventQueue_,y,[])}function m2(t){uf(t,"onDisconnectEvents");const e=mg(t),n=kc();Lp(t.onDisconnect_,Ae(),(a,l)=>{const c=XL(a,l,t.serverSyncTree_,e);KC(n,a,c)});let s=[];Lp(n,Ae(),(a,l)=>{s=s.concat(Tl(t.serverSyncTree_,a,l));const c=Nw(t,a);cf(t,c)}),t.onDisconnect_=kc(),Vn(t.eventQueue_,Ae(),s)}function g2(t,e,n){let s;ve(e._path)===".info"?s=zp(t.infoSyncTree_,e,n):s=zp(t.serverSyncTree_,e,n),Ew(t.eventQueue_,e._path,s)}function y2(t,e,n){let s;ve(e._path)===".info"?s=Hc(t.infoSyncTree_,e,n):s=Hc(t.serverSyncTree_,e,n),Ew(t.eventQueue_,e._path,s)}function v2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(o2)}function uf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ct(n,...e)}function _2(t,e,n,s){e&&ya(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;s&&(l+=": "+s);const c=new Error(l);c.code=a,e(c)}})}function ww(t,e,n){return sg(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function yg(t,e=t.transactionQueueTree_){if(e||ff(t,e),va(e)){const n=Rw(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&S2(t,wl(e),n)}else gw(e)&&lf(e,n=>{yg(t,n)})}function S2(t,e,n){const s=n.map(p=>p.currentWriteId),a=ww(t,e,s);let l=a;const c=a.hash();for(let p=0;p<n.length;p++){const g=n[p];W(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ot(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const h=l.val(!0),d=e;t.server_.put(d.toString(),h,p=>{uf(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Ps(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ff(t,hg(t.transactionQueueTree_,e)),yg(t,t.transactionQueueTree_),Vn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ya(y[v])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Vt("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}cf(t,e)}},c)}function cf(t,e){const n=Aw(t,e),s=wl(n),a=Rw(t,n);return b2(t,a,s),s}function b2(t,e,n){if(e.length===0)return;const s=[];let a=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=Ot(n,d.path);let g=!1,y;if(W(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,a=a.concat(Ps(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=l2)g=!0,y="maxretry",a=a.concat(Ps(t.serverSyncTree_,d.currentWriteId,!0));else{const v=ww(t,d.path,c);d.currentInputSnapshot=v;const T=e[h].update(v.val());if(T!==void 0){dg("transaction failed: Data returned ",T,d.path);let b=gt(T);typeof T=="object"&&T!=null&&gi(T,".priority")||(b=b.updatePriority(v.getPriority()));const x=d.currentWriteId,O=mg(t),U=pw(b,v,O);d.currentOutputSnapshotRaw=b,d.currentOutputSnapshotResolved=U,d.currentWriteId=Cw(t),c.splice(c.indexOf(x),1),a=a.concat(uw(t.serverSyncTree_,d.path,U,d.currentWriteId,d.applyLocally)),a=a.concat(Ps(t.serverSyncTree_,x,!0))}else g=!0,y="nodata",a=a.concat(Ps(t.serverSyncTree_,d.currentWriteId,!0))}Vn(t.eventQueue_,n,a),a=[],g&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}ff(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)ya(s[h]);yg(t,t.transactionQueueTree_)}function Aw(t,e){let n,s=t.transactionQueueTree_;for(n=ve(e);n!==null&&va(s)===void 0;)s=hg(s,n),e=Ve(e),n=ve(e);return s}function Rw(t,e){const n=[];return xw(t,e,n),n.sort((s,a)=>s.order-a.order),n}function xw(t,e,n){const s=va(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);lf(e,a=>{xw(t,a,n)})}function ff(t,e){const n=va(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,mw(e,n.length>0?n:void 0)}lf(e,s=>{ff(t,s)})}function Nw(t,e){const n=wl(Aw(t,e)),s=hg(t.transactionQueueTree_,e);return QL(s,a=>{sp(t,a)}),sp(t,s),yw(s,a=>{sp(t,a)}),n}function sp(t,e){const n=va(e);if(n){const s=[];let a=[],l=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(W(l===c-1,"All SENT items should be at beginning of queue."),l=c,n[c].status=3,n[c].abortReason="set"):(W(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),a=a.concat(Ps(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?mw(e,void 0):n.length=l+1,Vn(t.eventQueue_,wl(e),a);for(let c=0;c<s.length;c++)ya(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function T2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sb=function(t,e){const n=C2(t),s=n.namespace;n.domain==="firebase.com"&&hi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lk();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xC(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new je(n.pathString)}},C2=function(t){let e="",n="",s="",a="",l="",c=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(a=E2(t.substring(g,y)));const v=T2(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const T=e.slice(0,p);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const b=e.indexOf(".");s=e.substring(0,b).toLowerCase(),n=e.substring(b+1),l=s}"ns"in v&&(l=v.ns)}return{host:e,port:d,domain:n,subdomain:s,secure:c,scheme:h,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class A2{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return Ee(this._path)?null:UC(this._path)}get ref(){return new Si(this._repo,this._path)}get _queryIdentifier(){const e=rb(this._queryParams),n=Fm(e);return n==="{}"?"default":n}get _queryObject(){return rb(this._queryParams)}isEqual(e){if(e=xt(e),!(e instanceof vg))return!1;const n=this._repo===e._repo,s=Km(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+_P(this._path)}}class Si extends vg{constructor(e,n){super(e,n,new Qm,!1)}get parent(){const e=BC(this._path);return e===null?null:new Si(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class sl{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new je(e),s=Fp(this.ref,e);return new sl(this._node.getChild(n),s,Ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new sl(a,Fp(this.ref,s),Ze)))}hasChild(e){const n=new je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wt(t,e){return t=xt(t),t._checkNotDeleted("ref"),e!==void 0?Fp(t._root,e):t._root}function Fp(t,e){return t=xt(t),ve(t._path)===null?i2("child","path",e):Sw("child","path",e),new Si(t._repo,ut(t._path,e))}function Dw(t){return bw("remove",t._path),rl(t,null)}function rl(t,e){t=xt(t),bw("set",t._path),n2("set",e,t._path);const n=new Qc;return p2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Js(t){t=xt(t);const e=new Ow(()=>{}),n=new hf(e);return d2(t._repo,t,n).then(s=>new sl(s,new Si(t._repo,t._path),t._queryParams.getIndex()))}class hf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new w2("value",this,new sl(e.snapshotNode,new Si(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new A2(this,e,n):null}matches(e){return e instanceof hf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function R2(t,e,n,s,a){const l=new Ow(n,void 0),c=new hf(l);return g2(t._repo,t,c),()=>y2(t._repo,t,c)}function qp(t,e,n,s){return R2(t,"value",e)}NL(Si);kL(Si);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FIREBASE_DATABASE_EMULATOR_HOST",Gp={};let N2=!1;function O2(t,e,n,s){const a=e.lastIndexOf(":"),l=e.substring(0,a),c=ha(l);t.repoInfo_=new xC(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function D2(t,e,n,s,a){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ct("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=Sb(l,a),h=c.repoInfo,d;typeof process<"u"&&zS&&(d=zS[x2]),d?(l=`http://${d}?ns=${h.namespace}`,c=Sb(l,a),h=c.repoInfo):c.repoInfo.secure;const p=new Kk(t.name,t.options,e);s2("Invalid Firebase Database URL",c),Ee(c.path)||hi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=I2(h,t,p,new Yk(t,n));return new k2(g,t)}function M2(t,e){const n=Gp[e];(!n||n[t.key]!==t)&&hi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),v2(t),delete n[t.key]}function I2(t,e,n,s){let a=Gp[e.name];a||(a={},Gp[e.name]=a);let l=a[t.toURLString()];return l&&hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new u2(t,N2,n,s),a[t.toURLString()]=l,l}class k2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(c2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Si(this._repo,Ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(M2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hi("Cannot call "+e+" on a deleted database.")}}function er(t=xT(),e){const n=Mm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=FO("database");s&&P2(n,...s)}return n}function P2(t,e,n,s={}){t=xt(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&Hs(s,l.repoInfo_.emulatorOptions))return;hi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new cc(cc.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:qO(s.mockUserToken,t.app.options.projectId);c=new cc(h)}ha(e)&&(bT(e),ET("Database",!0)),O2(l,a,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){Ok(pa),ea(new Fs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return D2(s,a,l,n)},"PUBLIC").setMultipleInstances(!0)),es(HS,FS,t),es(HS,FS,"esm2017")}li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};L2();var U2="firebase",j2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(U2,j2,"app");const B2={apiKey:"AIzaSyA__DWH1BvUh0xRu_PtMqyChMzgNMxnXYE",authDomain:"smart-gym-app-4be95.firebaseapp.com",projectId:"smart-gym-app-4be95.firebaseapp.com",storageBucket:"smart-gym-app-4be95.firebasestorage.app",messagingSenderId:"183754804013",appId:"1:183754804013:web:af874e546cd611502021a4",measurementId:"G-EZ30VRK9S5",databaseURL:"https://smart-gym-app-4be95-default-rtdb.firebaseio.com/"},sa=RT(B2),Is=er(sa);_i(sa);const _g=C.createContext({});function Sg(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const bg=typeof window<"u",Mw=bg?C.useLayoutEffect:C.useEffect,df=C.createContext(null);function Eg(t,e){t.indexOf(e)===-1&&t.push(e)}function Tg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const di=(t,e,n)=>n>e?e:n<t?t:n;let Cg=()=>{};const pi={},Iw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kw(t){return typeof t=="object"&&t!==null}const Pw=t=>/^0[^.\s]+$/u.test(t);function wg(t){let e;return()=>(e===void 0&&(e=t()),e)}const pn=t=>t,V2=(t,e)=>n=>e(t(n)),Al=(...t)=>t.reduce(V2),al=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Ag{constructor(){this.subscriptions=[]}add(e){return Eg(this.subscriptions,e),()=>Tg(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Un=t=>t*1e3,jn=t=>t/1e3;function Lw(t,e){return e?t*(1e3/e):0}const Uw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,z2=1e-7,H2=12;function F2(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=Uw(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>z2&&++h<H2);return c}function Rl(t,e,n,s){if(t===e&&n===s)return pn;const a=l=>F2(l,0,1,t,n);return l=>l===0||l===1?l:Uw(a(l),e,s)}const jw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Bw=t=>e=>1-t(1-e),Vw=Rl(.33,1.53,.69,.99),Rg=Bw(Vw),zw=jw(Rg),Hw=t=>(t*=2)<1?.5*Rg(t):.5*(2-Math.pow(2,-10*(t-1))),xg=t=>1-Math.sin(Math.acos(t)),Fw=Bw(xg),qw=jw(xg),q2=Rl(.42,0,1,1),G2=Rl(0,0,.58,1),Gw=Rl(.42,0,.58,1),Y2=t=>Array.isArray(t)&&typeof t[0]!="number",Yw=t=>Array.isArray(t)&&typeof t[0]=="number",K2={linear:pn,easeIn:q2,easeInOut:Gw,easeOut:G2,circIn:xg,circInOut:qw,circOut:Fw,backIn:Rg,backInOut:zw,backOut:Vw,anticipate:Hw},W2=t=>typeof t=="string",bb=t=>{if(Yw(t)){Cg(t.length===4);const[e,n,s,a]=t;return Rl(e,n,s,a)}else if(W2(t))return K2[t];return t},Ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function X2(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,y=!1,v=!1)=>{const b=v&&a?n:s;return y&&c.add(g),b.has(g)||b.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(g))}};return p}const $2=40;function Kw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ju.reduce((k,G)=>(k[G]=X2(l),k),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:v,render:T,postRender:b}=c,A=()=>{const k=pi.useManualTiming?a.timestamp:performance.now();n=!1,pi.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(k-a.timestamp,$2),1)),a.timestamp=k,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),g.process(a),y.process(a),v.process(a),T.process(a),b.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(A))},x=()=>{n=!0,s=!0,a.isProcessing||t(A)};return{schedule:Ju.reduce((k,G)=>{const z=c[G];return k[G]=(K,Q=!1,X=!1)=>(n||x(),z.schedule(K,Q,X)),k},{}),cancel:k=>{for(let G=0;G<Ju.length;G++)c[Ju[G]].cancel(k)},state:a,steps:c}}const{schedule:Ge,cancel:as,state:St,steps:rp}=Kw(typeof requestAnimationFrame<"u"?requestAnimationFrame:pn,!0);let fc;function Q2(){fc=void 0}const Bt={now:()=>(fc===void 0&&Bt.set(St.isProcessing||pi.useManualTiming?St.timestamp:performance.now()),fc),set:t=>{fc=t,queueMicrotask(Q2)}},Ww=t=>e=>typeof e=="string"&&e.startsWith(t),Ng=Ww("--"),Z2=Ww("var(--"),Og=t=>Z2(t)?J2.test(t.split("/*")[0].trim()):!1,J2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_a={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ol={..._a,transform:t=>di(0,1,t)},ec={..._a,default:1},zo=t=>Math.round(t*1e5)/1e5,Dg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eU(t){return t==null}const tU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mg=(t,e)=>n=>!!(typeof n=="string"&&tU.test(n)&&n.startsWith(t)||e&&!eU(n)&&Object.prototype.hasOwnProperty.call(n,e)),Xw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Dg);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},nU=t=>di(0,255,t),ap={..._a,transform:t=>Math.round(nU(t))},Ls={test:Mg("rgb","red"),parse:Xw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ap.transform(t)+", "+ap.transform(e)+", "+ap.transform(n)+", "+zo(ol.transform(s))+")"};function iU(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Yp={test:Mg("#"),parse:iU,transform:Ls.transform},xl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ki=xl("deg"),Bn=xl("%"),ce=xl("px"),sU=xl("vh"),rU=xl("vw"),Eb={...Bn,parse:t=>Bn.parse(t)/100,transform:t=>Bn.transform(t*100)},Fr={test:Mg("hsl","hue"),parse:Xw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Bn.transform(zo(e))+", "+Bn.transform(zo(n))+", "+zo(ol.transform(s))+")"},rt={test:t=>Ls.test(t)||Yp.test(t)||Fr.test(t),parse:t=>Ls.test(t)?Ls.parse(t):Fr.test(t)?Fr.parse(t):Yp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ls.transform(t):Fr.transform(t),getAnimatableNone:t=>{const e=rt.parse(t);return e.alpha=0,rt.transform(e)}},aU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oU(t){return isNaN(t)&&typeof t=="string"&&(t.match(Dg)?.length||0)+(t.match(aU)?.length||0)>0}const $w="number",Qw="color",lU="var",uU="var(",Tb="${}",cU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ll(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(cU,d=>(rt.test(d)?(s.color.push(l),a.push(Qw),n.push(rt.parse(d))):d.startsWith(uU)?(s.var.push(l),a.push(lU),n.push(d)):(s.number.push(l),a.push($w),n.push(parseFloat(d))),++l,Tb)).split(Tb);return{values:n,split:h,indexes:s,types:a}}function Zw(t){return ll(t).values}function Jw(t){const{split:e,types:n}=ll(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===$w?l+=zo(a[c]):h===Qw?l+=rt.transform(a[c]):l+=a[c]}return l}}const fU=t=>typeof t=="number"?0:rt.test(t)?rt.getAnimatableNone(t):t;function hU(t){const e=Zw(t);return Jw(t)(e.map(fU))}const os={test:oU,parse:Zw,createTransformer:Jw,getAnimatableNone:hU};function op(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dU({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=op(d,h,t+1/3),l=op(d,h,t),c=op(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Fc(t,e){return n=>n>0?e:t}const We=(t,e,n)=>t+(e-t)*n,lp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},pU=[Yp,Ls,Fr],mU=t=>pU.find(e=>e.test(t));function Cb(t){const e=mU(t);if(!e)return!1;let n=e.parse(t);return e===Fr&&(n=dU(n)),n}const wb=(t,e)=>{const n=Cb(t),s=Cb(e);if(!n||!s)return Fc(t,e);const a={...n};return l=>(a.red=lp(n.red,s.red,l),a.green=lp(n.green,s.green,l),a.blue=lp(n.blue,s.blue,l),a.alpha=We(n.alpha,s.alpha,l),Ls.transform(a))},Kp=new Set(["none","hidden"]);function gU(t,e){return Kp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yU(t,e){return n=>We(t,e,n)}function Ig(t){return typeof t=="number"?yU:typeof t=="string"?Og(t)?Fc:rt.test(t)?wb:SU:Array.isArray(t)?e1:typeof t=="object"?rt.test(t)?wb:vU:Fc}function e1(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Ig(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function vU(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Ig(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function _U(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const SU=(t,e)=>{const n=os.createTransformer(e),s=ll(t),a=ll(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Kp.has(t)&&!a.values.length||Kp.has(e)&&!s.values.length?gU(t,e):Al(e1(_U(s,a),a.values),n):Fc(t,e)};function t1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):Ig(t)(t,e)}const bU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ge.update(e,n),stop:()=>as(e),now:()=>St.isProcessing?St.timestamp:Bt.now()}},n1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},qc=2e4;function kg(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<qc;)e+=n,s=t.next(e);return e>=qc?1/0:e}function EU(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(kg(s),qc);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:jn(a)}}const TU=5;function i1(t,e,n){const s=Math.max(e-TU,0);return Lw(n-t(s),e-s)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},up=.001;function CU({duration:t=Qe.duration,bounce:e=Qe.bounce,velocity:n=Qe.velocity,mass:s=Qe.mass}){let a,l,c=1-e;c=di(Qe.minDamping,Qe.maxDamping,c),t=di(Qe.minDuration,Qe.maxDuration,jn(t)),c<1?(a=p=>{const g=p*c,y=g*t,v=g-n,T=Wp(p,c),b=Math.exp(-y);return up-v/T*b},l=p=>{const y=p*c*t,v=y*n+n,T=Math.pow(c,2)*Math.pow(p,2)*t,b=Math.exp(-y),A=Wp(Math.pow(p,2),c);return(-a(p)+up>0?-1:1)*((v-T)*b)/A}):(a=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-up+g*y},l=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const h=5/t,d=AU(a,l,h);if(t=Un(t),isNaN(d))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:t};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const wU=12;function AU(t,e,n){let s=n;for(let a=1;a<wU;a++)s=s-t(s)/e(s);return s}function Wp(t,e){return t*Math.sqrt(1-e*e)}const RU=["duration","bounce"],xU=["stiffness","damping","mass"];function Ab(t,e){return e.some(n=>t[n]!==void 0)}function NU(t){let e={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...t};if(!Ab(t,xU)&&Ab(t,RU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Qe.mass,stiffness:a,damping:l}}else{const n=CU(t);e={...e,...n,mass:Qe.mass},e.isResolvedFromDuration=!0}return e}function Gc(t=Qe.visualDuration,e=Qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:g,duration:y,velocity:v,isResolvedFromDuration:T}=NU({...n,velocity:-jn(n.velocity||0)}),b=v||0,A=p/(2*Math.sqrt(d*g)),x=c-l,O=jn(Math.sqrt(d/g)),U=Math.abs(x)<5;s||(s=U?Qe.restSpeed.granular:Qe.restSpeed.default),a||(a=U?Qe.restDelta.granular:Qe.restDelta.default);let k;if(A<1){const z=Wp(O,A);k=K=>{const Q=Math.exp(-A*O*K);return c-Q*((b+A*O*x)/z*Math.sin(z*K)+x*Math.cos(z*K))}}else if(A===1)k=z=>c-Math.exp(-O*z)*(x+(b+O*x)*z);else{const z=O*Math.sqrt(A*A-1);k=K=>{const Q=Math.exp(-A*O*K),X=Math.min(z*K,300);return c-Q*((b+A*O*x)*Math.sinh(X)+z*x*Math.cosh(X))/z}}const G={calculatedDuration:T&&y||null,next:z=>{const K=k(z);if(T)h.done=z>=y;else{let Q=z===0?b:0;A<1&&(Q=z===0?Un(b):i1(k,z,K));const X=Math.abs(Q)<=s,se=Math.abs(c-K)<=a;h.done=X&&se}return h.value=h.done?c:K,h},toString:()=>{const z=Math.min(kg(G),qc),K=n1(Q=>G.next(z*Q).value,z,30);return z+"ms "+K},toTransition:()=>{}};return G}Gc.applyToOptions=t=>{const e=EU(t,100,Gc);return t.ease=e.ease,t.duration=Un(e.duration),t.type="keyframes",t};function Xp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},T=X=>h!==void 0&&X<h||d!==void 0&&X>d,b=X=>h===void 0?d:d===void 0||Math.abs(h-X)<Math.abs(d-X)?h:d;let A=n*e;const x=y+A,O=c===void 0?x:c(x);O!==x&&(A=O-y);const U=X=>-A*Math.exp(-X/s),k=X=>O+U(X),G=X=>{const se=U(X),he=k(X);v.done=Math.abs(se)<=p,v.value=v.done?O:he};let z,K;const Q=X=>{T(v.value)&&(z=X,K=Gc({keyframes:[v.value,b(v.value)],velocity:i1(k,X,v.value),damping:a,stiffness:l,restDelta:p,restSpeed:g}))};return Q(0),{calculatedDuration:null,next:X=>{let se=!1;return!K&&z===void 0&&(se=!0,G(X),Q(X)),z!==void 0&&X>=z?K.next(X-z):(!se&&G(X),v)}}}function OU(t,e,n){const s=[],a=n||pi.mix||t1,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||pn:e;h=Al(d,h)}s.push(h)}return s}function DU(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Cg(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=OU(e,s,a),d=h.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=al(t[y],t[y+1],g);return h[y](v)};return n?g=>p(di(t[0],t[l-1],g)):p}function MU(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=al(0,e,s);t.push(We(n,1,a))}}function IU(t){const e=[0];return MU(e,t.length-1),e}function kU(t,e){return t.map(n=>n*e)}function PU(t,e){return t.map(()=>e||Gw).splice(0,t.length-1)}function Ho({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=Y2(s)?s.map(bb):bb(s),l={done:!1,value:e[0]},c=kU(n&&n.length===e.length?n:IU(e),t),h=DU(c,e,{ease:Array.isArray(a)?a:PU(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const LU=t=>t!==null;function Pg(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(LU),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const UU={decay:Xp,inertia:Xp,tween:Ho,keyframes:Ho,spring:Gc};function s1(t){typeof t.type=="string"&&(t.type=UU[t.type])}class Lg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const jU=t=>t/100;class Ug extends Lg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Bt.now()&&this.tick(Bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;s1(e);const{type:n=Ho,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Ho;d!==Ho&&typeof h[0]!="number"&&(this.mixKeyframes=Al(jU,t1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=kg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:T,type:b,onUpdate:A,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,G=s;if(y){const X=Math.min(this.currentTime,a)/h;let se=Math.floor(X),he=X%1;!he&&X>=1&&(he=1),he===1&&se--,se=Math.min(se,y+1),!!(se%2)&&(v==="reverse"?(he=1-he,T&&(he-=T/h)):v==="mirror"&&(G=c)),k=di(0,1,he)*h}const z=U?{done:!1,value:g[0]}:G.next(k);l&&(z.value=l(z.value));let{done:K}=z;!U&&d!==null&&(K=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return Q&&b!==Xp&&(z.value=Pg(g,this.options,x,this.speed)),A&&A(z.value),Q&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return jn(this.calculatedDuration)}get time(){return jn(this.currentTime)}set time(e){e=Un(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=bU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function BU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Us=t=>t*180/Math.PI,$p=t=>{const e=Us(Math.atan2(t[1],t[0]));return Qp(e)},VU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$p,rotateZ:$p,skewX:t=>Us(Math.atan(t[1])),skewY:t=>Us(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qp=t=>(t=t%360,t<0&&(t+=360),t),Rb=$p,xb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Nb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xb,scaleY:Nb,scale:t=>(xb(t)+Nb(t))/2,rotateX:t=>Qp(Us(Math.atan2(t[6],t[5]))),rotateY:t=>Qp(Us(Math.atan2(-t[2],t[0]))),rotateZ:Rb,rotate:Rb,skewX:t=>Us(Math.atan(t[4])),skewY:t=>Us(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zp(t){return t.includes("scale")?1:0}function Jp(t,e){if(!t||t==="none")return Zp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=zU,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=VU,a=h}if(!a)return Zp(e);const l=s[e],c=a[1].split(",").map(FU);return typeof l=="function"?l(c):c[l]}const HU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Jp(n,e)};function FU(t){return parseFloat(t.trim())}const Sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(Sa),Ob=t=>t===_a||t===ce,qU=new Set(["x","y","z"]),GU=Sa.filter(t=>!qU.has(t));function YU(t){const e=[];return GU.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Bs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Jp(e,"x"),y:(t,{transform:e})=>Jp(e,"y")};Bs.translateX=Bs.x;Bs.translateY=Bs.y;const Vs=new Set;let em=!1,tm=!1,nm=!1;function r1(){if(tm){const t=Array.from(Vs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=YU(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}tm=!1,em=!1,Vs.forEach(t=>t.complete(nm)),Vs.clear()}function a1(){Vs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tm=!0)})}function KU(){nm=!0,a1(),r1(),nm=!1}class jg{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vs.add(this),em||(em=!0,Ge.read(a1),Ge.resolveKeyframes(r1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}BU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vs.delete(this)}cancel(){this.state==="scheduled"&&(Vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WU=t=>t.startsWith("--");function XU(t,e,n){WU(e)?t.style.setProperty(e,n):t.style[e]=n}const $U=wg(()=>window.ScrollTimeline!==void 0),QU={};function ZU(t,e){const n=wg(t);return()=>QU[e]??n()}const o1=ZU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Io=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Io([0,.65,.55,1]),circOut:Io([.55,0,1,.45]),backIn:Io([.31,.01,.66,-.59]),backOut:Io([.33,1.53,.69,.99])};function l1(t,e){if(t)return typeof t=="function"?o1()?n1(t,e):"ease-out":Yw(t)?Io(t):Array.isArray(t)?t.map(n=>l1(n,e)||Db.easeOut):Db[t]}function JU(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const y=l1(h,a);Array.isArray(y)&&(g.easing=y);const v={delay:s,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),t.animate(g,v)}function u1(t){return typeof t=="function"&&"applyToOptions"in t}function e3({type:t,...e}){return u1(t)&&o1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t3 extends Lg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Cg(typeof e.type!="string");const p=e3(e);this.animation=JU(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Pg(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):XU(n,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return jn(Number(e))}get time(){return jn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Un(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$U()?(this.animation.timeline=e,pn):n(this)}}const c1={anticipate:Hw,backInOut:zw,circInOut:qw};function n3(t){return t in c1}function i3(t){typeof t.ease=="string"&&n3(t.ease)&&(t.ease=c1[t.ease])}const Mb=10;class s3 extends t3{constructor(e){i3(e),s1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ug({...c,autoplay:!1}),d=Un(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Mb).value,h.sample(d).value,Mb),h.stop()}}const Ib=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(os.test(t)||t==="0")&&!t.startsWith("url("));function r3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function a3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Ib(a,e),h=Ib(l,e);return!c||!h?!1:r3(t)||(n==="spring"||u1(n))&&s}function im(t){t.duration=0,t.type}const o3=new Set(["opacity","clipPath","filter","transform"]),l3=wg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u3(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return l3()&&n&&o3.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const c3=40;class f3 extends Lg{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bt.now();const v={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:p,element:g,...y},T=g?.KeyframeResolver||jg;this.keyframeResolver=new T(h,(b,A,x)=>this.onKeyframesResolved(b,A,v,!x),d,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:g}=s;this.resolvedAt=Bt.now(),a3(e,l,c,h)||((pi.instantAnimations||!d)&&g?.(Pg(e,s,n)),e[0]=e[e.length-1],im(s),s.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>c3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},T=!p&&u3(v)?new s3({...v,element:v.motionValue.owner.current}):new Ug(v);T.finished.then(()=>this.notifyFinished()).catch(pn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const h3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d3(t){const e=h3.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function f1(t,e,n=1){const[s,a]=d3(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Iw(c)?parseFloat(c):c}return Og(a)?f1(a,e,n+1):a}function Bg(t,e){return t?.[e]??t?.default??t}const h1=new Set(["width","height","top","left","right","bottom",...Sa]),p3={test:t=>t==="auto",parse:t=>t},d1=t=>e=>e.test(t),p1=[_a,ce,Bn,Ki,rU,sU,p3],kb=t=>p1.find(d1(t));function m3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Pw(t):!0}const g3=new Set(["brightness","contrast","saturate","opacity"]);function y3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Dg)||[];if(!s)return t;const a=n.replace(s,"");let l=g3.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const v3=/\b([a-z-]*)\(.*?\)/gu,sm={...os,getAnimatableNone:t=>{const e=t.match(v3);return e?e.map(y3).join(" "):t}},Pb={..._a,transform:Math.round},_3={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:Ki,skewX:Ki,skewY:Ki,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:ol,originX:Eb,originY:Eb,originZ:ce},Vg={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,..._3,zIndex:Pb,fillOpacity:ol,strokeOpacity:ol,numOctaves:Pb},S3={...Vg,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:sm,WebkitFilter:sm},m1=t=>S3[t];function g1(t,e){let n=m1(t);return n!==sm&&(n=os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const b3=new Set(["auto","none","0"]);function E3(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!b3.has(l)&&ll(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=g1(n,a)}class T3 extends jg{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Og(p))){const g=f1(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!h1.has(s)||e.length!==2)return;const[a,l]=e,c=kb(a),h=kb(l);if(c!==h)if(Ob(c)&&Ob(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Bs[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||m3(e[a]))&&s.push(a);s.length&&E3(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Bs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function C3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const y1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function v1(t){return kw(t)&&"offsetHeight"in t}const Lb=30,w3=t=>!isNaN(parseFloat(t));class A3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Bt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ag);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Lb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lb);return Lw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(t,e){return new A3(t,e)}const{schedule:zg}=Kw(queueMicrotask,!1),vn={x:!1,y:!1};function _1(){return vn.x||vn.y}function R3(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function S1(t,e){const n=C3(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Ub(t){return!(t.pointerType==="touch"||_1())}function x3(t,e,n={}){const[s,a,l]=S1(t,n),c=h=>{if(!Ub(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=y=>{Ub(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const b1=(t,e)=>e?t===e?!0:b1(t,e.parentElement):!1,Hg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,N3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O3(t){return N3.has(t.tagName)||t.tabIndex!==-1}const hc=new WeakSet;function jb(t){return e=>{e.key==="Enter"&&t(e)}}function cp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const D3=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=jb(()=>{if(hc.has(n))return;cp(n,"down");const a=jb(()=>{cp(n,"up")}),l=()=>cp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Bb(t){return Hg(t)&&!_1()}function M3(t,e,n={}){const[s,a,l]=S1(t,n),c=h=>{const d=h.currentTarget;if(!Bb(h))return;hc.add(d);const p=e(d,h),g=(T,b)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),hc.has(d)&&hc.delete(d),Bb(T)&&typeof p=="function"&&p(T,{success:b})},y=T=>{g(T,d===window||d===document||n.useGlobalTarget||b1(d,T.target))},v=T=>{g(T,!1)};window.addEventListener("pointerup",y,a),window.addEventListener("pointercancel",v,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),v1(h)&&(h.addEventListener("focus",p=>D3(p,a)),!O3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function E1(t){return kw(t)&&"ownerSVGElement"in t}function I3(t){return E1(t)&&t.tagName==="svg"}const Rt=t=>!!(t&&t.getVelocity),k3=[...p1,rt,os],P3=t=>k3.find(d1(t)),Fg=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class L3 extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=v1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function U3({children:t,isPresent:e,anchorX:n,root:s}){const a=C.useId(),l=C.useRef(null),c=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=C.useContext(Fg);return C.useInsertionEffect(()=>{const{width:d,height:p,top:g,left:y,right:v}=c.current;if(e||!l.current||!d||!p)return;const T=n==="left"?`left: ${y}`:`right: ${v}`;l.current.dataset.motionPopId=a;const b=document.createElement("style");h&&(b.nonce=h);const A=s??document.head;return A.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${T}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(b)&&A.removeChild(b)}},[e]),E.jsx(L3,{isPresent:e,childRef:l,sizeRef:c,children:C.cloneElement(t,{ref:l})})}const j3=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const p=Sg(B3),g=C.useId();let y=!0,v=C.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:T=>{p.set(T,!0);for(const b of p.values())if(!b)return;s&&s()},register:T=>(p.set(T,!1),()=>p.delete(T))}),[n,p,s]);return l&&y&&(v={...v}),C.useMemo(()=>{p.forEach((T,b)=>p.set(b,!1))},[n]),C.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=E.jsx(U3,{isPresent:n,anchorX:h,root:d,children:t})),E.jsx(df.Provider,{value:v,children:t})};function B3(){return new Map}function T1(t=!0){const e=C.useContext(df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const c=C.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const tc=t=>t.key||"";function Vb(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const C1=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[p,g]=T1(c),y=C.useMemo(()=>Vb(t),[t]),v=c&&!p?[]:y.map(tc),T=C.useRef(!0),b=C.useRef(y),A=Sg(()=>new Map),[x,O]=C.useState(y),[U,k]=C.useState(y);Mw(()=>{T.current=!1,b.current=y;for(let K=0;K<U.length;K++){const Q=tc(U[K]);v.includes(Q)?A.delete(Q):A.get(Q)!==!0&&A.set(Q,!1)}},[U,v.length,v.join("-")]);const G=[];if(y!==x){let K=[...y];for(let Q=0;Q<U.length;Q++){const X=U[Q],se=tc(X);v.includes(se)||(K.splice(Q,0,X),G.push(X))}return l==="wait"&&G.length&&(K=G),k(Vb(K)),O(y),null}const{forceRender:z}=C.useContext(_g);return E.jsx(E.Fragment,{children:U.map(K=>{const Q=tc(K),X=c&&!p?!1:y===U||v.includes(Q),se=()=>{if(A.has(Q))A.set(Q,!0);else return;let he=!0;A.forEach(Ne=>{Ne||(he=!1)}),he&&(z?.(),k(b.current),c&&g?.(),s&&s())};return E.jsx(j3,{isPresent:X,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:X?void 0:se,anchorX:h,children:K},Q)})})},w1=C.createContext({strict:!1}),zb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const t in zb)aa[t]={isEnabled:e=>zb[t].some(n=>!!e[n])};function V3(t){for(const e in t)aa[e]={...aa[e],...t[e]}}const z3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||z3.has(t)}let A1=t=>!Yc(t);function H3(t){typeof t=="function"&&(A1=e=>e.startsWith("on")?!Yc(e):t(e))}try{H3(require("@emotion/is-prop-valid").default)}catch{}function F3(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(A1(a)||n===!0&&Yc(a)||!e&&!Yc(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const pf=C.createContext({});function mf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ul(t){return typeof t=="string"||Array.isArray(t)}const qg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gg=["initial",...qg];function gf(t){return mf(t.animate)||Gg.some(e=>ul(t[e]))}function R1(t){return!!(gf(t)||t.variants)}function q3(t,e){if(gf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ul(n)?n:void 0,animate:ul(s)?s:void 0}}return t.inherit!==!1?e:{}}function G3(t){const{initial:e,animate:n}=q3(t,C.useContext(pf));return C.useMemo(()=>({initial:e,animate:n}),[Hb(e),Hb(n)])}function Hb(t){return Array.isArray(t)?t.join(" "):t}const cl={};function Y3(t){for(const e in t)cl[e]=t[e],Ng(e)&&(cl[e].isCSSVariable=!0)}function x1(t,{layout:e,layoutId:n}){return ba.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cl[t]||t==="opacity")}const K3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W3=Sa.length;function X3(t,e,n){let s="",a=!0;for(let l=0;l<W3;l++){const c=Sa[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=y1(h,Vg[c]);if(!d){a=!1;const g=K3[c]||c;s+=`${g}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Yg(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const p=e[d];if(ba.has(d)){c=!0;continue}else if(Ng(d)){a[d]=p;continue}else{const g=y1(p,Vg[d]);d.startsWith("origin")?(h=!0,l[d]=g):s[d]=g}}if(e.transform||(c||n?s.transform=X3(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${p} ${g}`}}const Kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N1(t,e,n){for(const s in e)!Rt(e[s])&&!x1(s,n)&&(t[s]=e[s])}function $3({transformTemplate:t},e){return C.useMemo(()=>{const n=Kg();return Yg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Q3(t,e){const n=t.style||{},s={};return N1(s,n,t),Object.assign(s,$3(t,e)),s}function Z3(t,e){const n={},s=Q3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const J3={offset:"stroke-dashoffset",array:"stroke-dasharray"},ej={offset:"strokeDashoffset",array:"strokeDasharray"};function tj(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?J3:ej;t[l.offset]=ce.transform(-s);const c=ce.transform(e),h=ce.transform(n);t[l.array]=`${c} ${h}`}function O1(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,p,g){if(Yg(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),a!==void 0&&tj(y,a,l,c,!1)}const D1=()=>({...Kg(),attrs:{}}),M1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nj(t,e,n,s){const a=C.useMemo(()=>{const l=D1();return O1(l,e,M1(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};N1(l,t.style,t),a.style={...l,...a.style}}return a}const ij=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wg(t){return typeof t!="string"||t.includes("-")?!1:!!(ij.indexOf(t)>-1||/[A-Z]/u.test(t))}function sj(t,e,n,{latestValues:s},a,l=!1){const h=(Wg(t)?nj:Z3)(e,s,a,t),d=F3(e,typeof t=="string",l),p=t!==C.Fragment?{...d,...h,ref:n}:{},{children:g}=e,y=C.useMemo(()=>Rt(g)?g.get():g,[g]);return C.createElement(t,{...p,children:y})}function Fb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Xg(t,e,n,s){if(typeof e=="function"){const[a,l]=Fb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Fb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function dc(t){return Rt(t)?t.get():t}function rj({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:aj(n,s,a,t),renderState:e()}}function aj(t,e,n,s){const a={},l=s(t,{});for(const v in l)a[v]=dc(l[v]);let{initial:c,animate:h}=t;const d=gf(t),p=R1(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!mf(y)){const v=Array.isArray(y)?y:[y];for(let T=0;T<v.length;T++){const b=Xg(t,v[T]);if(b){const{transitionEnd:A,transition:x,...O}=b;for(const U in O){let k=O[U];if(Array.isArray(k)){const G=g?k.length-1:0;k=k[G]}k!==null&&(a[U]=k)}for(const U in A)a[U]=A[U]}}}return a}const I1=t=>(e,n)=>{const s=C.useContext(pf),a=C.useContext(df),l=()=>rj(t,e,s,a);return n?l():Sg(l)};function $g(t,e,n){const{style:s}=t,a={};for(const l in s)(Rt(s[l])||e.style&&Rt(e.style[l])||x1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const oj=I1({scrapeMotionValuesFromProps:$g,createRenderState:Kg});function k1(t,e,n){const s=$g(t,e,n);for(const a in t)if(Rt(t[a])||Rt(e[a])){const l=Sa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const lj=I1({scrapeMotionValuesFromProps:k1,createRenderState:D1}),uj=Symbol.for("motionComponentSymbol");function qr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cj(t,e,n){return C.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qr(n)&&(n.current=s))},[e])}const Qg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fj="framerAppearId",P1="data-"+Qg(fj),L1=C.createContext({});function hj(t,e,n,s,a){const{visualElement:l}=C.useContext(pf),c=C.useContext(w1),h=C.useContext(df),d=C.useContext(Fg).reducedMotion,p=C.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,y=C.useContext(L1);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&dj(p.current,n,a,y);const v=C.useRef(!1);C.useInsertionEffect(()=>{g&&v.current&&g.update(n,h)});const T=n[P1],b=C.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return Mw(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),b.current&&g.animationState&&g.animationState.animateChanges())}),C.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),b.current=!1))}),g}function dj(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:U1(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&qr(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:p})}function U1(t){if(t)return t.options.allowProjection!==!1?t.projection:U1(t.parent)}function fp(t,{forwardMotionProps:e=!1}={},n,s){n&&V3(n);const a=Wg(t)?lj:oj;function l(h,d){let p;const g={...C.useContext(Fg),...h,layoutId:pj(h)},{isStatic:y}=g,v=G3(h),T=a(h,y);if(!y&&bg){mj();const b=gj(g);p=b.MeasureLayout,v.visualElement=hj(t,T,g,s,b.ProjectionNode)}return E.jsxs(pf.Provider,{value:v,children:[p&&v.visualElement?E.jsx(p,{visualElement:v.visualElement,...g}):null,sj(t,h,cj(T,v.visualElement,d),T,y,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=C.forwardRef(l);return c[uj]=t,c}function pj({layoutId:t}){const e=C.useContext(_g).id;return e&&t!==void 0?e+"-"+t:t}function mj(t,e){C.useContext(w1).strict}function gj(t){const{drag:e,layout:n}=aa;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function yj(t,e){if(typeof Proxy>"u")return fp;const n=new Map,s=(l,c)=>fp(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,fp(c,void 0,t,e)),n.get(c))})}function j1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function vj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _j(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function hp(t){return t===void 0||t===1}function rm({scale:t,scaleX:e,scaleY:n}){return!hp(t)||!hp(e)||!hp(n)}function Ds(t){return rm(t)||B1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function B1(t){return qb(t.x)||qb(t.y)}function qb(t){return t&&t!=="0%"}function Kc(t,e,n){const s=t-n,a=e*s;return n+a}function Gb(t,e,n,s,a){return a!==void 0&&(t=Kc(t,a,s)),Kc(t,n,s)+e}function am(t,e=0,n=1,s,a){t.min=Gb(t.min,e,n,s,a),t.max=Gb(t.max,e,n,s,a)}function V1(t,{x:e,y:n}){am(t.x,e.translate,e.scale,e.originPoint),am(t.y,n.translate,n.scale,n.originPoint)}const Yb=.999999999999,Kb=1.0000000000001;function Sj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yr(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,V1(t,c)),s&&Ds(l.latestValues)&&Yr(t,l.latestValues))}e.x<Kb&&e.x>Yb&&(e.x=1),e.y<Kb&&e.y>Yb&&(e.y=1)}function Gr(t,e){t.min=t.min+e,t.max=t.max+e}function Wb(t,e,n,s,a=.5){const l=We(t.min,t.max,a);am(t,e,n,l,s)}function Yr(t,e){Wb(t.x,e.x,e.scaleX,e.scale,e.originX),Wb(t.y,e.y,e.scaleY,e.scale,e.originY)}function z1(t,e){return j1(_j(t.getBoundingClientRect(),e))}function bj(t,e,n){const s=z1(t,n),{scroll:a}=e;return a&&(Gr(s.x,a.offset.x),Gr(s.y,a.offset.y)),s}const Xb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kr=()=>({x:Xb(),y:Xb()}),$b=()=>({min:0,max:0}),tt=()=>({x:$b(),y:$b()}),om={current:null},H1={current:!1};function Ej(){if(H1.current=!0,!!bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>om.current=t.matches;t.addEventListener("change",e),e()}else om.current=!1}const Tj=new WeakMap;function Cj(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Rt(a))t.addValue(s,a);else if(Rt(l))t.addValue(s,ra(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ra(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Qb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wj{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Bt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Ge.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=gf(n),this.isVariantNode=R1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const T=y[v];d[v]!==void 0&&Rt(T)&&T.set(d[v])}}mount(e){this.current=e,Tj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),H1.current||Ej(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:om.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ba.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aa){const n=aa[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Qb.length;s++){const a=Qb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Cj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ra(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Iw(s)||Pw(s))?s=parseFloat(s):!P3(s)&&os.test(n)&&(s=g1(e,n)),this.setBaseTarget(e,Rt(s)?s.get():s)),Rt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Xg(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Rt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ag),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zg.render(this.render)}}class F1 extends wj{constructor(){super(...arguments),this.KeyframeResolver=T3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function q1(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function Aj(t){return window.getComputedStyle(t)}class Rj extends F1{constructor(){super(...arguments),this.type="html",this.renderInstance=q1}readValueFromInstance(e,n){if(ba.has(n))return this.projection?.isProjecting?Zp(n):HU(e,n);{const s=Aj(e),a=(Ng(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return z1(e,n)}build(e,n,s){Yg(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return $g(e,n,s)}}const G1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xj(t,e,n,s){q1(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(G1.has(a)?a:Qg(a),e.attrs[a])}class Nj extends F1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ba.has(n)){const s=m1(n);return s&&s.default||0}return n=G1.has(n)?n:Qg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return k1(e,n,s)}build(e,n,s){O1(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){xj(e,n,s,a)}mount(e){this.isSVGTag=M1(e.tagName),super.mount(e)}}const Oj=(t,e)=>Wg(t)?new Nj(e):new Rj(e,{allowProjection:t!==C.Fragment});function fl(t,e,n){const s=t.getProps();return Xg(s,e,n!==void 0?n:s.custom,t)}const lm=t=>Array.isArray(t);function Dj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ra(n))}function Mj(t){return lm(t)?t[t.length-1]||0:t}function Ij(t,e){const n=fl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=Mj(l[c]);Dj(t,c,h)}}function kj(t){return!!(Rt(t)&&t.add)}function um(t,e){const n=t.getValue("willChange");if(kj(n))return n.add(e);if(!n&&pi.WillChange){const s=new pi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Y1(t){return t.props[P1]}const Pj=t=>t!==null;function Lj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(Pj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Uj={type:"spring",stiffness:500,damping:25,restSpeed:10},jj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bj={type:"keyframes",duration:.8},Vj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zj=(t,{keyframes:e})=>e.length>2?Bj:ba.has(t)?t.startsWith("scale")?jj(e[1]):Uj:Vj;function Hj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const Zg=(t,e,n,s={},a,l)=>c=>{const h=Bg(s,t)||{},d=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Un(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Hj(h)||Object.assign(g,zj(t,g)),g.duration&&(g.duration=Un(g.duration)),g.repeatDelay&&(g.repeatDelay=Un(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(im(g),g.delay===0&&(y=!0)),(pi.instantAnimations||pi.skipAnimations)&&(y=!0,im(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!l&&e.get()!==void 0){const v=Lj(g.keyframes,h);if(v!==void 0){Ge.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new Ug(g):new f3(g)};function Fj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function K1(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),v=h[g];if(v===void 0||p&&Fj(p,g))continue;const T={delay:n,...Bg(l||{},g)},b=y.get();if(b!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===b&&!T.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const O=Y1(t);if(O){const U=window.MotionHandoffAnimation(O,g,Ge);U!==null&&(T.startTime=U,A=!0)}}um(t,g),y.start(Zg(g,y,v,t.shouldReduceMotion&&h1.has(g)?{type:!1}:T,t,A));const x=y.animation;x&&d.push(x)}return c&&Promise.all(d).then(()=>{Ge.update(()=>{c&&Ij(t,c)})}),d}function cm(t,e,n={}){const s=fl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(K1(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=a;return qj(t,e,d,p,g,y,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function qj(t,e,n=0,s=0,a=0,l=1,c){const h=[],d=t.variantChildren.size,p=(d-1)*a,g=typeof s=="function",y=g?v=>s(v,d):l===1?(v=0)=>v*a:(v=0)=>p-v*a;return Array.from(t.variantChildren).sort(Gj).forEach((v,T)=>{v.notify("AnimationStart",e),h.push(cm(v,e,{...c,delay:n+(g?0:s)+y(T)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(h)}function Gj(t,e){return t.sortNodePosition(e)}function Yj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>cm(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=cm(t,e,n);else{const a=typeof e=="function"?fl(t,e,n.custom):e;s=Promise.all(K1(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function W1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Kj=Gg.length;function X1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?X1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Kj;n++){const s=Gg[n],a=t.props[s];(ul(a)||a===!1)&&(e[s]=a)}return e}const Wj=[...qg].reverse(),Xj=qg.length;function $j(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Yj(t,n,s)))}function Qj(t){let e=$j(t),n=Zb(),s=!0;const a=d=>(p,g)=>{const y=fl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:T,...b}=y;p={...p,...b,...T}}return p};function l(d){e=d(t)}function c(d){const{props:p}=t,g=X1(t.parent)||{},y=[],v=new Set;let T={},b=1/0;for(let x=0;x<Xj;x++){const O=Wj[x],U=n[O],k=p[O]!==void 0?p[O]:g[O],G=ul(k),z=O===d?U.isActive:null;z===!1&&(b=x);let K=k===g[O]&&k!==p[O]&&G;if(K&&s&&t.manuallyAnimateOnMount&&(K=!1),U.protectedKeys={...T},!U.isActive&&z===null||!k&&!U.prevProp||mf(k)||typeof k=="boolean")continue;const Q=Zj(U.prevProp,k);let X=Q||O===d&&U.isActive&&!K&&G||x>b&&G,se=!1;const he=Array.isArray(k)?k:[k];let Ne=he.reduce(a(O),{});z===!1&&(Ne={});const{prevResolvedValues:fe={}}=U,Me={...fe,...Ne},He=Y=>{X=!0,v.has(Y)&&(se=!0,v.delete(Y)),U.needsAnimating[Y]=!0;const J=t.getValue(Y);J&&(J.liveStyle=!1)};for(const Y in Me){const J=Ne[Y],ee=fe[Y];if(T.hasOwnProperty(Y))continue;let R=!1;lm(J)&&lm(ee)?R=!W1(J,ee):R=J!==ee,R?J!=null?He(Y):v.add(Y):J!==void 0&&v.has(Y)?He(Y):U.protectedKeys[Y]=!0}U.prevProp=k,U.prevResolvedValues=Ne,U.isActive&&(T={...T,...Ne}),s&&t.blockInitialAnimation&&(X=!1),X&&(!(K&&Q)||se)&&y.push(...he.map(Y=>({animation:Y,options:{type:O}})))}if(v.size){const x={};if(typeof p.initial!="boolean"){const O=fl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(x.transition=O.transition)}v.forEach(O=>{const U=t.getBaseTarget(O),k=t.getValue(O);k&&(k.liveStyle=!0),x[O]=U??null}),y.push({animation:x})}let A=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),s=!1,A?e(y):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(d,p)),n[d].isActive=p;const g=c(d);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Zb(),s=!0}}}function Zj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!W1(e,t):!1}function xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zb(){return{animate:xs(!0),whileInView:xs(),whileHover:xs(),whileTap:xs(),whileDrag:xs(),whileFocus:xs(),exit:xs()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Jj extends us{constructor(e){super(e),e.animationState||(e.animationState=Qj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let e4=0;class t4 extends us{constructor(){super(...arguments),this.id=e4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const n4={animation:{Feature:Jj},exit:{Feature:t4}};function hl(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Nl(t){return{point:{x:t.pageX,y:t.pageY}}}const i4=t=>e=>Hg(e)&&t(e,Nl(e));function Fo(t,e,n,s){return hl(t,e,i4(n),s)}const $1=1e-4,s4=1-$1,r4=1+$1,Q1=.01,a4=0-Q1,o4=0+Q1;function Dt(t){return t.max-t.min}function l4(t,e,n){return Math.abs(t-e)<=n}function Jb(t,e,n,s=.5){t.origin=s,t.originPoint=We(e.min,e.max,t.origin),t.scale=Dt(n)/Dt(e),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s4&&t.scale<=r4||isNaN(t.scale))&&(t.scale=1),(t.translate>=a4&&t.translate<=o4||isNaN(t.translate))&&(t.translate=0)}function qo(t,e,n,s){Jb(t.x,e.x,n.x,s?s.originX:void 0),Jb(t.y,e.y,n.y,s?s.originY:void 0)}function eE(t,e,n){t.min=n.min+e.min,t.max=t.min+Dt(e)}function u4(t,e,n){eE(t.x,e.x,n.x),eE(t.y,e.y,n.y)}function tE(t,e,n){t.min=e.min-n.min,t.max=t.min+Dt(e)}function Go(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function fn(t){return[t("x"),t("y")]}const Z1=({current:t})=>t?t.ownerDocument.defaultView:null,nE=(t,e)=>Math.abs(t-e);function c4(t,e){const n=nE(t.x,e.x),s=nE(t.y,e.y);return Math.sqrt(n**2+s**2)}class J1{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pp(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,b=c4(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!b)return;const{point:A}=v,{timestamp:x}=St;this.history.push({...A,timestamp:x});const{onStart:O,onMove:U}=this.handlers;T||(O&&O(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,v)},this.handlePointerMove=(v,T)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=dp(T,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(v,T)=>{this.end();const{onEnd:b,onSessionEnd:A,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=pp(v.type==="pointercancel"?this.lastMoveEventInfo:dp(T,this.transformPagePoint),this.history);this.startEvent&&b&&b(v,O),A&&A(v,O)},!Hg(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=Nl(e),d=dp(h,this.transformPagePoint),{point:p}=d,{timestamp:g}=St;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,pp(d,this.history)),this.removeListeners=Al(Fo(this.contextWindow,"pointermove",this.handlePointerMove),Fo(this.contextWindow,"pointerup",this.handlePointerUp),Fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function dp(t,e){return e?{point:e(t.point)}:t}function iE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pp({point:t},e){return{point:t,delta:iE(t,eA(e)),offset:iE(t,f4(e)),velocity:h4(e,.1)}}function f4(t){return t[0]}function eA(t){return t[t.length-1]}function h4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=eA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Un(e)));)n--;if(!s)return{x:0,y:0};const l=jn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function d4(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?We(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?We(n,t,s.max):Math.min(t,n)),t}function sE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function p4(t,{top:e,left:n,bottom:s,right:a}){return{x:sE(t.x,n,a),y:sE(t.y,e,s)}}function rE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function m4(t,e){return{x:rE(t.x,e.x),y:rE(t.y,e.y)}}function g4(t,e){let n=.5;const s=Dt(t),a=Dt(e);return a>s?n=al(e.min,e.max-s,t.min):s>a&&(n=al(t.min,t.max-a,e.min)),di(0,1,n)}function y4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fm=.35;function v4(t=fm){return t===!1?t=0:t===!0&&(t=fm),{x:aE(t,"left","right"),y:aE(t,"top","bottom")}}function aE(t,e,n){return{min:oE(t,e),max:oE(t,n)}}function oE(t,e){return typeof t=="number"?t:t[e]||0}const _4=new WeakMap;class S4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nl(y).point)},c=(y,v)=>{const{drag:T,dragPropagation:b,onDragStart:A}=this.getProps();if(T&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R3(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(O=>{let U=this.getAxisMotionValue(O).get()||0;if(Bn.test(U)){const{projection:k}=this.visualElement;if(k&&k.layout){const G=k.layout.layoutBox[O];G&&(U=Dt(G)*(parseFloat(U)/100))}}this.originPoint[O]=U}),A&&Ge.postRender(()=>A(y,v)),um(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:T,dragDirectionLock:b,onDirectionLock:A,onDrag:x}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:O}=v;if(b&&this.currentDirection===null){this.currentDirection=b4(O),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,O),this.updateAxis("y",v.point,O),this.visualElement.render(),x&&x(y,v)},d=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>fn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new J1(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:Z1(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Ge.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!nc(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=d4(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=p4(s.layoutBox,e):this.constraints=!1,this.elastic=v4(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=y4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=bj(s,a.root,this.visualElement.getTransformPagePoint());let c=m4(a.layout.layoutBox,l);if(n){const h=n(vj(c));this.hasMutatedConstraints=!!h,h&&(c=j1(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=fn(g=>{if(!nc(g,n,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const v=a?200:1e6,T=a?40:1e7,b={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,b)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return um(this.visualElement,e),s.start(Zg(e,s,0,n,this.visualElement,!1))}stopAnimation(){fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){fn(n=>{const{drag:s}=this.getProps();if(!nc(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-We(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=g4({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fn(c=>{if(!nc(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(We(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;_4.set(this.visualElement,this);const e=this.visualElement.current,n=Fo(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();qr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ge.read(s);const c=hl(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(fn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=fm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function b4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class E4 extends us{constructor(e){super(e),this.removeGroupControls=pn,this.removeListeners=pn,this.controls=new S4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const lE=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class T4 extends us{constructor(){super(...arguments),this.removePointerDownListener=pn}onPointerDown(e){this.session=new J1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:lE(e),onStart:lE(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Ge.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Fo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const No={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=uE(t,e.target.x),s=uE(t,e.target.y);return`${n}% ${s}%`}},C4={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=os.parse(t);if(a.length>5)return s;const l=os.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const p=We(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let cE=!1;class w4 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;Y3(A4),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),cE&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),pc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,cE=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ge.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tA(t){const[e,n]=T1(),s=C.useContext(_g);return E.jsx(w4,{...t,layoutGroup:s,switchLayoutGroup:C.useContext(L1),isPresent:e,safeToRemove:n})}const A4={borderRadius:{...No,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:No,borderTopRightRadius:No,borderBottomLeftRadius:No,borderBottomRightRadius:No,boxShadow:C4};function R4(t,e,n){const s=Rt(t)?t:ra(t);return s.start(Zg("",s,e,n)),s.animation}const x4=(t,e)=>t.depth-e.depth;class N4{constructor(){this.children=[],this.isDirty=!1}add(e){Eg(this.children,e),this.isDirty=!0}remove(e){Tg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x4),this.isDirty=!1,this.children.forEach(e)}}function O4(t,e){const n=Bt.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(as(s),t(l-e))};return Ge.setup(s,!0),()=>as(s)}const nA=["TopLeft","TopRight","BottomLeft","BottomRight"],D4=nA.length,fE=t=>typeof t=="string"?parseFloat(t):t,hE=t=>typeof t=="number"||ce.test(t);function M4(t,e,n,s,a,l){a?(t.opacity=We(0,n.opacity??1,I4(s)),t.opacityExit=We(e.opacity??1,0,k4(s))):l&&(t.opacity=We(e.opacity??1,n.opacity??1,s));for(let c=0;c<D4;c++){const h=`border${nA[c]}Radius`;let d=dE(e,h),p=dE(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||hE(d)===hE(p)?(t[h]=Math.max(We(fE(d),fE(p),s),0),(Bn.test(p)||Bn.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,s))}function dE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I4=iA(0,.5,Fw),k4=iA(.5,.95,pn);function iA(t,e,n){return s=>s<t?0:s>e?1:n(al(t,e,s))}function pE(t,e){t.min=e.min,t.max=e.max}function cn(t,e){pE(t.x,e.x),pE(t.y,e.y)}function mE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gE(t,e,n,s,a){return t-=e,t=Kc(t,1/n,s),a!==void 0&&(t=Kc(t,1/a,s)),t}function P4(t,e=0,n=1,s=.5,a,l=t,c=t){if(Bn.test(e)&&(e=parseFloat(e),e=We(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=We(l.min,l.max,s);t===l&&(h-=e),t.min=gE(t.min,e,n,h,a),t.max=gE(t.max,e,n,h,a)}function yE(t,e,[n,s,a],l,c){P4(t,e[n],e[s],e[a],e.scale,l,c)}const L4=["x","scaleX","originX"],U4=["y","scaleY","originY"];function vE(t,e,n,s){yE(t.x,e,L4,n?n.x:void 0,s?s.x:void 0),yE(t.y,e,U4,n?n.y:void 0,s?s.y:void 0)}function _E(t){return t.translate===0&&t.scale===1}function sA(t){return _E(t.x)&&_E(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function j4(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function bE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rA(t,e){return bE(t.x,e.x)&&bE(t.y,e.y)}function EE(t){return Dt(t.x)/Dt(t.y)}function TE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class B4{constructor(){this.members=[]}add(e){Eg(this.members,e),e.scheduleRender()}remove(e){if(Tg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V4(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:v,skewX:T,skewY:b}=n;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),T&&(s+=`skewX(${T}deg) `),b&&(s+=`skewY(${b}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const mp=["","X","Y","Z"],z4=1e3;let H4=0;function gp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function aA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Y1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&aA(s)}function oA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=H4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G4),this.nodes.forEach(X4),this.nodes.forEach($4),this.nodes.forEach(Y4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new N4)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ag),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=E1(c)&&!I3(c),this.instance=c;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{y=window.innerWidth}),t(c,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,g&&g(),g=O4(v,250),pc.hasAnimatedSinceResize&&(pc.hasAnimatedSinceResize=!1,this.nodes.forEach(AE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||tB,{onLayoutAnimationStart:A,onLayoutAnimationComplete:x}=p.getProps(),O=!this.targetLayout||!rA(this.targetLayout,T),U=!y&&v;if(this.options.layoutRoot||this.resumeFrom||U||y&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Bg(b,"layout"),onPlay:A,onComplete:x};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,U)}else y||AE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(W4),this.nodes.forEach(F4),this.nodes.forEach(q4)):this.nodes.forEach(wE),this.clearAllSnapshots();const h=Bt.now();St.delta=di(0,1e3/60,h-St.timestamp),St.timestamp=h,St.isProcessing=!0,rp.update.process(St),rp.preRender.process(St),rp.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K4),this.sharedNodes.forEach(Z4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!sA(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ds(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),nB(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return tt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iB))){const{scroll:p}=this.root;p&&(Gr(h.x,p.offset.x),Gr(h.y,p.offset.y))}return h}removeElementScroll(c){const h=tt();if(cn(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&cn(h,c),Gr(h.x,g.offset.x),Gr(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=tt();cn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Yr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ds(g.latestValues)&&Yr(d,g.latestValues)}return Ds(this.latestValues)&&Yr(d,this.latestValues),d}removeTransform(c){const h=tt();cn(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ds(p.latestValues))continue;rm(p.latestValues)&&p.updateSnapshot();const g=tt(),y=p.measurePageBox();cn(g,y),vE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ds(this.latestValues)&&vE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Go(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),V1(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Go(this.relativeTargetOrigin,this.target,v.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rm(this.parent.latestValues)||B1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===St.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;cn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;Sj(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tt());const{target:T}=c;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mE(this.prevProjectionDelta.x,this.projectionDelta.x),mE(this.prevProjectionDelta.y,this.projectionDelta.y)),qo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!TE(this.projectionDelta.x,this.prevProjectionDelta.x)||!TE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kr(),this.projectionDelta=Kr(),this.projectionDeltaWithTransform=Kr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=tt(),T=d?d.source:void 0,b=this.layout?this.layout.source:void 0,A=T!==b,x=this.getStack(),O=!x||x.members.length<=1,U=!!(A&&!O&&this.options.crossfade===!0&&!this.path.some(eB));this.animationProgress=0;let k;this.mixTargetDelta=G=>{const z=G/1e3;RE(y.x,c.x,z),RE(y.y,c.y,z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Go(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J4(this.relativeTarget,this.relativeTargetOrigin,v,z),k&&j4(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=tt()),cn(k,this.relativeTarget)),A&&(this.animationValues=g,M4(g,p,this.latestValues,z,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{pc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ra(0)),this.currentAnimation=R4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&lA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||tt();const y=Dt(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const v=Dt(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+v}cn(h,d),Yr(h,g),qo(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new B4),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&gp("z",c,p,this.animationValues);for(let g=0;g<mp.length;g++)gp(`rotate${mp[g]}`,c,p,this.animationValues),gp(`skew${mp[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=dc(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=dc(h?.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=V4(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),c.transform=y;const{x:v,y:T}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${T.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in cl){if(g[b]===void 0)continue;const{correct:A,applyTo:x,isCSSVariable:O}=cl[b],U=y==="none"?g[b]:A(g[b],p);if(x){const k=x.length;for(let G=0;G<k;G++)c[x[G]]=U}else O?this.options.visualElement.renderState.vars[b]=U:c[b]=U}this.options.layoutId&&(c.pointerEvents=p===this?dc(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(CE),this.root.sharedNodes.clear()}}}function F4(t){t.updateLayout()}function q4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?fn(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],v=Dt(y);y.min=n[g].min,y.max=y.min+v}):lA(a,e.layoutBox,n)&&fn(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],v=Dt(n[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=Kr();qo(c,n,e.layoutBox);const h=Kr();l?qo(h,t.applyTransform(s,!0),e.measuredBox):qo(h,n,e.layoutBox);const d=!sA(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const T=tt();Go(T,e.layoutBox,y.layoutBox);const b=tt();Go(b,n,v.layoutBox),rA(T,b)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function G4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K4(t){t.clearSnapshot()}function CE(t){t.clearMeasurements()}function wE(t){t.isLayoutDirty=!1}function W4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function X4(t){t.resolveTargetDelta()}function $4(t){t.calcProjection()}function Q4(t){t.resetSkewAndRotation()}function Z4(t){t.removeLeadSnapshot()}function RE(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xE(t,e,n,s){t.min=We(e.min,n.min,s),t.max=We(e.max,n.max,s)}function J4(t,e,n,s){xE(t.x,e.x,n.x,s),xE(t.y,e.y,n.y,s)}function eB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tB={duration:.45,ease:[.4,0,.1,1]},NE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OE=NE("applewebkit/")&&!NE("chrome/")?Math.round:pn;function DE(t){t.min=OE(t.min),t.max=OE(t.max)}function nB(t){DE(t.x),DE(t.y)}function lA(t,e,n){return t==="position"||t==="preserve-aspect"&&!l4(EE(e),EE(n),.2)}function iB(t){return t!==t.root&&t.scroll?.wasRoot}const sB=oA({attachResizeListener:(t,e)=>hl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yp={current:void 0},uA=oA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yp.current){const t=new sB({});t.mount(window),t.setOptions({layoutScroll:!0}),yp.current=t}return yp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rB={pan:{Feature:T4},drag:{Feature:E4,ProjectionNode:uA,MeasureLayout:tA}};function ME(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ge.postRender(()=>l(e,Nl(e)))}class aB extends us{mount(){const{current:e}=this.node;e&&(this.unmount=x3(e,(n,s)=>(ME(this.node,s,"Start"),a=>ME(this.node,a,"End"))))}unmount(){}}class oB extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Al(hl(this.node.current,"focus",()=>this.onFocus()),hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ge.postRender(()=>l(e,Nl(e)))}class lB extends us{mount(){const{current:e}=this.node;e&&(this.unmount=M3(e,(n,s)=>(IE(this.node,s,"Start"),(a,{success:l})=>IE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hm=new WeakMap,vp=new WeakMap,uB=t=>{const e=hm.get(t.target);e&&e(t)},cB=t=>{t.forEach(uB)};function fB({root:t,...e}){const n=t||document;vp.has(n)||vp.set(n,{});const s=vp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(cB,{root:t,...e})),s[a]}function hB(t,e,n){const s=fB(e);return hm.set(t,n),s.observe(t),()=>{hm.delete(t),s.unobserve(t)}}const dB={some:0,all:1};class pB extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:dB[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=p?g:y;v&&v(d)};return hB(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mB(e,n))&&this.startObserver()}unmount(){}}function mB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gB={inView:{Feature:pB},tap:{Feature:lB},focus:{Feature:oB},hover:{Feature:aB}},yB={layout:{ProjectionNode:uA,MeasureLayout:tA}},vB={...n4,...gB,...rB,...yB},Jg=yj(vB,Oj);function _B(){return E.jsxs("div",{children:[E.jsx("h1",{children:"Welcome to Smart Gym Companion"}),E.jsx("p",{children:"This is the home page. Use the navigation bar to check in or view your profile."})]})}function SB(){const[t,e]=C.useState(!1),[n,s]=C.useState(""),[a,l]=C.useState(""),[c,h]=C.useState(!1),[d,p]=C.useState(""),[g,y]=C.useState({peopleInGym:0,bodyParts:{Chest:0,Back:0,Legs:0,Arms:0,Shoulders:0,Core:0,Other:0,"Not Specified":0}}),T=_i().currentUser;C.useEffect(()=>{if(!T)return;const O=wt(Is,`check-ins/${T.uid}`);Js(O).then(U=>{if(U.exists()){const k=U.val();e(!0),p(k.muscleGroup||"Not Specified"),["Chest","Back","Legs","Arms","Shoulders","Core"].includes(k.muscleGroup)?s(k.muscleGroup):k.muscleGroup&&(s("Other"),l(k.muscleGroup))}else e(!1)})},[T]),C.useEffect(()=>{const O=wt(Is,"check-ins"),U=qp(O,k=>{const G=k.val()||{};let z=0;const K={Chest:0,Back:0,Legs:0,Arms:0,Shoulders:0,Core:0,Other:0,"Not Specified":0};Object.values(G).forEach(Q=>{z++;const X=Q.muscleGroup;K[X]!==void 0?K[X]++:X?K.Other++:K["Not Specified"]++}),y({peopleInGym:z,bodyParts:K})});return()=>U()},[]),C.useEffect(()=>{(async()=>{if(!T||!t)return;let U="Not Specified";if(n==="Other"&&a.trim()?U=a.trim():["Chest","Back","Legs","Arms","Shoulders","Core"].includes(n)&&(U=n),U===d)return;const k={uid:T.uid,timestamp:Date.now(),muscleGroup:U};await rl(wt(Is,`check-ins/${T.uid}`),k),await rl(wt(Is,`check-ins-history/${Date.now()}-${T.uid}`),k),p(U)})()},[n,a,t]);const b=async O=>{const U=O.target.checked;T&&(e(U),U||(await Dw(wt(Is,`check-ins/${T.uid}`)),s(""),l("")),p(""))},A=O=>{const U=O.target.value;s(U),U==="Other"&&h(!0)},x=()=>{a.trim()&&h(!1)};return E.jsxs("div",{className:"container",children:[E.jsx("h1",{children:"Gym Sync"}),E.jsxs("div",{className:"toggle-container",children:[E.jsx("label",{className:"toggle-label",htmlFor:"inGymToggle",children:"In Gym"}),E.jsxs("label",{className:"toggle-switch",children:[E.jsx("input",{type:"checkbox",id:"inGymToggle",checked:t,onChange:b}),E.jsx("span",{className:"slider"})]})]}),E.jsx("label",{htmlFor:"bodyPartSelect",children:"Select Body Part Training Today:"}),E.jsxs("select",{id:"bodyPartSelect",value:n,onChange:A,children:[E.jsx("option",{value:"",children:"-- Not Selected --"}),E.jsx("option",{value:"Chest",children:"Chest"}),E.jsx("option",{value:"Back",children:"Back"}),E.jsx("option",{value:"Legs",children:"Legs"}),E.jsx("option",{value:"Arms",children:"Arms"}),E.jsx("option",{value:"Shoulders",children:"Shoulders"}),E.jsx("option",{value:"Core",children:"Core"}),E.jsx("option",{value:"Other",children:"Other"})]}),c&&E.jsx("div",{className:"modal-backdrop",children:E.jsxs("div",{className:"modal",children:[E.jsx("h2",{children:"Custom Body Part"}),E.jsx("input",{type:"text",value:a,onChange:O=>l(O.target.value),placeholder:"e.g. Cardio, Stretching"}),E.jsx("button",{onClick:x,children:"Submit"})]})}),E.jsxs("div",{className:"info",id:"gymInfo",children:[E.jsx("h3",{children:"Current Gym Status"}),E.jsxs("p",{children:["People in Gym: ",E.jsx("span",{id:"peopleCount",children:g.peopleInGym})]}),E.jsx("p",{children:"Body Part Distribution:"}),E.jsx("ul",{id:"bodyPartList",children:Object.entries(g.bodyParts).map(([O,U])=>E.jsxs("li",{children:[O,": ",U]},O))})]})]})}function bB(){const[t,e]=C.useState(!0),[n,s]=C.useState(null),[a,l]=C.useState([]),[c,h]=C.useState("");return C.useEffect(()=>{const p=_i().currentUser;if(!p){h("❌ You must be logged in to view your diet plan."),e(!1);return}const g=er();(async()=>{try{const T=await(await fetch("/diet_plans.json")).json();l(T);const A=(await Js(wt(g,`users/${p.uid}/dietProfile`))).val();if(!A){h("❌ Diet profile not found. Please register again."),e(!1);return}const{goal:x,level:O,gender:U,dietPref:k,workoutStyle:G}=A,z=T.find(K=>K.Goal.trim().toLowerCase()===x.trim().toLowerCase()&&K.FitnessLevel.trim().toLowerCase()===O.trim().toLowerCase()&&K.DietaryPreference.trim().toLowerCase()===k.trim().toLowerCase()&&K.WorkoutStyle.trim().toLowerCase()===G.trim().toLowerCase());z?s(z):h("❌ No matching plan found for your profile.")}catch(v){console.error(v),h("❌ Failed to load plan. Try again later.")}finally{e(!1)}})()},[]),E.jsxs("div",{className:"diet-container",children:[E.jsx("h2",{className:"diet-heading",children:"💪 Your Personalized Diet & Workout Plan"}),t&&E.jsx("p",{className:"diet-loading",children:"⏳ Loading your plan..."}),c&&E.jsx("p",{className:"diet-error",children:c}),!t&&n&&E.jsxs("div",{className:"diet-result",children:[E.jsx("h3",{children:"🏋️‍♂️ Workout Plan"}),E.jsxs("p",{children:["Days/Week: ",n.WorkoutPlan.DaysPerWeek]}),E.jsx("ul",{children:n.WorkoutPlan.Plan.map((d,p)=>E.jsx("li",{children:d},p))}),E.jsx("h3",{children:"🍽️ Diet Plan"}),E.jsx("ul",{children:Object.entries(n.DietPlan).map(([d,p])=>E.jsxs("li",{children:[E.jsxs("strong",{children:[d,":"]})," ",p]},d))})]})]})}function cA(t,e){return function(){return t.apply(e,arguments)}}const{toString:EB}=Object.prototype,{getPrototypeOf:ey}=Object,{iterator:yf,toStringTag:fA}=Symbol,vf=(t=>e=>{const n=EB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Rn=t=>(t=t.toLowerCase(),e=>vf(e)===t),_f=t=>e=>typeof e===t,{isArray:Ea}=Array,oa=_f("undefined");function Ol(t){return t!==null&&!oa(t)&&t.constructor!==null&&!oa(t.constructor)&&zt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hA=Rn("ArrayBuffer");function TB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hA(t.buffer),e}const CB=_f("string"),zt=_f("function"),dA=_f("number"),Dl=t=>t!==null&&typeof t=="object",wB=t=>t===!0||t===!1,mc=t=>{if(vf(t)!=="object")return!1;const e=ey(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fA in t)&&!(yf in t)},AB=t=>{if(!Dl(t)||Ol(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},RB=Rn("Date"),xB=Rn("File"),NB=Rn("Blob"),OB=Rn("FileList"),DB=t=>Dl(t)&&zt(t.pipe),MB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zt(t.append)&&((e=vf(t))==="formdata"||e==="object"&&zt(t.toString)&&t.toString()==="[object FormData]"))},IB=Rn("URLSearchParams"),[kB,PB,LB,UB]=["ReadableStream","Request","Response","Headers"].map(Rn),jB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ml(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),Ea(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{if(Ol(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let h;for(s=0;s<c;s++)h=l[s],e.call(null,t[h],h,t)}}function pA(t,e){if(Ol(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,a;for(;s-- >0;)if(a=n[s],e===a.toLowerCase())return a;return null}const js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mA=t=>!oa(t)&&t!==js;function dm(){const{caseless:t,skipUndefined:e}=mA(this)&&this||{},n={},s=(a,l)=>{const c=t&&pA(n,l)||l;mc(n[c])&&mc(a)?n[c]=dm(n[c],a):mc(a)?n[c]=dm({},a):Ea(a)?n[c]=a.slice():(!e||!oa(a))&&(n[c]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Ml(arguments[a],s);return n}const BB=(t,e,n,{allOwnKeys:s}={})=>(Ml(e,(a,l)=>{n&&zt(a)?t[l]=cA(a,n):t[l]=a},{allOwnKeys:s}),t),VB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zB=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HB=(t,e,n,s)=>{let a,l,c;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)c=a[l],(!s||s(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=n!==!1&&ey(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},FB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},qB=t=>{if(!t)return null;if(Ea(t))return t;let e=t.length;if(!dA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},GB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ey(Uint8Array)),YB=(t,e)=>{const s=(t&&t[yf]).call(t);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},KB=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},WB=Rn("HTMLFormElement"),XB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),kE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),$B=Rn("RegExp"),gA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ml(n,(a,l)=>{let c;(c=e(a,l,t))!==!1&&(s[l]=c||a)}),Object.defineProperties(t,s)},QB=t=>{gA(t,(e,n)=>{if(zt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(zt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZB=(t,e)=>{const n={},s=a=>{a.forEach(l=>{n[l]=!0})};return Ea(t)?s(t):s(String(t).split(e)),n},JB=()=>{},eV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tV(t){return!!(t&&zt(t.append)&&t[fA]==="FormData"&&t[yf])}const nV=t=>{const e=new Array(10),n=(s,a)=>{if(Dl(s)){if(e.indexOf(s)>=0)return;if(Ol(s))return s;if(!("toJSON"in s)){e[a]=s;const l=Ea(s)?[]:{};return Ml(s,(c,h)=>{const d=n(c,a+1);!oa(d)&&(l[h]=d)}),e[a]=void 0,l}}return s};return n(t,0)},iV=Rn("AsyncFunction"),sV=t=>t&&(Dl(t)||zt(t))&&zt(t.then)&&zt(t.catch),yA=((t,e)=>t?setImmediate:e?((n,s)=>(js.addEventListener("message",({source:a,data:l})=>{a===js&&l===n&&s.length&&s.shift()()},!1),a=>{s.push(a),js.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zt(js.postMessage)),rV=typeof queueMicrotask<"u"?queueMicrotask.bind(js):typeof process<"u"&&process.nextTick||yA,aV=t=>t!=null&&zt(t[yf]),j={isArray:Ea,isArrayBuffer:hA,isBuffer:Ol,isFormData:MB,isArrayBufferView:TB,isString:CB,isNumber:dA,isBoolean:wB,isObject:Dl,isPlainObject:mc,isEmptyObject:AB,isReadableStream:kB,isRequest:PB,isResponse:LB,isHeaders:UB,isUndefined:oa,isDate:RB,isFile:xB,isBlob:NB,isRegExp:$B,isFunction:zt,isStream:DB,isURLSearchParams:IB,isTypedArray:GB,isFileList:OB,forEach:Ml,merge:dm,extend:BB,trim:jB,stripBOM:VB,inherits:zB,toFlatObject:HB,kindOf:vf,kindOfTest:Rn,endsWith:FB,toArray:qB,forEachEntry:YB,matchAll:KB,isHTMLForm:WB,hasOwnProperty:kE,hasOwnProp:kE,reduceDescriptors:gA,freezeMethods:QB,toObjectSet:ZB,toCamelCase:XB,noop:JB,toFiniteNumber:eV,findKey:pA,global:js,isContextDefined:mA,isSpecCompliantForm:tV,toJSONObject:nV,isAsyncFn:iV,isThenable:sV,setImmediate:yA,asap:rV,isIterable:aV};function pe(t,e,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}j.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const vA=pe.prototype,_A={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_A[t]={value:t}});Object.defineProperties(pe,_A);Object.defineProperty(vA,"isAxiosError",{value:!0});pe.from=(t,e,n,s,a,l)=>{const c=Object.create(vA);j.toFlatObject(t,c,function(g){return g!==Error.prototype},p=>p!=="isAxiosError");const h=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return pe.call(c,h,d,n,s,a),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const oV=null;function pm(t){return j.isPlainObject(t)||j.isArray(t)}function SA(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function PE(t,e,n){return t?t.concat(e).map(function(a,l){return a=SA(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function lV(t){return j.isArray(t)&&!t.some(pm)}const uV=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Sf(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,x){return!j.isUndefined(x[A])});const s=n.metaTokens,a=n.visitor||g,l=n.dots,c=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(a))throw new TypeError("visitor must be a function");function p(b){if(b===null)return"";if(j.isDate(b))return b.toISOString();if(j.isBoolean(b))return b.toString();if(!d&&j.isBlob(b))throw new pe("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(b)||j.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,A,x){let O=b;if(b&&!x&&typeof b=="object"){if(j.endsWith(A,"{}"))A=s?A:A.slice(0,-2),b=JSON.stringify(b);else if(j.isArray(b)&&lV(b)||(j.isFileList(b)||j.endsWith(A,"[]"))&&(O=j.toArray(b)))return A=SA(A),O.forEach(function(k,G){!(j.isUndefined(k)||k===null)&&e.append(c===!0?PE([A],G,l):c===null?A:A+"[]",p(k))}),!1}return pm(b)?!0:(e.append(PE(x,A,l),p(b)),!1)}const y=[],v=Object.assign(uV,{defaultVisitor:g,convertValue:p,isVisitable:pm});function T(b,A){if(!j.isUndefined(b)){if(y.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(b),j.forEach(b,function(O,U){(!(j.isUndefined(O)||O===null)&&a.call(e,O,j.isString(U)?U.trim():U,A,v))===!0&&T(O,A?A.concat(U):[U])}),y.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return T(t),e}function LE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function ty(t,e){this._pairs=[],t&&Sf(t,this,e)}const bA=ty.prototype;bA.append=function(e,n){this._pairs.push([e,n])};bA.toString=function(e){const n=e?function(s){return e.call(this,s,LE)}:LE;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function cV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function EA(t,e,n){if(!e)return t;const s=n&&n.encode||cV;j.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=j.isURLSearchParams(e)?e.toString():new ty(e,n).toString(s),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class UE{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(s){s!==null&&e(s)})}}const TA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fV=typeof URLSearchParams<"u"?URLSearchParams:ty,hV=typeof FormData<"u"?FormData:null,dV=typeof Blob<"u"?Blob:null,pV={isBrowser:!0,classes:{URLSearchParams:fV,FormData:hV,Blob:dV},protocols:["http","https","file","blob","url","data"]},ny=typeof window<"u"&&typeof document<"u",mm=typeof navigator=="object"&&navigator||void 0,mV=ny&&(!mm||["ReactNative","NativeScript","NS"].indexOf(mm.product)<0),gV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yV=ny&&window.location.href||"http://localhost",vV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ny,hasStandardBrowserEnv:mV,hasStandardBrowserWebWorkerEnv:gV,navigator:mm,origin:yV},Symbol.toStringTag,{value:"Module"})),At={...vV,...pV};function _V(t,e){return Sf(t,new At.classes.URLSearchParams,{visitor:function(n,s,a,l){return At.isNode&&j.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function SV(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bV(t){const e={},n=Object.keys(t);let s;const a=n.length;let l;for(s=0;s<a;s++)l=n[s],e[l]=t[l];return e}function CA(t){function e(n,s,a,l){let c=n[l++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),d=l>=n.length;return c=!c&&j.isArray(a)?a.length:c,d?(j.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!h):((!a[c]||!j.isObject(a[c]))&&(a[c]=[]),e(n,s,a[c],l)&&j.isArray(a[c])&&(a[c]=bV(a[c])),!h)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(s,a)=>{e(SV(s),a,n,0)}),n}return null}function EV(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Il={transitional:TA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,l=j.isObject(e);if(l&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return a?JSON.stringify(CA(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _V(e,this.formSerializer).toString();if((h=j.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Sf(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),EV(e)):e}],transformResponse:[function(e){const n=this.transitional||Il.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(s&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(h){if(c)throw h.name==="SyntaxError"?pe.from(h,pe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{Il.headers[t]={}});const TV=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CV=t=>{const e={};let n,s,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!n||e[n]&&TV[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},jE=Symbol("internals");function Oo(t){return t&&String(t).trim().toLowerCase()}function gc(t){return t===!1||t==null?t:j.isArray(t)?t.map(gc):String(t)}function wV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const AV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _p(t,e,n,s,a){if(j.isFunction(s))return s.call(this,e,n);if(a&&(e=n),!!j.isString(e)){if(j.isString(s))return e.indexOf(s)!==-1;if(j.isRegExp(s))return s.test(e)}}function RV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function xV(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(a,l,c){return this[s].call(this,e,a,l,c)},configurable:!0})})}let Ht=class{constructor(e){e&&this.set(e)}set(e,n,s){const a=this;function l(h,d,p){const g=Oo(d);if(!g)throw new Error("header name must be a non-empty string");const y=j.findKey(a,g);(!y||a[y]===void 0||p===!0||p===void 0&&a[y]!==!1)&&(a[y||d]=gc(h))}const c=(h,d)=>j.forEach(h,(p,g)=>l(p,g,d));if(j.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(j.isString(e)&&(e=e.trim())&&!AV(e))c(CV(e),n);else if(j.isObject(e)&&j.isIterable(e)){let h={},d,p;for(const g of e){if(!j.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[p=g[0]]=(d=h[p])?j.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}c(h,n)}else e!=null&&l(n,e,s);return this}get(e,n){if(e=Oo(e),e){const s=j.findKey(this,e);if(s){const a=this[s];if(!n)return a;if(n===!0)return wV(a);if(j.isFunction(n))return n.call(this,a,s);if(j.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Oo(e),e){const s=j.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||_p(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let a=!1;function l(c){if(c=Oo(c),c){const h=j.findKey(s,c);h&&(!n||_p(s,s[h],h,n))&&(delete s[h],a=!0)}}return j.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const l=n[s];(!e||_p(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,s={};return j.forEach(this,(a,l)=>{const c=j.findKey(s,l);if(c){n[c]=gc(a),delete n[l];return}const h=e?RV(l):String(l).trim();h!==l&&delete n[l],n[h]=gc(a),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=e&&j.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[jE]=this[jE]={accessors:{}}).accessors,a=this.prototype;function l(c){const h=Oo(c);s[h]||(xV(a,c),s[h]=!0)}return j.isArray(e)?e.forEach(l):l(e),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Ht.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});j.freezeMethods(Ht);function Sp(t,e){const n=this||Il,s=e||n,a=Ht.from(s.headers);let l=s.data;return j.forEach(t,function(h){l=h.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function wA(t){return!!(t&&t.__CANCEL__)}function Ta(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(Ta,pe,{__CANCEL__:!0});function AA(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OV(t,e){t=t||10;const n=new Array(t),s=new Array(t);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),g=s[l];c||(c=p),n[a]=d,s[a]=p;let y=l,v=0;for(;y!==a;)v+=n[y++],y=y%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-c<e)return;const T=g&&p-g;return T?Math.round(v*1e3/T):void 0}}function DV(t,e){let n=0,s=1e3/e,a,l;const c=(p,g=Date.now())=>{n=g,a=null,l&&(clearTimeout(l),l=null),t(...p)};return[(...p)=>{const g=Date.now(),y=g-n;y>=s?c(p,g):(a=p,l||(l=setTimeout(()=>{l=null,c(a)},s-y)))},()=>a&&c(a)]}const Wc=(t,e,n=3)=>{let s=0;const a=OV(50,250);return DV(l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,d=c-s,p=a(d),g=c<=h;s=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:d,rate:p||void 0,estimated:p&&h&&g?(h-c)/p:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(y)},n)},BE=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},VE=t=>(...e)=>j.asap(()=>t(...e)),MV=At.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,At.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,IV=At.hasStandardBrowserEnv?{write(t,e,n,s,a,l){const c=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),j.isString(s)&&c.push("path="+s),j.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function RA(t,e,n){let s=!kV(e);return t&&(s||n==!1)?PV(t,e):e}const zE=t=>t instanceof Ht?{...t}:t;function Xs(t,e){e=e||{};const n={};function s(p,g,y,v){return j.isPlainObject(p)&&j.isPlainObject(g)?j.merge.call({caseless:v},p,g):j.isPlainObject(g)?j.merge({},g):j.isArray(g)?g.slice():g}function a(p,g,y,v){if(j.isUndefined(g)){if(!j.isUndefined(p))return s(void 0,p,y,v)}else return s(p,g,y,v)}function l(p,g){if(!j.isUndefined(g))return s(void 0,g)}function c(p,g){if(j.isUndefined(g)){if(!j.isUndefined(p))return s(void 0,p)}else return s(void 0,g)}function h(p,g,y){if(y in e)return s(p,g);if(y in t)return s(void 0,p)}const d={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(p,g,y)=>a(zE(p),zE(g),y,!0)};return j.forEach(Object.keys({...t,...e}),function(g){const y=d[g]||a,v=y(t[g],e[g],g);j.isUndefined(v)&&y!==h||(n[g]=v)}),n}const xA=t=>{const e=Xs({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:h}=e;if(e.headers=c=Ht.from(c),e.url=EA(RA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),j.isFormData(n)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(j.isFunction(n.getHeaders)){const d=n.getHeaders(),p=["content-type","content-length"];Object.entries(d).forEach(([g,y])=>{p.includes(g.toLowerCase())&&c.set(g,y)})}}if(At.hasStandardBrowserEnv&&(s&&j.isFunction(s)&&(s=s(e)),s||s!==!1&&MV(e.url))){const d=a&&l&&IV.read(l);d&&c.set(a,d)}return e},LV=typeof XMLHttpRequest<"u",UV=LV&&function(t){return new Promise(function(n,s){const a=xA(t);let l=a.data;const c=Ht.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:p}=a,g,y,v,T,b;function A(){T&&T(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function O(){if(!x)return;const k=Ht.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:k,config:t,request:x};AA(function(Q){n(Q),A()},function(Q){s(Q),A()},z),x=null}"onloadend"in x?x.onloadend=O:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(O)},x.onabort=function(){x&&(s(new pe("Request aborted",pe.ECONNABORTED,t,x)),x=null)},x.onerror=function(G){const z=G&&G.message?G.message:"Network Error",K=new pe(z,pe.ERR_NETWORK,t,x);K.event=G||null,s(K),x=null},x.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const z=a.transitional||TA;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),s(new pe(G,z.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,x)),x=null},l===void 0&&c.setContentType(null),"setRequestHeader"in x&&j.forEach(c.toJSON(),function(G,z){x.setRequestHeader(z,G)}),j.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),h&&h!=="json"&&(x.responseType=a.responseType),p&&([v,b]=Wc(p,!0),x.addEventListener("progress",v)),d&&x.upload&&([y,T]=Wc(d),x.upload.addEventListener("progress",y),x.upload.addEventListener("loadend",T)),(a.cancelToken||a.signal)&&(g=k=>{x&&(s(!k||k.type?new Ta(null,t,x):k),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const U=NV(a.url);if(U&&At.protocols.indexOf(U)===-1){s(new pe("Unsupported protocol "+U+":",pe.ERR_BAD_REQUEST,t));return}x.send(l||null)})},jV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,a;const l=function(p){if(!a){a=!0,h();const g=p instanceof Error?p:this.reason;s.abort(g instanceof pe?g:new Ta(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,l(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:d}=s;return d.unsubscribe=()=>j.asap(h),d}},BV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,a;for(;s<n;)a=s+e,yield t.slice(s,a),s=a},VV=async function*(t,e){for await(const n of zV(t))yield*BV(n,e)},zV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},HE=(t,e,n,s)=>{const a=VV(t,e);let l=0,c,h=d=>{c||(c=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await a.next();if(p){h(),d.close();return}let y=g.byteLength;if(n){let v=l+=y;n(v)}d.enqueue(new Uint8Array(g))}catch(p){throw h(p),p}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},FE=64*1024,{isFunction:ic}=j,HV=(({Request:t,Response:e})=>({Request:t,Response:e}))(j.global),{ReadableStream:qE,TextEncoder:GE}=j.global,YE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FV=t=>{t=j.merge.call({skipUndefined:!0},HV,t);const{fetch:e,Request:n,Response:s}=t,a=e?ic(e):typeof fetch=="function",l=ic(n),c=ic(s);if(!a)return!1;const h=a&&ic(qE),d=a&&(typeof GE=="function"?(b=>A=>b.encode(A))(new GE):async b=>new Uint8Array(await new n(b).arrayBuffer())),p=l&&h&&YE(()=>{let b=!1;const A=new n(At.origin,{body:new qE,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!A}),g=c&&h&&YE(()=>j.isReadableStream(new s("").body)),y={stream:g&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!y[b]&&(y[b]=(A,x)=>{let O=A&&A[b];if(O)return O.call(A);throw new pe(`Response type '${b}' is not supported`,pe.ERR_NOT_SUPPORT,x)})});const v=async b=>{if(b==null)return 0;if(j.isBlob(b))return b.size;if(j.isSpecCompliantForm(b))return(await new n(At.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(j.isArrayBufferView(b)||j.isArrayBuffer(b))return b.byteLength;if(j.isURLSearchParams(b)&&(b=b+""),j.isString(b))return(await d(b)).byteLength},T=async(b,A)=>{const x=j.toFiniteNumber(b.getContentLength());return x??v(A)};return async b=>{let{url:A,method:x,data:O,signal:U,cancelToken:k,timeout:G,onDownloadProgress:z,onUploadProgress:K,responseType:Q,headers:X,withCredentials:se="same-origin",fetchOptions:he}=xA(b),Ne=e||fetch;Q=Q?(Q+"").toLowerCase():"text";let fe=jV([U,k&&k.toAbortSignal()],G),Me=null;const He=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let Re;try{if(K&&p&&x!=="get"&&x!=="head"&&(Re=await T(X,O))!==0){let F=new n(A,{method:"POST",body:O,duplex:"half"}),Z;if(j.isFormData(O)&&(Z=F.headers.get("content-type"))&&X.setContentType(Z),F.body){const[$,ie]=BE(Re,Wc(VE(K)));O=HE(F.body,FE,$,ie)}}j.isString(se)||(se=se?"include":"omit");const B=l&&"credentials"in n.prototype,Y={...he,signal:fe,method:x.toUpperCase(),headers:X.normalize().toJSON(),body:O,duplex:"half",credentials:B?se:void 0};Me=l&&new n(A,Y);let J=await(l?Ne(Me,he):Ne(A,Y));const ee=g&&(Q==="stream"||Q==="response");if(g&&(z||ee&&He)){const F={};["status","statusText","headers"].forEach(Te=>{F[Te]=J[Te]});const Z=j.toFiniteNumber(J.headers.get("content-length")),[$,ie]=z&&BE(Z,Wc(VE(z),!0))||[];J=new s(HE(J.body,FE,$,()=>{ie&&ie(),He&&He()}),F)}Q=Q||"text";let R=await y[j.findKey(y,Q)||"text"](J,b);return!ee&&He&&He(),await new Promise((F,Z)=>{AA(F,Z,{data:R,headers:Ht.from(J.headers),status:J.status,statusText:J.statusText,config:b,request:Me})})}catch(B){throw He&&He(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,b,Me),{cause:B.cause||B}):pe.from(B,B&&B.code,b,Me)}}},qV=new Map,NA=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:a}=e,l=[s,a,n];let c=l.length,h=c,d,p,g=qV;for(;h--;)d=l[h],p=g.get(d),p===void 0&&g.set(d,p=h?new Map:FV(e)),g=p;return p};NA();const gm={http:oV,xhr:UV,fetch:{get:NA}};j.forEach(gm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const KE=t=>`- ${t}`,GV=t=>j.isFunction(t)||t===null||t===!1,OA={getAdapter:(t,e)=>{t=j.isArray(t)?t:[t];const{length:n}=t;let s,a;const l={};for(let c=0;c<n;c++){s=t[c];let h;if(a=s,!GV(s)&&(a=gm[(h=String(s)).toLowerCase()],a===void 0))throw new pe(`Unknown adapter '${h}'`);if(a&&(j.isFunction(a)||(a=a.get(e))))break;l[h||"#"+c]=a}if(!a){const c=Object.entries(l).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=n?c.length>1?`since :
`+c.map(KE).join(`
`):" "+KE(c[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:gm};function bp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ta(null,t)}function WE(t){return bp(t),t.headers=Ht.from(t.headers),t.data=Sp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),OA.getAdapter(t.adapter||Il.adapter,t)(t).then(function(s){return bp(t),s.data=Sp.call(t,t.transformResponse,s),s.headers=Ht.from(s.headers),s},function(s){return wA(s)||(bp(t),s&&s.response&&(s.response.data=Sp.call(t,t.transformResponse,s.response),s.response.headers=Ht.from(s.response.headers))),Promise.reject(s)})}const DA="1.12.2",bf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bf[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const XE={};bf.transitional=function(e,n,s){function a(l,c){return"[Axios v"+DA+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,h)=>{if(e===!1)throw new pe(a(c," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!XE[c]&&(XE[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,h):!0}};bf.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function YV(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const l=s[a],c=e[l];if(c){const h=t[l],d=h===void 0||c(h,l,t);if(d!==!0)throw new pe("option "+l+" must be "+d,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+l,pe.ERR_BAD_OPTION)}}const yc={assertOptions:YV,validators:bf},kn=yc.validators;let zs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new UE,response:new UE}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xs(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:l}=n;s!==void 0&&yc.assertOptions(s,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),a!=null&&(j.isFunction(a)?n.paramsSerializer={serialize:a}:yc.assertOptions(a,{encode:kn.function,serialize:kn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),yc.assertOptions(n,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&j.merge(l.common,l[n.method]);l&&j.forEach(["delete","get","head","post","put","patch","common"],b=>{delete l[b]}),n.headers=Ht.concat(c,l);const h=[];let d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(d=d&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let g,y=0,v;if(!d){const b=[WE.bind(this),void 0];for(b.unshift(...h),b.push(...p),v=b.length,g=Promise.resolve(n);y<v;)g=g.then(b[y++],b[y++]);return g}v=h.length;let T=n;for(;y<v;){const b=h[y++],A=h[y++];try{T=b(T)}catch(x){A.call(this,x);break}}try{g=WE.call(this,T)}catch(b){return Promise.reject(b)}for(y=0,v=p.length;y<v;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=Xs(this.defaults,e);const n=RA(e.baseURL,e.url,e.allowAbsoluteUrls);return EA(n,e.params,e.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(e){zs.prototype[e]=function(n,s){return this.request(Xs(s||{},{method:e,url:n,data:(s||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(s){return function(l,c,h){return this.request(Xs(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}zs.prototype[e]=n(),zs.prototype[e+"Form"]=n(!0)});let KV=class MA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(h=>{s.subscribe(h),l=h}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,h){s.reason||(s.reason=new Ta(l,c,h),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new MA(function(a){e=a}),cancel:e}}};function WV(t){return function(n){return t.apply(null,n)}}function XV(t){return j.isObject(t)&&t.isAxiosError===!0}const ym={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ym).forEach(([t,e])=>{ym[e]=t});function IA(t){const e=new zs(t),n=cA(zs.prototype.request,e);return j.extend(n,zs.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return IA(Xs(t,a))},n}const nt=IA(Il);nt.Axios=zs;nt.CanceledError=Ta;nt.CancelToken=KV;nt.isCancel=wA;nt.VERSION=DA;nt.toFormData=Sf;nt.AxiosError=pe;nt.Cancel=nt.CanceledError;nt.all=function(e){return Promise.all(e)};nt.spread=WV;nt.isAxiosError=XV;nt.mergeConfig=Xs;nt.AxiosHeaders=Ht;nt.formToJSON=t=>CA(j.isHTMLForm(t)?new FormData(t):t);nt.getAdapter=OA.getAdapter;nt.HttpStatusCode=ym;nt.default=nt;const{Axios:_6,AxiosError:S6,CanceledError:b6,isCancel:E6,CancelToken:T6,VERSION:C6,all:w6,Cancel:A6,isAxiosError:R6,spread:x6,toFormData:N6,AxiosHeaders:O6,HttpStatusCode:D6,formToJSON:M6,getAdapter:I6,mergeConfig:k6}=nt,$V=()=>{const[t,e]=C.useState({Age:"",Gender:"","Weight (kg)":"","Height (m)":"",Avg_BPM:"","Session_Duration (hours)":"",Fat_Percentage:"","Water_Intake (liters)":"","Workout_Frequency (days/week)":"",Experience_Level:"",BMI:""}),[n,s]=C.useState(null),a=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{const h=await nt.post("http://127.0.0.1:5000/",t);s(h.data)}catch(h){console.error(h),s({error:"Failed to get prediction"})}};return E.jsxs("div",{style:{padding:"20px"},children:[E.jsx("h1",{children:"Calories Prediction"}),E.jsxs("form",{onSubmit:l,children:[Object.keys(t).map(c=>E.jsxs("div",{style:{marginBottom:"10px"},children:[E.jsxs("label",{children:[c,": "]}),E.jsx("input",{type:"number",name:c,value:t[c],onChange:a,step:"any",required:!0})]},c)),E.jsx("button",{type:"submit",children:"Predict Calories"})]}),n&&!n.error&&E.jsxs("div",{style:{marginTop:"20px"},children:[E.jsxs("h2",{children:["🔥 Per Session: ",n.per_session," kcal"]}),E.jsxs("h2",{children:["📅 Per Week: ",n.per_week," kcal"]}),E.jsxs("h2",{children:["🗓️ Per Month: ",n.per_month," kcal"]})]}),n&&n.error&&E.jsx("p",{children:n.error})]})};function QV(){const[t,e]=C.useState([]),[n,s]=C.useState({});return C.useEffect(()=>{const a=wt(Is,"check-ins"),l=qp(a,d=>{const p=d.val();if(p){const y=Object.entries(p).map(([v,T])=>({id:v,...T})).sort((v,T)=>(T.timestamp||0)-(v.timestamp||0));e(y)}else e([])}),c=wt(Is,"users"),h=qp(c,d=>{const p=d.val()||{};s(p)});return()=>{l(),h()}},[]),E.jsxs("div",{className:"max-w-4xl mx-auto p-6 mt-10 bg-white shadow rounded",children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),t.length===0?E.jsx("p",{children:"No check-ins found."}):E.jsxs("table",{className:"w-full border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-gray-100 text-left",children:[E.jsx("th",{className:"p-2 border",children:"Name"}),E.jsx("th",{className:"p-2 border",children:"Muscle Group"}),E.jsx("th",{className:"p-2 border",children:"Time"})]})}),E.jsx("tbody",{children:t.map(a=>{const l=a.uid&&n[a.uid]?.name?n[a.uid].name:"Unknown";return E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"p-2 border",children:l}),E.jsx("td",{className:"p-2 border",children:a.muscleGroup||"N/A"}),E.jsx("td",{className:"p-2 border",children:a.timestamp?new Date(a.timestamp).toLocaleString():"N/A"})]},a.id)})})]})]})}function ZV(){const[t,e]=C.useState(""),[n,s]=C.useState(""),[a,l]=C.useState(""),[c,h]=C.useState(""),[d,p]=C.useState(""),[g,y]=C.useState(""),[v,T]=C.useState("user"),[b,A]=C.useState(""),[x,O]=C.useState(""),[U,k]=C.useState(""),[G,z]=C.useState(""),[K,Q]=C.useState(""),[X,se]=C.useState(!1),[he,Ne]=C.useState(0),[fe,Me]=C.useState(""),He=$s(),Re=_i(sa),B=er(sa),Y=[{key:"auth",content:E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:ee=>e(ee.target.value),required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:ee=>s(ee.target.value),required:!0})]})},{key:"profile",content:E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",placeholder:"Full Name",value:a,onChange:ee=>l(ee.target.value),required:!0}),E.jsx("input",{type:"number",placeholder:"Age",value:c,onChange:ee=>h(ee.target.value),required:!0}),E.jsx("input",{type:"number",placeholder:"Height (m)",step:"0.01",value:d,onChange:ee=>p(ee.target.value),required:!0}),E.jsx("input",{type:"number",placeholder:"Weight (kg)",value:g,onChange:ee=>y(ee.target.value),required:!0})]})},{key:"role",content:E.jsxs("select",{value:v,onChange:ee=>T(ee.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Select Role"}),E.jsx("option",{value:"user",children:"User"}),E.jsx("option",{value:"admin",children:"Admin"})]})},{key:"goal",content:E.jsxs("select",{value:b,onChange:ee=>A(ee.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Your Goal"}),E.jsx("option",{value:"Build Muscle",children:"Build Muscle"}),E.jsx("option",{value:"Lose Fat",children:"Lose Fat"}),E.jsx("option",{value:"Improve Endurance",children:"Improve Endurance"})]})},{key:"level",content:E.jsxs("select",{value:x,onChange:ee=>O(ee.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Experience Level"}),E.jsx("option",{value:"Beginner",children:"Beginner"}),E.jsx("option",{value:"Intermediate",children:"Intermediate"}),E.jsx("option",{value:"Advanced",children:"Advanced"}),E.jsx("option",{value:"Professional",children:"Professional"})]})},{key:"gender",content:E.jsxs("select",{value:U,onChange:ee=>k(ee.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Gender"}),E.jsx("option",{value:"Male",children:"Male"}),E.jsx("option",{value:"Female",children:"Female"}),E.jsx("option",{value:"Non-Binary",children:"Non-Binary"})]})},{key:"dietPlan",content:E.jsxs("select",{value:G,onChange:ee=>z(ee.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Select Diet Plan"}),E.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),E.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),E.jsx("option",{value:"Vegan",children:"Vegan"}),E.jsx("option",{value:"Keto",children:"Keto"})]})},{key:"workoutStyle",content:E.jsxs("select",{value:K,onChange:ee=>Q(ee.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Preferred Workout Style"}),E.jsx("option",{value:"Gym-Based",children:"Gym-Based"}),E.jsx("option",{value:"Cardio",children:"Cardio"}),E.jsx("option",{value:"Mixed",children:"Mixed"}),E.jsx("option",{value:"Flexibility",children:"Flexibility"})]})}],J=async ee=>{ee.preventDefault(),Me("");try{if(X){if(!t||!n||!a||!c||!g||!d||!v||!b||!x||!U||!G||!K){Me("Please complete all fields before submitting.");return}if((await gI(Re,t)).length>0){Me("User already exists. Please login instead.");return}const Z=(await dI(Re,t,n)).user;await rl(wt(B,`users/${Z.uid}`),{name:a,age:Number(c),height:Number(d),weight:Number(g),role:v,email:t,dietProfile:{dietPref:G,gender:U,goal:b,level:x,workoutStyle:K}}),He(v==="admin"?"/admin":"/")}else{const F=(await pI(Re,t,n)).user,$=(await Js(wt(B,`users/${F.uid}`))).val();if(!$){Me("User profile not found in database.");return}He($.role==="admin"?"/admin":"/")}}catch(R){console.error("Login/Register Error:",R),Me("Authentication failed. Please check your credentials or try again.")}};return E.jsx("div",{className:"login-container",children:E.jsx("div",{className:"login-form",children:E.jsxs("div",{className:"login-box",children:[E.jsx("h2",{children:X?"Create Account":"Login"}),E.jsxs("form",{onSubmit:J,className:"login-form",children:[X?E.jsxs(E.Fragment,{children:[E.jsx(C1,{mode:"wait",children:E.jsx(Jg.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.4},className:"slide-step",children:Y[he].content},Y[he].key)}),E.jsxs("div",{className:"step-buttons",children:[he>0&&E.jsx("button",{type:"button",onClick:()=>Ne(he-1),children:"⬅ Back"}),he<Y.length-1?E.jsx("button",{type:"button",onClick:()=>Ne(he+1),children:"Next ➡"}):E.jsx("button",{type:"submit",children:"Register"})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:ee=>e(ee.target.value),required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:ee=>s(ee.target.value),required:!0}),E.jsx("button",{type:"submit",children:"Login"})]}),fe&&E.jsx("p",{className:"error",children:fe})]}),E.jsxs("p",{className:"switch-mode",children:[X?"Already have an account?":"Don't have an account?",E.jsx("button",{type:"button",onClick:()=>{se(!X),Ne(0),Me("")},children:X?"Login":"Register"})]})]})})})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),$E=t=>{const e=e6(t);return e.charAt(0).toUpperCase()+e.slice(1)},kA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),t6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>C.createElement("svg",{ref:d,...n6,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:kA("lucide",a),...!l&&!t6(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,g])=>C.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=(t,e)=>{const n=C.forwardRef(({className:s,...a},l)=>C.createElement(i6,{ref:l,iconNode:e,className:kA(`lucide-${JV($E(t))}`,`lucide-${t}`,s),...a}));return n.displayName=$E(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],r6=iy("log-out",s6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],o6=iy("pencil",a6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],u6=iy("save",l6);function c6({onClose:t}){const e=_i(),n=er(),s=$s(),a=C.useRef(null),[l,c]=C.useState({name:"",age:"",weight:"",email:"",dietProfile:{}});C.useEffect(()=>{const p=Vm(e,async g=>{if(g){const y=await Js(wt(n,`users/${g.uid}`));y.exists()&&c(y.val())}else s("/login")});return()=>p()},[]),C.useEffect(()=>{const p=g=>{a.current&&!a.current.contains(g.target)&&t&&t()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[t]);const h=p=>{t&&t(),setTimeout(()=>{s(p)},300)},d=()=>{nC(e).then(()=>s("/login"))};return E.jsx("div",{className:"profile-backdrop",children:E.jsxs("div",{className:"profile-container slide-in",ref:a,children:[E.jsxs("div",{className:"profile-header",children:[E.jsxs("h2",{className:"profile-title",children:["👤 ",E.jsx("span",{children:"Your Profile"})]}),E.jsxs("button",{onClick:d,className:"profile-btn",children:[E.jsx(r6,{size:16}),"Logout"]})]}),E.jsxs("div",{className:"profile-summary",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Full Name:"})," ",l.name]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Email:"})," ",l.email]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Age:"})," ",l.age]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Weight:"})," ",l.weight," kg"]})]}),E.jsxs("div",{className:"profile-buttons",children:[E.jsxs("button",{onClick:()=>h("/EditProfile"),className:"profile-btn",children:[E.jsx(o6,{size:16}),"Edit Profile"]}),E.jsx("button",{onClick:()=>h("/CheckInHistory"),className:"profile-btn",children:"📜 Check-In History"})]})]})})}function f6({onClose:t}){const e=_i(),n=e.currentUser,s=$s(),a=async()=>{try{await nC(e),s("/login")}catch(l){console.error("Logout failed:",l)}};return E.jsxs("div",{className:"p-4 h-full flex flex-col justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold mb-4",children:"👤 Admin Profile"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Email:"})," ",n?.email]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Role:"})," Admin"]})]}),E.jsx("div",{className:"mt-8",children:E.jsx("button",{onClick:a,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded",children:"Logout"})})]})}function QE(){const[t,e]=C.useState([]),[n,s]=C.useState(!1),l=_i().currentUser,c=async()=>{if(!l)return;const h=er(),d=wt(h,"check-ins-history");try{const g=(await Js(d)).val();if(!g){e([]);return}const v=Date.now()-5*60*1e3,T=[],b=[];Object.entries(g).forEach(([A,x])=>{x.uid===l.uid&&(x.timestamp>=v?T.push({id:A,...x}):b.push(A))}),T.sort((A,x)=>x.timestamp-A.timestamp),e(T),b.forEach(A=>{Dw(wt(h,`check-ins-history/${A}`))})}catch(p){console.error("Error loading history:",p)}};return C.useEffect(()=>{c(),s(!0);const h=setInterval(c,3e4);return()=>clearInterval(h)},[l]),E.jsx("div",{className:`checkin-slide-wrapper ${n?"slide-in":""}`,children:E.jsxs("div",{className:"checkin-history-container",children:[E.jsx("h1",{className:"checkin-history-title",children:"📋 Check-In History"}),t.length===0?E.jsx("p",{className:"checkin-history-empty",children:"No recent check-ins found."}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"checkin-history-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Muscle Group"}),E.jsx("th",{children:"Time"})]})}),E.jsx("tbody",{children:t.map(h=>E.jsxs("tr",{children:[E.jsx("td",{children:h.muscleGroup||"N/A"}),E.jsx("td",{children:h.timestamp?new Date(h.timestamp).toLocaleString():"N/A"})]},h.id))})]})})]})})}function h6(){const t=_i(),e=er(),n=$s(),[s,a]=C.useState(null),[l,c]=C.useState(""),[h,d]=C.useState(""),[p,g]=C.useState(""),[y,v]=C.useState(""),[T,b]=C.useState(""),[A,x]=C.useState(""),[O,U]=C.useState(""),[k,G]=C.useState(""),[z,K]=C.useState(""),[Q,X]=C.useState(""),[se,he]=C.useState("");C.useEffect(()=>{const fe=Vm(t,async Me=>{if(Me){a(Me.uid);const He=await Js(wt(e,`users/${Me.uid}`));if(He.exists()){const Re=He.val();d(Re.name||""),b(Re.email||""),g(Re.age||""),v(Re.weight||""),x(Re.role||"");const B=Re.dietProfile||{};U(B.goal||""),G(B.level||""),K(B.gender||""),X(B.dietPref||""),he(B.workoutStyle||"")}}else n("/login")});return()=>fe()},[]);const Ne=async()=>{const fe={name:h,email:T,age:p,weight:y,role:A,dietProfile:{goal:O,level:k,gender:z,dietPref:Q,workoutStyle:se}};try{await rl(wt(e,`users/${s}`),fe),c("✅ Profile saved successfully"),setTimeout(()=>c(""),3e3)}catch(Me){console.error("Error saving profile:",Me)}};return E.jsxs(Jg.div,{className:"profile-container",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[E.jsxs("div",{className:"profile-header",children:[E.jsx("h2",{children:"✏️ Edit Profile"}),E.jsxs("button",{onClick:Ne,className:"profile-btn save-btn",children:[E.jsx(u6,{size:16}),"Save"]})]}),l&&E.jsx("div",{className:"success-message",children:l}),E.jsxs("form",{className:"profile-form",children:[E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"text",placeholder:"Full Name",value:h,onChange:fe=>d(fe.target.value),required:!0})}),E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"number",placeholder:"Age",value:p,onChange:fe=>g(fe.target.value),required:!0})}),E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"number",placeholder:"Weight (kg)",value:y,onChange:fe=>v(fe.target.value),required:!0})}),E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"email",placeholder:"Email",value:T,readOnly:!0})}),E.jsx("div",{className:"form-group",children:E.jsxs("select",{value:O,onChange:fe=>U(fe.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Your Goal"}),E.jsx("option",{value:"Build Muscle",children:"Build Muscle"}),E.jsx("option",{value:"Lose Fat",children:"Lose Fat"}),E.jsx("option",{value:"Improve Endurance",children:"Improve Endurance"})]})}),E.jsx("div",{className:"form-group",children:E.jsxs("select",{value:k,onChange:fe=>G(fe.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Fitness Level"}),E.jsx("option",{value:"Beginner",children:"Beginner"}),E.jsx("option",{value:"Intermediate",children:"Intermediate"}),E.jsx("option",{value:"Advanced",children:"Advanced"})]})}),E.jsx("div",{className:"form-group",children:E.jsxs("select",{value:z,onChange:fe=>K(fe.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Gender"}),E.jsx("option",{value:"Male",children:"Male"}),E.jsx("option",{value:"Female",children:"Female"}),E.jsx("option",{value:"Non-Binary",children:"Non-Binary"})]})}),E.jsx("div",{className:"form-group",children:E.jsxs("select",{value:Q,onChange:fe=>X(fe.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Dietary Preference"}),E.jsx("option",{value:"Vegetarian",children:"Vegetarian"}),E.jsx("option",{value:"Non-Vegetarian",children:"Non-Vegetarian"}),E.jsx("option",{value:"Vegan",children:"Vegan"}),E.jsx("option",{value:"Keto",children:"Keto"})]})}),E.jsx("div",{className:"form-group",children:E.jsxs("select",{value:se,onChange:fe=>he(fe.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Workout Style"}),E.jsx("option",{value:"Gym-Based",children:"Gym-Based"}),E.jsx("option",{value:"Home Workout",children:"Home Workout"}),E.jsx("option",{value:"Cardio-Focused",children:"Cardio-Focused"}),E.jsx("option",{value:"Strength Training",children:"Strength Training"})]})})]})]})}function d6({onToggleProfile:t,role:e}){return $s(),E.jsxs("nav",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"10px 16px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #ccc",zIndex:1e3},children:[E.jsx(Ms,{to:"/",style:{marginRight:"20px"},children:"Home"}),e==="user"&&E.jsxs(E.Fragment,{children:[E.jsx(Ms,{to:"/check-in",style:{marginRight:"20px"},children:"Check-In"}),E.jsx(Ms,{to:"/diet",style:{marginRight:"20px"},children:"Diet Plan"}),E.jsx(Ms,{to:"/calories",style:{marginRight:"20px"},children:"Calories"})," "]}),e==="admin"&&E.jsx(Ms,{to:"/admin",style:{marginRight:"20px"},children:"Admin Dashboard"}),E.jsx("div",{style:{marginLeft:"auto"},children:E.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"green",fontSize:"24px",fontWeight:"bold",cursor:"pointer"},children:"☰"})})]})}function p6({user:t,role:e,showProfile:n,setShowProfile:s}){const a=mi();return C.useEffect(()=>{s(!1)},[a.pathname]),E.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"480px",height:"100vh",margin:"0 auto",overflow:"hidden",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff"},children:[E.jsx(d6,{onToggleProfile:()=>s(l=>!l),role:e}),E.jsxs("div",{className:"main-container",style:{padding:"20px",height:"calc(100% - 60px)",overflowY:"auto",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:[E.jsx("style",{children:`
            .main-container::-webkit-scrollbar {
              display: none;
            }
          `}),E.jsx(C1,{mode:"wait",children:E.jsx(Jg.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.15},children:E.jsxs(lT,{location:a,children:[E.jsx(hn,{path:"/",element:E.jsx(_B,{})}),e==="user"&&E.jsxs(E.Fragment,{children:[E.jsx(hn,{path:"/check-in",element:E.jsx(SB,{})}),E.jsx(hn,{path:"/diet",element:E.jsx(bB,{})}),E.jsx(hn,{path:"/calories",element:E.jsx($V,{})})," ",E.jsx(hn,{path:"/CheckInHistory",element:E.jsx(QE,{})}),E.jsx(hn,{path:"/EditProfile",element:E.jsx(h6,{})})]}),e==="admin"&&E.jsxs(E.Fragment,{children:[E.jsx(hn,{path:"/admin",element:E.jsx(QV,{})}),E.jsx(hn,{path:"/CheckInHistory",element:E.jsx(QE,{})})]}),E.jsx(hn,{path:"/login",element:E.jsx(oT,{to:"/",replace:!0})})]})},a.pathname)})]}),E.jsx("div",{style:{position:"absolute",top:0,right:n?0:"-100%",height:"100%",width:"80%",backgroundColor:"white",transition:"right 0.25s ease-in-out",zIndex:2,overflowY:"auto",WebkitOverflowScrolling:"touch",boxShadow:"-2px 0 8px rgba(0,0,0,0.2)"},children:e==="admin"?E.jsx(f6,{onClose:()=>s(!1)}):E.jsx(c6,{onClose:()=>s(!1)})})]})}function m6(){const[t,e]=C.useState(null),[n,s]=C.useState(null),[a,l]=C.useState(!0),[c,h]=C.useState(!1),d=_i(sa),p=er(sa);return C.useEffect(()=>{const g=Vm(d,async y=>{if(y){e(y);try{const v=wt(p,`users/${y.uid}/role`),T=await Js(v);s(T.exists()?T.val():"user")}catch{s("user")}}else e(null),s(null);h(!1),l(!1)});return()=>g()},[]),a?E.jsx("div",{style:{textAlign:"center",paddingTop:"50px"},children:"Loading..."}):E.jsx(CO,{children:t?E.jsx(p6,{user:t,role:n,showProfile:c,setShowProfile:h}):E.jsxs(lT,{children:[E.jsx(hn,{path:"/login",element:E.jsx(ZV,{})}),E.jsx(hn,{path:"*",element:E.jsx(oT,{to:"/login",replace:!0})})]})})}hN.createRoot(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(m6,{})}));
